/*! For license information please see Sentimentalist.bundle.js.LICENSE.txt */
var Sentimentalist;(()=>{var e={3562:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCurve=t.getHash=void 0;const n=r(9615),i=r(9175),s=r(1705);function a(e){return{hash:e,hmac:(t,...r)=>(0,n.hmac)(e,t,(0,i.concatBytes)(...r)),randomBytes:i.randomBytes}}t.getHash=a,t.createCurve=function(e,t){const r=t=>(0,s.weierstrass)({...e,...a(t)});return Object.freeze({...r(t),create:r})}},2422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateBasic=t.wNAF=void 0;const n=r(4967),i=r(1484),s=BigInt(0),a=BigInt(1);t.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>s;)r&a&&(n=n.add(i)),i=i.double(),r>>=a;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),s=[];let a=e,o=a;for(let e=0;e<r;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:c}=n(t);let u=e.ZERO,l=e.BASE;const d=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<o;e++){const t=e*c;let n=Number(s&d);s>>=f,n>c&&(n-=h,s+=a);const o=t,p=t+Math.abs(n)-1,y=e%2!=0,g=n<0;0===n?l=l.add(r(y,i[o])):u=u.add(r(g,i[p]))}return{p:u,f:l}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}},t.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},1761:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHasher=t.isogenyMap=t.hash_to_field=t.expand_message_xof=t.expand_message_xmd=void 0;const n=r(4967),i=r(1484),s=i.bytesToNumberBE;function a(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function o(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function c(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function u(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function l(e,t,r,n){c(e),c(t),u(r),t.length>255&&(t=n((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:l}=n,d=Math.ceil(r/s);if(d>255)throw new Error("Invalid xmd length");const h=(0,i.concatBytes)(t,a(t.length,1)),f=a(0,l),p=a(r,2),y=new Array(d),g=n((0,i.concatBytes)(f,e,p,a(0,1),h));y[0]=n((0,i.concatBytes)(g,a(1,1),h));for(let e=1;e<=d;e++){const t=[o(g,y[e-1]),a(e+1,1),h];y[e]=n((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...y).slice(0,r)}function d(e,t,r,n,s){if(c(e),c(t),u(r),t.length>255){const e=Math.ceil(2*n/8);t=s.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(a(r,2)).update(t).update(a(t.length,1)).digest()}function h(e,t,r){(0,i.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:a,k:o,m:h,hash:f,expand:p,DST:y}=r;c(e),u(t);const g=function(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return(0,i.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}(y),m=a.toString(2).length,b=Math.ceil((m+o)/8),w=t*h*b;let v;if("xmd"===p)v=l(e,g,w,f);else if("xof"===p)v=d(e,g,w,o,f);else{if("_internal_pass"!==p)throw new Error('expand must be "xmd" or "xof"');v=e}const A=new Array(t);for(let e=0;e<t;e++){const t=new Array(h);for(let r=0;r<h;r++){const i=b*(r+e*h),o=v.subarray(i,i+b);t[r]=(0,n.mod)(s(o),a)}A[e]=t}return A}t.expand_message_xmd=l,t.expand_message_xof=d,t.hash_to_field=h,t.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[i,s,a,o]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(i,s),n=e.mul(n,e.div(a,o)),{x:t,y:n}}},t.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=h(n,2,{...r,DST:r.DST,...i}),a=e.fromAffine(t(s[0])),o=e.fromAffine(t(s[1])),c=a.add(o).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const s=h(n,1,{...r,DST:r.encodeDST,...i}),a=e.fromAffine(t(s[0])).clearCofactor();return a.assertValidity(),a}}}},4967:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapHashToField=t.getMinHashLength=t.getFieldBytesLength=t.hashToPrivateScalar=t.FpSqrtEven=t.FpSqrtOdd=t.Field=t.nLength=t.FpIsSquare=t.FpDiv=t.FpInvertBatch=t.FpPow=t.validateField=t.isNegativeLE=t.FpSqrt=t.tonelliShanks=t.invert=t.pow2=t.pow=t.mod=void 0;const n=r(1484),i=BigInt(0),s=BigInt(1),a=BigInt(2),o=BigInt(3),c=BigInt(4),u=BigInt(5),l=BigInt(8);function d(e,t){const r=e%t;return r>=i?r:t+r}function h(e,t,r){if(r<=i||t<i)throw new Error("Expected power/modulo > 0");if(r===s)return i;let n=s;for(;t>i;)t&s&&(n=n*e%r),e=e*e%r,t>>=s;return n}function f(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d(e,t),n=t,a=i,o=s,c=s,u=i;for(;r!==i;){const e=n/r,t=n%r,i=a-c*e,s=o-u*e;n=r,r=t,a=c,o=u,c=i,u=s}if(n!==s)throw new Error("invert: does not exist");return d(a,t)}function p(e){const t=(e-s)/a;let r,n,o;for(r=e-s,n=0;r%a===i;r/=a,n++);for(o=a;o<e&&h(o,t,e)!==e-s;o++);if(1===n){const t=(e+s)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const u=(r+s)/a;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,o),r),l=e.pow(i,u),d=e.pow(i,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,s<<BigInt(a-t-1));c=e.sqr(r),l=e.mul(l,r),d=e.mul(d,c),a=t}return l}}function y(e){if(e%c===o){const t=(e+s)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%l===u){const t=(e-u)/l;return function(e,r){const n=e.mul(r,a),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,a),i),c=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return p(e)}BigInt(9),BigInt(16),t.mod=d,t.pow=h,t.pow2=function(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n},t.invert=f,t.tonelliShanks=p,t.FpSqrt=y,t.isNegativeLE=(e,t)=>(d(e,t)&s)===s;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function m(e,t,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return e.ONE;if(r===s)return t;let n=e.ONE,a=t;for(;r>i;)r&s&&(n=e.mul(n,a)),a=e.sqr(a),r>>=s;return n}function b(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}function w(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function v(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function A(e){const t=v(e);return t+Math.ceil(t/2)}t.validateField=function(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)},t.FpPow=m,t.FpInvertBatch=b,t.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?f(r,e.ORDER):e.inv(r))},t.FpIsSquare=function(e){const t=(e.ORDER-s)/a;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},t.nLength=w,t.Field=function(e,t,r=!1,a={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:c}=w(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=y(e),l=Object.freeze({ORDER:e,BITS:o,BYTES:c,MASK:(0,n.bitMask)(o),ZERO:i,ONE:s,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&s)===s,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>m(l,e,t),div:(t,r)=>d(t*f(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>f(t,e),sqrt:a.sqrt||(e=>u(l,e)),invertBatch:e=>b(l,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,c):(0,n.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(l)},t.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},t.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},t.hashToPrivateScalar=function(e,t,r=!1){const i=(e=(0,n.ensureBytes)("privateHash",e)).length,a=w(t).nByteLength+8;if(a<24||i<a||i>1024)throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${i}`);return d(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-s)+s},t.getFieldBytesLength=v,t.getMinHashLength=A,t.mapHashToField=function(e,t,r=!1){const i=e.length,a=v(t),o=A(t);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);const c=d(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-s)+s;return r?(0,n.numberToBytesLE)(c,a):(0,n.numberToBytesBE)(c,a)}},1484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateObject=t.createHmacDrbg=t.bitMask=t.bitSet=t.bitGet=t.bitLen=t.utf8ToBytes=t.equalBytes=t.concatBytes=t.ensureBytes=t.numberToVarBytesBE=t.numberToBytesLE=t.numberToBytesBE=t.bytesToNumberLE=t.bytesToNumberBE=t.hexToBytes=t.hexToNumber=t.numberToHexUnpadded=t.bytesToHex=void 0;const r=BigInt(0),n=BigInt(1),i=BigInt(2),s=e=>e instanceof Uint8Array,a=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function o(e){if(!s(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=a[e[r]];return t}function c(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function u(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function l(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[t]=s}return r}function d(e,t){return l(e.toString(16).padStart(2*t,"0"))}function h(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!s(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}t.bytesToHex=o,t.numberToHexUnpadded=c,t.hexToNumber=u,t.hexToBytes=l,t.bytesToNumberBE=function(e){return u(o(e))},t.bytesToNumberLE=function(e){if(!s(e))throw new Error("Uint8Array expected");return u(o(Uint8Array.from(e).reverse()))},t.numberToBytesBE=d,t.numberToBytesLE=function(e,t){return d(e,t).reverse()},t.numberToVarBytesBE=function(e){return l(c(e))},t.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=l(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!s(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n},t.concatBytes=h,t.equalBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},t.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},t.bitLen=function(e){let t;for(t=0;e>r;e>>=n,t+=1);return t},t.bitGet=function(e,t){return e>>BigInt(t)&n},t.bitSet=(e,t,i)=>e|(i?n:r)<<BigInt(t),t.bitMask=e=>(i<<BigInt(e-1))-n;const f=e=>new Uint8Array(e),p=e=>Uint8Array.from(e);t.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=f(e),i=f(e),s=0;const a=()=>{n.fill(1),i.fill(0),s=0},o=(...e)=>r(i,n,...e),c=(e=f())=>{i=o(p([0]),e),n=o(),0!==e.length&&(i=o(p([1]),e),n=o())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=o();const t=n.slice();r.push(t),e+=n.length}return h(...r)};return(e,t)=>{let r;for(a(),c(e);!(r=t(u()));)c();return a(),r}};const y={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};t.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const i=y[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=e[t];if(!(n&&void 0===s||i(s,e)))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}},1705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;const n=r(4967),i=r(1484),s=r(1484),a=r(2422),{bytesToNumberBE:o,hexToBytes:c}=i;t.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:r}=t.DER;if(e.length<2||2!==e[0])throw new r("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:o(i),l:e.subarray(n+2)}},toSig(e){const{Err:r}=t.DER,n="string"==typeof e?c(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let i=n.length;if(i<2||48!=n[0])throw new r("Invalid signature tag");if(n[1]!==i-2)throw new r("Invalid signature: incorrect length");const{d:s,l:a}=t.DER._parseInt(n.subarray(2)),{d:o,l:u}=t.DER._parseInt(a);if(u.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,a=i.length/2,o=r(s),c=r(a);return`30${r(a+s+4)}02${c}${i}02${o}${n}`}};const u=BigInt(0),l=BigInt(1),d=BigInt(2),h=BigInt(3),f=BigInt(4);function p(e){const t=function(e){const t=(0,a.validateBasic)(e);i.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=t;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,o=t.toBytes||((e,t,n)=>{const s=t.toAffine();return i.concatBytes(Uint8Array.from([4]),r.toBytes(s.x),r.toBytes(s.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function d(e){const{a:n,b:i}=t,s=r.sqr(e),a=r.mul(s,e);return r.add(r.add(a,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),d(t.Gx)))throw new Error("bad generator point: equation left != right");function f(e){return"bigint"==typeof e&&u<e&&e<t.n}function p(e){if(!f(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(e){const{allowedPrivateKeyLengths:r,nByteLength:a,wrapPrivateKey:o,n:c}=t;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=i.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*a,"0")}let u;try{u="bigint"==typeof e?e:i.bytesToNumberBE((0,s.ensureBytes)("private key",e,a))}catch(t){throw new Error(`private key must be ${a} bytes, hex or bigint, not ${typeof e}`)}return o&&(u=n.mod(u,c)),p(u),u}const g=new Map;function m(e){if(!(e instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof b)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?b.ZERO:new b(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(b.fromAffine)}static fromHex(e){const t=b.fromAffine(c((0,s.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return b.BASE.multiply(y(e))}_setWindowSize(e){this._WINDOW_SIZE=e,g.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=d(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){m(e);const{px:t,py:n,pz:i}=this,{px:s,py:a,pz:o}=e,c=r.eql(r.mul(t,o),r.mul(s,i)),u=r.eql(r.mul(n,o),r.mul(a,i));return c&&u}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,h),{px:s,py:a,pz:o}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,d=r.mul(s,s),f=r.mul(a,a),p=r.mul(o,o),y=r.mul(s,a);return y=r.add(y,y),l=r.mul(s,o),l=r.add(l,l),c=r.mul(e,l),u=r.mul(i,p),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(y,c),l=r.mul(i,l),p=r.mul(e,p),y=r.sub(d,p),y=r.mul(e,y),y=r.add(y,l),l=r.add(d,d),d=r.add(l,d),d=r.add(d,p),d=r.mul(d,y),u=r.add(u,d),p=r.mul(a,o),p=r.add(p,p),d=r.mul(p,y),c=r.sub(c,d),l=r.mul(p,f),l=r.add(l,l),l=r.add(l,l),new b(c,u,l)}add(e){m(e);const{px:n,py:i,pz:s}=this,{px:a,py:o,pz:c}=e;let u=r.ZERO,l=r.ZERO,d=r.ZERO;const f=t.a,p=r.mul(t.b,h);let y=r.mul(n,a),g=r.mul(i,o),w=r.mul(s,c),v=r.add(n,i),A=r.add(a,o);v=r.mul(v,A),A=r.add(y,g),v=r.sub(v,A),A=r.add(n,s);let k=r.add(a,c);return A=r.mul(A,k),k=r.add(y,w),A=r.sub(A,k),k=r.add(i,s),u=r.add(o,c),k=r.mul(k,u),u=r.add(g,w),k=r.sub(k,u),d=r.mul(f,A),u=r.mul(p,w),d=r.add(u,d),u=r.sub(g,d),d=r.add(g,d),l=r.mul(u,d),g=r.add(y,y),g=r.add(g,y),w=r.mul(f,w),A=r.mul(p,A),g=r.add(g,w),w=r.sub(y,w),w=r.mul(f,w),A=r.add(A,w),y=r.mul(g,A),l=r.add(l,y),y=r.mul(k,A),u=r.mul(v,u),u=r.sub(u,y),y=r.mul(v,g),d=r.mul(k,d),d=r.add(d,y),new b(u,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(b.ZERO)}wNAF(e){return v.wNAFCached(this,g,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(b.fromAffine)}))}multiplyUnsafe(e){const n=b.ZERO;if(e===u)return n;if(p(e),e===l)return this;const{endo:i}=t;if(!i)return v.unsafeLadder(this,e);let{k1neg:s,k1:a,k2neg:o,k2:c}=i.splitScalar(e),d=n,h=n,f=this;for(;a>u||c>u;)a&l&&(d=d.add(f)),c&l&&(h=h.add(f)),f=f.double(),a>>=l,c>>=l;return s&&(d=d.negate()),o&&(h=h.negate()),h=new b(r.mul(h.px,i.beta),h.py,h.pz),d.add(h)}multiply(e){p(e);let n,i,s=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:o,k2:c}=a.splitScalar(s);let{p:u,f:l}=this.wNAF(t),{p:d,f:h}=this.wNAF(c);u=v.constTimeNegate(e,u),d=v.constTimeNegate(o,d),d=new b(r.mul(d.px,a.beta),d.py,d.pz),n=u.add(d),i=l.add(h)}else{const{p:e,f:t}=this.wNAF(s);n=e,i=t}return b.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=b.BASE,i=(e,t)=>t!==u&&t!==l&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){const{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));const a=r.mul(t,e),o=r.mul(n,e),c=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===l)return!0;if(r)return r(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===l?this:r?r(b,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),o(b,this,e)}toHex(e=!0){return i.bytesToHex(this.toRawBytes(e))}}b.BASE=new b(t.Gx,t.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const w=t.nBitLength,v=(0,a.wNAF)(b,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:y,weierstrassEquation:d,isWithinCurveOrder:f}}function y(e,t){const r=e.ORDER;let n=u;for(let e=r-l;e%d===u;e/=d)n+=l;const i=n,s=d<<i-l-l,a=s*d,o=(r-l)/a,c=(o-l)/d,p=a-l,y=s,g=e.pow(t,o),m=e.pow(t,(o+l)/d);let b=(t,r)=>{let n=g,s=e.pow(r,p),a=e.sqr(s);a=e.mul(a,r);let o=e.mul(t,a);o=e.pow(o,c),o=e.mul(o,s),s=e.mul(o,r),a=e.mul(o,t);let u=e.mul(a,s);o=e.pow(u,y);let h=e.eql(o,e.ONE);s=e.mul(a,m),o=e.mul(u,n),a=e.cmov(s,a,h),u=e.cmov(o,u,h);for(let t=i;t>l;t--){let r=t-d;r=d<<r-l;let i=e.pow(u,r);const o=e.eql(i,e.ONE);s=e.mul(a,n),n=e.mul(n,n),i=e.mul(u,n),a=e.cmov(s,a,o),u=e.cmov(i,u,o)}return{isValid:h,value:a}};if(e.ORDER%f===h){const r=(e.ORDER-h)/f,n=e.sqrt(e.neg(t));b=(t,i)=>{let s=e.sqr(i);const a=e.mul(t,i);s=e.mul(s,a);let o=e.pow(s,r);o=e.mul(o,a);const c=e.mul(o,n),u=e.mul(e.sqr(o),i),l=e.eql(u,t);return{isValid:l,value:e.cmov(c,o,l)}}}return b}t.weierstrassPoints=p,t.weierstrass=function(e){const r=function(e){const t=(0,a.validateBasic)(e);return i.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:o,n:c}=r,d=o.BYTES+1,h=2*o.BYTES+1;function f(e){return n.mod(e,c)}function y(e){return n.invert(e,c)}const{ProjectivePoint:g,normPrivateKeyToScalar:m,weierstrassEquation:b,isWithinCurveOrder:w}=p({...r,toBytes(e,t,r){const n=t.toAffine(),s=o.toBytes(n.x),a=i.concatBytes;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),s):a(Uint8Array.from([4]),s,o.toBytes(n.y))},fromBytes(e){const t=e.length,r=e[0],n=e.subarray(1);if(t!==d||2!==r&&3!==r){if(t===h&&4===r)return{x:o.fromBytes(n.subarray(0,o.BYTES)),y:o.fromBytes(n.subarray(o.BYTES,2*o.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${d} compressed bytes or ${h} uncompressed bytes`)}{const e=i.bytesToNumberBE(n);if(!(u<(s=e)&&s<o.ORDER))throw new Error("Point is not on curve");const t=b(e);let a=o.sqrt(t);return!(1&~r)!=((a&l)===l)&&(a=o.neg(a)),{x:e,y:a}}var s}}),v=e=>i.bytesToHex(i.numberToBytesBE(e,r.nByteLength));function A(e){return e>c>>l}const k=(e,t,r)=>i.bytesToNumberBE(e.slice(t,r));class _{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const t=r.nByteLength;return e=(0,s.ensureBytes)("compactSignature",e,2*t),new _(k(e,0,t),k(e,t,2*t))}static fromDER(e){const{r,s:n}=t.DER.toSig((0,s.ensureBytes)("DER",e));return new _(r,n)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new _(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:n,recovery:i}=this,a=x((0,s.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const c=2===i||3===i?t+r.n:t;if(c>=o.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&i?"03":"02",l=g.fromHex(u+v(c)),d=y(c),h=f(-a*d),p=f(n*d),m=g.BASE.multiplyAndAddUnsafe(l,h,p);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return i.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return i.hexToBytes(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const P={isValidPrivateKey(e){try{return m(e),!0}catch(e){return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const e=n.getMinHashLength(r.n);return n.mapHashToField(r.randomBytes(e),r.n)},precompute:(e=8,t=g.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function E(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===d||n===h:r?n===2*d||n===2*h:e instanceof g}const S=r.bits2int||function(e){const t=i.bytesToNumberBE(e),n=8*e.length-r.nBitLength;return n>0?t>>BigInt(n):t},x=r.bits2int_modN||function(e){return f(S(e))},C=i.bitMask(r.nBitLength);function B(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(u<=e&&e<C))throw new Error(`bigint expected < 2^${r.nBitLength}`);return i.numberToBytesBE(e,r.nByteLength)}const O={lowS:r.lowS,prehash:!1},R={lowS:r.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return g.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(E(e))throw new Error("first arg must be private key");if(!E(t))throw new Error("second arg must be public key");return g.fromHex(t).multiply(m(e)).toRawBytes(r)},sign:function(e,t,n=O){const{seed:a,k2sig:c}=function(e,t,n=O){if(["recovered","canonical"].some((e=>e in n)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:c}=r;let{lowS:d,prehash:h,extraEntropy:p}=n;null==d&&(d=!0),e=(0,s.ensureBytes)("msgHash",e),h&&(e=(0,s.ensureBytes)("prehashed msgHash",a(e)));const b=x(e),v=m(t),k=[B(v),B(b)];if(null!=p){const e=!0===p?c(o.BYTES):p;k.push((0,s.ensureBytes)("extraEntropy",e))}const P=i.concatBytes(...k),E=b;return{seed:P,k2sig:function(e){const t=S(e);if(!w(t))return;const r=y(t),n=g.BASE.multiply(t).toAffine(),i=f(n.x);if(i===u)return;const s=f(r*f(E+i*v));if(s===u)return;let a=(n.x===i?0:2)|Number(n.y&l),o=s;return d&&A(s)&&(o=function(e){return A(e)?f(-e):e}(s),a^=1),new _(i,o,a)}}}(e,t,n),d=r;return i.createHmacDrbg(d.hash.outputLen,d.nByteLength,d.hmac)(a,c)},verify:function(e,n,i,a=R){const o=e;if(n=(0,s.ensureBytes)("msgHash",n),i=(0,s.ensureBytes)("publicKey",i),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:u}=a;let l,d;try{if("string"==typeof o||o instanceof Uint8Array)try{l=_.fromDER(o)}catch(e){if(!(e instanceof t.DER.Err))throw e;l=_.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;l=new _(e,t)}}d=g.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&l.hasHighS())return!1;u&&(n=r.hash(n));const{r:h,s:p}=l,m=x(n),b=y(p),w=f(m*b),v=f(h*b),A=g.BASE.multiplyAndAddUnsafe(d,w,v)?.toAffine();return!!A&&f(A.x)===h},ProjectivePoint:g,Signature:_,utils:P}},t.SWUFpSqrtRatio=y,t.mapToCurveSimpleSWU=function(e,t){if(n.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=y(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,a,o,c,u,l,d;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),a=e.add(s,e.ONE),a=e.mul(a,t.B),o=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),o=e.mul(o,t.A),s=e.sqr(a),u=e.sqr(o),c=e.mul(u,t.A),s=e.add(s,c),s=e.mul(s,a),u=e.mul(u,o),c=e.mul(u,t.B),s=e.add(s,c),l=e.mul(i,a);const{isValid:h,value:f}=r(s,u);d=e.mul(i,n),d=e.mul(d,f),l=e.cmov(l,a,h),d=e.cmov(d,f,h);const p=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),l=e.div(l,o),{x:l,y:d}}}},8510:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const n=r(2623),i=r(9175),s=r(4967),a=r(1705),o=r(1484),c=r(1761),u=r(3562),l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h=BigInt(1),f=BigInt(2),p=(e,t)=>(e+t/f)/t;function y(e){const t=l,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),c=BigInt(44),u=BigInt(88),d=e*e*e%t,h=d*d*e%t,p=(0,s.pow2)(h,r,t)*h%t,y=(0,s.pow2)(p,r,t)*h%t,m=(0,s.pow2)(y,f,t)*d%t,b=(0,s.pow2)(m,i,t)*m%t,w=(0,s.pow2)(b,a,t)*b%t,v=(0,s.pow2)(w,c,t)*w%t,A=(0,s.pow2)(v,u,t)*v%t,k=(0,s.pow2)(A,c,t)*w%t,_=(0,s.pow2)(k,r,t)*h%t,P=(0,s.pow2)(_,o,t)*b%t,E=(0,s.pow2)(P,n,t)*d%t,S=(0,s.pow2)(E,f,t);if(!g.eql(g.sqr(S),e))throw new Error("Cannot find square root");return S}const g=(0,s.Field)(l,void 0,void 0,{sqrt:y});t.secp256k1=(0,u.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-h*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,o=BigInt("0x100000000000000000000000000000000"),c=p(a*e,t),u=p(-n*e,t);let l=(0,s.mod)(e-c*r-u*i,t),f=(0,s.mod)(-c*n-u*a,t);const y=l>o,g=f>o;if(y&&(l=t-l),g&&(f=t-f),l>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:y,k1:l,k2neg:g,k2:f}}}},n.sha256);const m=BigInt(0),b=e=>"bigint"==typeof e&&m<e&&e<l,w={};function v(e,...t){let r=w[e];if(void 0===r){const t=(0,n.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,o.concatBytes)(t,t),w[e]=r}return(0,n.sha256)((0,o.concatBytes)(r,...t))}const A=e=>e.toRawBytes(!0).slice(1),k=e=>(0,o.numberToBytesBE)(e,32),_=e=>(0,s.mod)(e,l),P=e=>(0,s.mod)(e,d),E=t.secp256k1.ProjectivePoint;function S(e){let r=t.secp256k1.utils.normPrivateKeyToScalar(e),n=E.fromPrivateKey(r);return{scalar:n.hasEvenY()?r:P(-r),bytes:A(n)}}function x(e){if(!b(e))throw new Error("bad x: need 0 < x < p");const t=_(e*e);let r=y(_(t*e+BigInt(7)));r%f!==m&&(r=_(-r));const n=new E(e,r,h);return n.assertValidity(),n}function C(...e){return P((0,o.bytesToNumberBE)(v("BIP0340/challenge",...e)))}function B(e,t,r){const n=(0,o.ensureBytes)("signature",e,64),i=(0,o.ensureBytes)("message",t),s=(0,o.ensureBytes)("publicKey",r,32);try{const e=x((0,o.bytesToNumberBE)(s)),t=(0,o.bytesToNumberBE)(n.subarray(0,32));if(!b(t))return!1;const r=(0,o.bytesToNumberBE)(n.subarray(32,64));if(!("bigint"==typeof(l=r)&&m<l&&l<d))return!1;const h=C(k(t),A(e),i),f=(a=e,c=r,u=P(-h),E.BASE.multiplyAndAddUnsafe(a,c,u));return!(!f||!f.hasEvenY()||f.toAffine().x!==t)}catch(e){return!1}var a,c,u,l}t.schnorr={getPublicKey:function(e){return S(e).bytes},sign:function(e,t,r=(0,i.randomBytes)(32)){const n=(0,o.ensureBytes)("message",e),{bytes:s,scalar:a}=S(t),c=(0,o.ensureBytes)("auxRand",r,32),u=k(a^(0,o.bytesToNumberBE)(v("BIP0340/aux",c))),l=v("BIP0340/nonce",u,s,n),d=P((0,o.bytesToNumberBE)(l));if(d===m)throw new Error("sign failed: k is zero");const{bytes:h,scalar:f}=S(d),p=C(h,s,n),y=new Uint8Array(64);if(y.set(h,0),y.set(k(P(f+p*a)),32),!B(y,n,s))throw new Error("sign: Invalid signature produced");return y},verify:B,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:x,pointToBytes:A,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:v,mod:s.mod}};const O=(()=>(0,c.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),R=(()=>(0,a.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))(),I=(()=>(0,c.createHasher)(t.secp256k1.ProjectivePoint,(e=>{const{x:t,y:r}=R(g.create(e[0]));return O(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}))();t.hashToCurve=I.hashToCurve,t.encodeToCurve=I.encodeToCurve},7557:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function o(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=i,t.hash=s,t.exists=a,t.output=o;const c={number:r,bool:n,bytes:i,hash:s,exists:a,output:o};t.default=c},915:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const n=r(7557),i=r(9175);class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:s}=this,a=(e=(0,i.toBytes)(e)).length;for(let n=0;n<a;){const o=Math.min(s-this.pos,a-n);if(o!==s)r.set(e.subarray(n,n+o),this.pos),this.pos+=o,n+=o,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;s<=a-n;n+=s)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:a}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let e=o;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+u,o,n)}(r,s-8,BigInt(8*this.length),a),this.process(r,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}t.SHA2=s},2318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function s(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:o}=i(e[s],t);[r[s],n[s]]=[a,o]}return[r,n]}t.fromBig=i,t.split=s;const a=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=a;const o=(e,t,r)=>e>>>r;t.shrSH=o;const c=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=c;const u=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=u;const l=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=l;const d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;const h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;const f=(e,t)=>t;t.rotr32H=f;const p=(e,t)=>e;t.rotr32L=p;const y=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=y;const g=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=g;const m=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=m;const b=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}t.rotlBL=b,t.add=w;const v=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=v;const A=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;t.add3H=A;const k=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=k;const _=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;t.add4H=_;const P=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=P;const E=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;t.add5H=E;const S={fromBig:i,split:s,toBig:a,shrSH:o,shrSL:c,rotrSH:u,rotrSL:l,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:y,rotlSL:g,rotlBH:m,rotlBL:b,add:w,add3L:v,add3H:A,add4L:k,add4H:_,add5H:E,add5L:P};t.default=S},5145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},9615:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const n=r(7557),i=r(9175);class s extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=s,t.hmac=(e,t,r)=>new s(e,t).update(r).digest(),t.hmac.create=(e,t)=>new s(e,t)},8941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const n=r(7557),i=r(9615),s=r(9175);function a(e,t,r,a){(0,n.hash)(e);const o=(0,s.checkOpts)({dkLen:32,asyncTick:10},a),{c,dkLen:u,asyncTick:l}=o;if((0,n.number)(c),(0,n.number)(u),(0,n.number)(l),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const d=(0,s.toBytes)(t),h=(0,s.toBytes)(r),f=new Uint8Array(u),p=i.hmac.create(e,d),y=p._cloneInto().update(h);return{c,dkLen:u,asyncTick:l,DK:f,PRF:p,PRFSalt:y}}function o(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}t.pbkdf2=function(e,t,r,n){const{c:i,dkLen:c,DK:u,PRF:l,PRFSalt:d}=a(e,t,r,n);let h;const f=new Uint8Array(4),p=(0,s.createView)(f),y=new Uint8Array(l.outputLen);for(let e=1,t=0;t<c;e++,t+=l.outputLen){const r=u.subarray(t,t+l.outputLen);p.setInt32(0,e,!1),(h=d._cloneInto(h)).update(f).digestInto(y),r.set(y.subarray(0,r.length));for(let e=1;e<i;e++){l._cloneInto(h).update(y).digestInto(y);for(let e=0;e<r.length;e++)r[e]^=y[e]}}return o(l,d,u,h,y)},t.pbkdf2Async=async function(e,t,r,n){const{c:i,dkLen:c,asyncTick:u,DK:l,PRF:d,PRFSalt:h}=a(e,t,r,n);let f;const p=new Uint8Array(4),y=(0,s.createView)(p),g=new Uint8Array(d.outputLen);for(let e=1,t=0;t<c;e++,t+=d.outputLen){const r=l.subarray(t,t+d.outputLen);y.setInt32(0,e,!1),(f=h._cloneInto(f)).update(p).digestInto(g),r.set(g.subarray(0,r.length)),await(0,s.asyncLoop)(i-1,u,(()=>{d._cloneInto(f).update(g).digestInto(g);for(let e=0;e<r.length;e++)r[e]^=g[e]}))}return o(d,h,l,f,g)}},3238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=t.RIPEMD160=void 0;const n=r(915),i=r(9175),s=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),a=Uint8Array.from({length:16},((e,t)=>t));let o=[a],c=[a.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[o,c])t.push(t[e].map((e=>s[e])));const u=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),l=o.map(((e,t)=>e.map((e=>u[t][e])))),d=c.map(((e,t)=>e.map((e=>u[t][e])))),h=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),f=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),p=(e,t)=>e<<t|e>>>32-t;function y(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const g=new Uint32Array(16);class m extends n.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)g[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,s=i,a=0|this.h2,u=a,m=0|this.h3,b=m,w=0|this.h4,v=w;for(let e=0;e<5;e++){const t=4-e,A=h[e],k=f[e],_=o[e],P=c[e],E=l[e],S=d[e];for(let t=0;t<16;t++){const n=p(r+y(e,i,a,m)+g[_[t]]+A,E[t])+w|0;r=w,w=m,m=0|p(a,10),a=i,i=n}for(let e=0;e<16;e++){const r=p(n+y(t,s,u,b)+g[P[e]]+k,S[e])+v|0;n=v,v=b,b=0|p(u,10),u=s,s=r}}this.set(this.h1+a+b|0,this.h2+m+v|0,this.h3+w+n|0,this.h4+r+s|0,this.h0+i+u|0)}roundClean(){g.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}t.RIPEMD160=m,t.ripemd160=(0,i.wrapConstructor)((()=>new m))},5663:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scryptAsync=t.scrypt=void 0;const n=r(7557),i=r(2623),s=r(8941),a=r(9175),o=(e,t)=>e<<t|e>>>32-t;function c(e,t,r,n,i,s){let a=e[t++]^r[n++],c=e[t++]^r[n++],u=e[t++]^r[n++],l=e[t++]^r[n++],d=e[t++]^r[n++],h=e[t++]^r[n++],f=e[t++]^r[n++],p=e[t++]^r[n++],y=e[t++]^r[n++],g=e[t++]^r[n++],m=e[t++]^r[n++],b=e[t++]^r[n++],w=e[t++]^r[n++],v=e[t++]^r[n++],A=e[t++]^r[n++],k=e[t++]^r[n++],_=a,P=c,E=u,S=l,x=d,C=h,B=f,O=p,R=y,I=g,T=m,M=b,N=w,D=v,U=A,j=k;for(let e=0;e<8;e+=2)x^=o(_+N|0,7),R^=o(x+_|0,9),N^=o(R+x|0,13),_^=o(N+R|0,18),I^=o(C+P|0,7),D^=o(I+C|0,9),P^=o(D+I|0,13),C^=o(P+D|0,18),U^=o(T+B|0,7),E^=o(U+T|0,9),B^=o(E+U|0,13),T^=o(B+E|0,18),S^=o(j+M|0,7),O^=o(S+j|0,9),M^=o(O+S|0,13),j^=o(M+O|0,18),P^=o(_+S|0,7),E^=o(P+_|0,9),S^=o(E+P|0,13),_^=o(S+E|0,18),B^=o(C+x|0,7),O^=o(B+C|0,9),x^=o(O+B|0,13),C^=o(x+O|0,18),M^=o(T+I|0,7),R^=o(M+T|0,9),I^=o(R+M|0,13),T^=o(I+R|0,18),N^=o(j+U|0,7),D^=o(N+j|0,9),U^=o(D+N|0,13),j^=o(U+D|0,18);i[s++]=a+_|0,i[s++]=c+P|0,i[s++]=u+E|0,i[s++]=l+S|0,i[s++]=d+x|0,i[s++]=h+C|0,i[s++]=f+B|0,i[s++]=p+O|0,i[s++]=y+R|0,i[s++]=g+I|0,i[s++]=m+T|0,i[s++]=b+M|0,i[s++]=w+N|0,i[s++]=v+D|0,i[s++]=A+U|0,i[s++]=k+j|0}function u(e,t,r,n,i){let s=n+0,a=n+16*i;for(let n=0;n<16;n++)r[a+n]=e[t+16*(2*i-1)+n];for(let n=0;n<i;n++,s+=16,t+=16)c(r,a,e,t,r,s),n>0&&(a+=16),c(r,s,e,t+=16,r,a)}function l(e,t,r){const o=(0,a.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:c,r:u,p:l,dkLen:d,asyncTick:h,maxmem:f,onProgress:p}=o;if((0,n.number)(c),(0,n.number)(u),(0,n.number)(l),(0,n.number)(d),(0,n.number)(h),(0,n.number)(f),void 0!==p&&"function"!=typeof p)throw new Error("progressCb should be function");const y=128*u,g=y/4;if(c<=1||c&c-1||c>=2**(y/8)||c>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(l<0||l>137438953440/y)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(d<0||d>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const m=y*(c+l);if(m>f)throw new Error(`Scrypt: parameters too large, ${m} (128 * r * (N + p)) > ${f} (maxmem)`);const b=(0,s.pbkdf2)(i.sha256,e,t,{c:1,dkLen:y*l}),w=(0,a.u32)(b),v=(0,a.u32)(new Uint8Array(y*c)),A=(0,a.u32)(new Uint8Array(y));let k=()=>{};if(p){const e=2*c*l,t=Math.max(Math.floor(e/1e4),1);let r=0;k=()=>{r++,!p||r%t&&r!==e||p(r/e)}}return{N:c,r:u,p:l,dkLen:d,blockSize32:g,V:v,B32:w,B:b,tmp:A,blockMixCb:k,asyncTick:h}}function d(e,t,r,n,a){const o=(0,s.pbkdf2)(i.sha256,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),a.fill(0),o}t.scrypt=function(e,t,r){const{N:n,r:i,p:s,dkLen:a,blockSize32:o,V:c,B32:h,B:f,tmp:p,blockMixCb:y}=l(e,t,r);for(let e=0;e<s;e++){const t=o*e;for(let e=0;e<o;e++)c[e]=h[t+e];for(let e=0,t=0;e<n-1;e++)u(c,t,c,t+=o,i),y();u(c,(n-1)*o,h,t,i),y();for(let e=0;e<n;e++){const e=h[t+o-16]%n;for(let r=0;r<o;r++)p[r]=h[t+r]^c[e*o+r];u(p,0,h,t,i),y()}}return d(e,a,f,c,p)},t.scryptAsync=async function(e,t,r){const{N:n,r:i,p:s,dkLen:o,blockSize32:c,V:h,B32:f,B:p,tmp:y,blockMixCb:g,asyncTick:m}=l(e,t,r);for(let e=0;e<s;e++){const t=c*e;for(let e=0;e<c;e++)h[e]=f[t+e];let r=0;await(0,a.asyncLoop)(n-1,m,(()=>{u(h,r,h,r+=c,i),g()})),u(h,(n-1)*c,f,t,i),g(),await(0,a.asyncLoop)(n,m,(()=>{const e=f[t+c-16]%n;for(let r=0;r<c;r++)y[r]=f[t+r]^h[e*c+r];u(y,0,f,t,i),g()}))}return d(e,o,p,h,y)}},2623:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const n=r(915),i=r(9175),s=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],r=c[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;c[e]=s+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:o,D:u,E:l,F:d,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+((p=l)&d^~p&h)+a[e]+c[e]|0,y=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+s(r,n,o)|0;f=h,h=d,d=l,l=u+t|0,u=o,o=n,n=r,r=t+y|0}var p;r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,n,o,u,l,d,h,f)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new u)),t.sha224=(0,i.wrapConstructor)((()=>new l))},2955:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=t.keccakP=void 0;const n=r(7557),i=r(2318),s=r(9175),[a,o,c]=[[],[],[]],u=BigInt(0),l=BigInt(1),d=BigInt(2),h=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=l,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],a.push(2*(5*n+r)),o.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<l^(t>>h)*p)%f,t&d&&(i^=l<<(l<<BigInt(e))-l);c.push(i)}const[y,g]=(0,i.split)(c,!0),m=(e,t,r)=>r>32?(0,i.rotlBH)(e,t,r):(0,i.rotlSH)(e,t,r),b=(e,t,r)=>r>32?(0,i.rotlBL)(e,t,r):(0,i.rotlSL)(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=m(s,a,1)^r[n],c=b(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=o[r],s=m(t,i,n),c=b(t,i,n),u=a[r];t=e[u],i=e[u+1],e[u]=s,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=y[n],e[1]^=g[n]}r.fill(0)}t.keccakP=w;class v extends s.Hash{constructor(e,t,r,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){w(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);const{blockLen:t,state:r}=this,i=(e=(0,s.toBytes)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new v(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}t.Keccak=v;const A=(e,t,r)=>(0,s.wrapConstructor)((()=>new v(t,e,r)));t.sha3_224=A(6,144,28),t.sha3_256=A(6,136,32),t.sha3_384=A(6,104,48),t.sha3_512=A(6,72,64),t.keccak_224=A(1,144,28),t.keccak_256=A(1,136,32),t.keccak_384=A(1,104,48),t.keccak_512=A(1,72,64);const k=(e,t,r)=>(0,s.wrapXOFConstructorWithOpts)(((n={})=>new v(t,e,void 0===n.dkLen?r:n.dkLen,!0)));t.shake128=k(31,168,16),t.shake256=k(31,136,32)},102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const n=r(915),i=r(2318),s=r(9175),[a,o]=(()=>i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),c=new Uint32Array(80),u=new Uint32Array(80);class l extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,a,o,c,u,l,d,h,f,p,y]}set(e,t,r,n,i,s,a,o,c,u,l,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t),u[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],r=0|u[e-15],n=i.default.rotrSH(t,r,1)^i.default.rotrSH(t,r,8)^i.default.shrSH(t,r,7),s=i.default.rotrSL(t,r,1)^i.default.rotrSL(t,r,8)^i.default.shrSL(t,r,7),a=0|c[e-2],o=0|u[e-2],l=i.default.rotrSH(a,o,19)^i.default.rotrBH(a,o,61)^i.default.shrSH(a,o,6),d=i.default.rotrSL(a,o,19)^i.default.rotrBL(a,o,61)^i.default.shrSL(a,o,6),h=i.default.add4L(s,d,u[e-7],u[e-16]),f=i.default.add4H(h,n,l,c[e-7],c[e-16]);c[e]=0|f,u[e]=0|h}let{Ah:r,Al:n,Bh:s,Bl:l,Ch:d,Cl:h,Dh:f,Dl:p,Eh:y,El:g,Fh:m,Fl:b,Gh:w,Gl:v,Hh:A,Hl:k}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(y,g,14)^i.default.rotrSH(y,g,18)^i.default.rotrBH(y,g,41),_=i.default.rotrSL(y,g,14)^i.default.rotrSL(y,g,18)^i.default.rotrBL(y,g,41),P=y&m^~y&w,E=g&b^~g&v,S=i.default.add5L(k,_,E,o[e],u[e]),x=i.default.add5H(S,A,t,P,a[e],c[e]),C=0|S,B=i.default.rotrSH(r,n,28)^i.default.rotrBH(r,n,34)^i.default.rotrBH(r,n,39),O=i.default.rotrSL(r,n,28)^i.default.rotrBL(r,n,34)^i.default.rotrBL(r,n,39),R=r&s^r&d^s&d,I=n&l^n&h^l&h;A=0|w,k=0|v,w=0|m,v=0|b,m=0|y,b=0|g,({h:y,l:g}=i.default.add(0|f,0|p,0|x,0|C)),f=0|d,p=0|h,d=0|s,h=0|l,s=0|r,l=0|n;const T=i.default.add3L(C,O,I);r=i.default.add3H(T,x,B,R),n=0|T}({h:r,l:n}=i.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l}=i.default.add(0|this.Bh,0|this.Bl,0|s,0|l)),({h:d,l:h}=i.default.add(0|this.Ch,0|this.Cl,0|d,0|h)),({h:f,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:y,l:g}=i.default.add(0|this.Eh,0|this.El,0|y,0|g)),({h:m,l:b}=i.default.add(0|this.Fh,0|this.Fl,0|m,0|b)),({h:w,l:v}=i.default.add(0|this.Gh,0|this.Gl,0|w,0|v)),({h:A,l:k}=i.default.add(0|this.Hh,0|this.Hl,0|A,0|k)),this.set(r,n,s,l,d,h,f,p,y,g,m,b,w,v,A,k)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class d extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class f extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,s.wrapConstructor)((()=>new l)),t.sha512_224=(0,s.wrapConstructor)((()=>new d)),t.sha512_256=(0,s.wrapConstructor)((()=>new h)),t.sha384=(0,s.wrapConstructor)((()=>new f))},9175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const n=r(5145),i=e=>e instanceof Uint8Array;if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function a(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function o(e){if("string"==typeof e&&(e=a(e)),!i(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.bytesToHex=function(e){if(!i(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[t]=s}return r},t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=a,t.toBytes=o,t.concatBytes=function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!i(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t},t.Hash=class{clone(){return this._cloneInto()}};const c={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==c.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(o(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(o(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},7007:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,s,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,s,a,u;if(o(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)n(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,a;if(o(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},3876:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>on});var n,i=r(5735),s=r.n(i),a=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));const d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&c.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r},h=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return d(n)};var f,p=r(4655),y=r(7007),g=r.n(y),m=Function.prototype.toString,b=m.call(Object);function w(e){var t,r,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=w(e[r]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){return e instanceof ArrayBuffer?e.slice(0):e.slice(0,e.size,e.type)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&m.call(r)==b}(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=w(e[r]);void 0!==i&&(t[r]=i)}return t}function v(e){var t=!1;return function(...r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)}}function A(e){return function(...t){t=w(t);var r=this,n="function"==typeof t[t.length-1]&&t.pop(),i=new Promise((function(n,i){var s;try{var a=v((function(e,t){e?i(e):n(t)}));t.push(a),(s=e.apply(r,t))&&"function"==typeof s.then&&n(s)}catch(e){i(e)}}));return n&&i.then((function(e){n(null,e)}),n),i}}function k(e,t){return A((function(...r){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return function(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],i=0;i<r.length-1;i++)n.push(r[i]);e.constructor.emit("debug",n);var s=r[r.length-1];r[r.length-1]=function(r,n){var i=["api",e.name,t];i=i.concat(r?["error",r]:["success",n]),e.constructor.emit("debug",i),s(r,n)}}}(n,e,r),this.taskqueue.isReady?t.apply(this,r):new Promise((function(t,i){n.taskqueue.addTask((function(s){s?i(s):t(n[e].apply(n,r))}))}))}))}function _(e,t){for(var r={},n=0,i=t.length;n<i;n++){var s=t[n];s in e&&(r[s]=e[s])}return r}function P(e){return e}function E(e){return[{ok:e}]}function S(e,t,r){var n=t.docs,i=new Map;n.forEach((function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])}));var s=i.size,a=0,o=new Array(s);var c=[];i.forEach((function(e,t){c.push(t)}));var u=0;!function n(){if(!(u>=c.length)){var l=Math.min(u+6,c.length),d=c.slice(u,l);!function(c,u){c.forEach((function(c,l){var d=u+l,h=i.get(c),f=_(h[0],["atts_since","attachments"]);f.open_revs=h.map((function(e){return e.rev})),f.open_revs=f.open_revs.filter(P);var p=P;0===f.open_revs.length&&(delete f.open_revs,p=E),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(f[e]=t[e])})),e.get(c,f,(function(e,t){var i,u,l,h;i=e?[{error:e}]:p(t),u=c,l=i,o[d]={id:u,docs:l},++a===s&&(h=[],o.forEach((function(e){e.docs.forEach((function(t){h.push({id:e.id,docs:[t]})}))})),r(null,{results:h})),n()}))}))}(d,u),u+=d.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),f=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){f=!1}function x(){return f}const C="function"==typeof queueMicrotask?queueMicrotask:function(e){Promise.resolve().then(e)};class B extends(g()){constructor(){super(),this._listeners={},x()&&addEventListener("storage",(e=>{this.emit(e.key)}))}addListener(e,t,r,n){if(!this._listeners[t]){var i=!1,s=this;this._listeners[t]=a,this.on(e,a)}function a(){if(s._listeners[t])if(i)i="waiting";else{i=!0;var e=_(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);r.changes(e).on("change",(function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))})).on("complete",(function(){"waiting"===i&&C(a),i=!1})).on("error",(function(){i=!1}))}}}removeListener(e,t){t in this._listeners&&(super.removeListener(e,this._listeners[t]),delete this._listeners[t])}notifyLocalWindows(e){x()&&(localStorage[e]="a"===localStorage[e]?"b":"a")}notify(e){this.emit(e),this.notifyLocalWindows(e)}}function O(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function R(e){var t=0;return e||(t=2e3),function(e,t){var r=6e5;return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>r&&(e=3e5,t=r),~~((t-e)*Math.random()+e)}(e,t)}function I(e,t){O("info","The above "+e+" is totally normal. "+t)}class T extends Error{constructor(e,t,r){super(),this.status=e,this.name=t,this.message=r,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new T(401,"unauthorized","Name or password is incorrect.");var M=new T(400,"bad_request","Missing JSON list of 'docs'"),N=new T(404,"not_found","missing"),D=new T(409,"conflict","Document update conflict"),U=new T(400,"bad_request","_id field must contain a string"),j=new T(412,"missing_id","_id is required for puts"),F=new T(400,"bad_request","Only reserved document ids may start with underscore."),K=(new T(412,"precondition_failed","Database not open"),new T(500,"unknown_error","Database encountered an unknown error")),L=new T(500,"badarg","Some query argument is invalid"),z=(new T(400,"invalid_request","Request was invalid"),new T(400,"query_parse_error","Some query parameter is invalid")),q=new T(500,"doc_validation","Bad special document member"),H=new T(400,"bad_request","Something wrong with the request"),G=new T(400,"bad_request","Document must be a JSON object"),W=(new T(404,"not_found","Database not found"),new T(500,"indexed_db_went_bad","unknown")),V=(new T(500,"web_sql_went_bad","unknown"),new T(500,"levelDB_went_went_bad","unknown"),new T(403,"forbidden","Forbidden by design doc validate_doc_update function"),new T(400,"bad_request","Invalid rev format")),J=(new T(412,"file_exists","The database could not be created, the file already exists."),new T(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Q(e,t){function r(t){for(var r=Object.getOwnPropertyNames(e),n=0,i=r.length;n<i;n++)"function"!=typeof e[r[n]]&&(this[r[n]]=e[r[n]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return r.prototype=T.prototype,new r(t)}function $(e){if("object"!=typeof e){var t=e;(e=K).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function Z(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var i=r&&function(e,t,r){try{return!e(t,r)}catch(e){var n="Filter function threw: "+e.toString();return Q(H,n)}}(e.filter,n.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var s in n.doc._attachments)Object.prototype.hasOwnProperty.call(n.doc._attachments,s)&&(n.doc._attachments[s].stub=!0)}else delete n.doc;return!0}}function Y(e){var t;if(e?"string"!=typeof e?t=Q(U):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Q(F)):t=Q(j),t)throw t}function X(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(O("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ee(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function te(e){var t=ee(e);return t?t.join("/"):null}new T(413,"invalid_url","Provided URL is invalid");var re=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ne="queryKey",ie=/(?:^|&)([^&=]*)=?([^&]*)/g,se=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function ae(e){for(var t=se.exec(e),r={},n=14;n--;){var i=re[n],s=t[n]||"",a=-1!==["user","password"].indexOf(i);r[i]=a?decodeURIComponent(s):s}return r[ne]={},r[re[12]].replace(ie,(function(e,t,n){t&&(r[ne][t]=n)})),r}function oe(e,t){var r=[],n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r.push(i),n.push(t[i]));return r.push(e),Function.apply(null,r).apply(null,n)}function ce(e,t,r){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(n){var i=n._rev,s=r(n);return s?(s._id=t,s._rev=i,function(e,t,r){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(n){if(409!==n.status)throw n;return ce(e,t._id,r)}))}(e,s,r)):{updated:!1,rev:i}}))}var ue=function(e){return atob(e)},le=function(e){return btoa(e)};function de(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}function he(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}function fe(e,t){return de([he(e)],{type:t})}function pe(e,t){return fe(ue(e),t)}function ye(e,t){var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(e){var r=e.target.result||"";if(n)return t(r);t(function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return t}(r))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function ge(e,t){ye(e,(function(e){t(e)}))}function me(e,t){ge(e,(function(e){t(le(e))}))}var be=self.setImmediate||self.setTimeout;function we(e,t,r,n,i){(r>0||n<t.size)&&(t=t.slice(r,n)),function(e,t){var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)}(t,(function(t){e.append(t),i()}))}function ve(e,t,r,n,i){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),i()}function Ae(e,t){var r="string"==typeof e,n=r?e.length:e.size,i=Math.min(32768,n),a=Math.ceil(n/i),o=0,c=r?new(s()):new(s().ArrayBuffer),u=r?ve:we;function l(){be(h)}function d(){var e,r=(e=c.end(!0),le(e));t(r),c.destroy()}function h(){var t=o*i;o++,u(c,e,t,t+i,o<a?l:d)}h()}function ke(e){return s().hash(e)}function _e(e,t){if(!t)return h().replace(/-/g,"").toLowerCase();var r=Object.assign({},e);return delete r._rev_tree,ke(JSON.stringify(r))}var Pe=h;function Ee(e){for(var t,r,n,i,s=e.rev_tree.slice();i=s.pop();){var a=i.ids,o=a[2],c=i.pos;if(o.length)for(var u=0,l=o.length;u<l;u++)s.push({pos:c+1,ids:o[u]});else{var d=!!a[1].deleted,h=a[0];t&&!(n!==d?n:r!==c?r<c:t<h)||(t=h,r=c,n=d)}}return r+"-"+t}function Se(e,t){for(var r,n=e.slice();r=n.pop();)for(var i=r.pos,s=r.ids,a=s[2],o=t(0===a.length,i,s[0],r.ctx,s[1]),c=0,u=a.length;c<u;c++)n.push({pos:i+1,ids:a[c],ctx:o})}function xe(e,t){return e.pos-t.pos}function Ce(e){var t=[];Se(e,(function(e,r,n,i,s){e&&t.push({rev:r+"-"+n,pos:r,opts:s})})),t.sort(xe).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function Be(e){for(var t=Ee(e),r=Ce(e.rev_tree),n=[],i=0,s=r.length;i<s;i++){var a=r[i];a.rev===t||a.opts.deleted||n.push(a.rev)}return n}function Oe(e){for(var t,r=[],n=e.slice();t=n.pop();){var i=t.pos,s=t.ids,a=s[0],o=s[1],c=s[2],u=0===c.length,l=t.history?t.history.slice():[];l.push({id:a,opts:o}),u&&r.push({pos:i+1-l.length,ids:l});for(var d=0,h=c.length;d<h;d++)n.push({pos:i+1,ids:c[d],history:l})}return r.reverse()}function Re(e,t){return e.pos-t.pos}function Ie(e,t,r){var n=function(e,t,r){for(var n,i=0,s=e.length;i<s;)r(e[n=i+s>>>1],t)<0?i=n+1:s=n;return i}(e,t,r);e.splice(n,0,t)}function Te(e,t){for(var r,n,i=t,s=e.length;i<s;i++){var a=e[i],o=[a.id,a.opts,[]];n?(n[2].push(o),n=o):r=n=o}return r}function Me(e,t){return e[0]<t[0]?-1:1}function Ne(e,t){for(var r=[{tree1:e,tree2:t}],n=!1;r.length>0;){var i=r.pop(),s=i.tree1,a=i.tree2;(s[1].status||a[1].status)&&(s[1].status="available"===s[1].status||"available"===a[1].status?"available":"missing");for(var o=0;o<a[2].length;o++)if(s[2][0]){for(var c=!1,u=0;u<s[2].length;u++)s[2][u][0]===a[2][o][0]&&(r.push({tree1:s[2][u],tree2:a[2][o]}),c=!0);c||(n="new_branch",Ie(s[2],a[2][o],Me))}else n="new_leaf",s[2][0]=a[2][o]}return{conflicts:n,tree:e}}function De(e,t,r){var n,i=[],s=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var o=0,c=e.length;o<c;o++){var u=e[o];if(u.pos===t.pos&&u.ids[0]===t.ids[0])n=Ne(u.ids,t.ids),i.push({pos:u.pos,ids:n.tree}),s=s||n.conflicts,a=!0;else if(!0!==r){var l=u.pos<t.pos?u:t,d=u.pos<t.pos?t:u,h=d.pos-l.pos,f=[],p=[];for(p.push({ids:l.ids,diff:h,parent:null,parentIdx:null});p.length>0;){var y=p.pop();if(0!==y.diff)for(var g=y.ids[2],m=0,b=g.length;m<b;m++)p.push({ids:g[m],diff:y.diff-1,parent:y.ids,parentIdx:m});else y.ids[0]===d.ids[0]&&f.push(y)}var w=f[0];w?(n=Ne(w.ids,d.ids),w.parent[2][w.parentIdx]=n.tree,i.push({pos:l.pos,ids:l.ids}),s=s||n.conflicts,a=!0):i.push(u)}else i.push(u)}return a||i.push(t),i.sort(Re),{tree:i,conflicts:s||"internal_node"}}function Ue(e,t,r){var n=De(e,t),i=function(e,t){for(var r,n,i=Oe(e),s=0,a=i.length;s<a;s++){var o,c=i[s],u=c.ids;if(u.length>t){r||(r={});var l=u.length-t;o={pos:c.pos+l,ids:Te(u,l)};for(var d=0;d<l;d++){var h=c.pos+d+"-"+u[d].id;r[h]=!0}}else o={pos:c.pos,ids:Te(u,0)};n=n?De(n,o,!0).tree:[o]}return r&&Se(n,(function(e,t,n){delete r[t+"-"+n]})),{tree:n,revs:r?Object.keys(r):[]}}(n.tree,r);return{tree:i.tree,stemmedRevs:i.revs,conflicts:n.conflicts}}function je(e){return e.ids}function Fe(e,t){t||(t=Ee(e));for(var r,n=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(je);r=i.pop();){if(r[0]===n)return!!r[1].deleted;i=i.concat(r[2])}}function Ke(e){return"string"==typeof e&&e.startsWith("_local/")}function Le(e,t,r){var n=[{rev:e._rev}];"all_docs"===r.style&&(n=Ce(t.rev_tree).map((function(e){return{rev:e.rev}})));var i={id:t.id,changes:n,doc:e};return Fe(t,e._rev)&&(i.deleted=!0),r.conflicts&&(i.doc._conflicts=Be(t),i.doc._conflicts.length||delete i.doc._conflicts),i}class ze extends(g()){constructor(e,t,r){super(),this.db=e;var n=(t=t?w(t):{}).complete=v(((t,r)=>{var n;t?(n="error",("listenerCount"in this?this.listenerCount(n):g().listenerCount(this,n))>0&&this.emit("error",t)):this.emit("complete",r),this.removeAllListeners(),e.removeListener("destroyed",i)}));r&&(this.on("complete",(function(e){r(null,e)})),this.on("error",r));const i=()=>{this.cancel()};e.once("destroyed",i),t.onChange=(e,t,r)=>{this.isCancelled||function(e,t,r,n){try{e.emit("change",t,r,n)}catch(e){O("error",'Error in .on("change", function):',e)}}(this,e,t,r)};var s=new Promise((function(e,r){t.complete=function(t,n){t?r(t):e(n)}}));this.once("cancel",(function(){e.removeListener("destroyed",i),t.complete(null,{status:"cancelled"})})),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then((function(e){n(null,e)}),n),e.taskqueue.isReady?this.validateChanges(t):e.taskqueue.addTask((e=>{e?t.complete(e):this.isCancelled?this.emit("cancel"):this.validateChanges(t)}))}cancel(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")}validateChanges(e){var t=e.complete;et._changesFilterPlugin?et._changesFilterPlugin.validate(e,(r=>{if(r)return t(r);this.doChanges(e)})):this.doChanges(e)}doChanges(e){var t=e.complete;if("live"in(e=w(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Le,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(et._changesFilterPlugin){if(et._changesFilterPlugin.normalize(e),et._changesFilterPlugin.shouldFilter(this,e))return et._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&O("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=t;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){const e=this.cancel;this.cancel=(...t)=>{r.cancel(),e.apply(this,t)}}}else this.db.info().then((r=>{this.isCancelled?t(null,{status:"cancelled"}):(e.since=r.update_seq,this.doChanges(e))}),t)}}function qe(e,t){return function(r,n){r||n[0]&&n[0].error?((r=r||n[0]).docId=t,e(r)):e(null,n.length?n[0]:n)}}function He(e,t){return e._id===t._id?(e._revisions?e._revisions.start:0)-(t._revisions?t._revisions.start:0):e._id<t._id?-1:1}function Ge(e){var t=e._compactionQueue[0],r=t.opts,n=t.callback;e.get("_local/compaction").catch((function(){return!1})).then((function(t){t&&t.last_seq&&(r.last_seq=t.last_seq),e._compact(r,(function(t,r){t?n(t):n(null,r),C((function(){e._compactionQueue.shift(),e._compactionQueue.length&&Ge(e)}))}))}))}function We(e,t,r){return e.get("_local/purges").then((function(e){const n=e.purgeSeq+1;return e.purges.push({docId:t,rev:r,purgeSeq:n}),e.purges.length>self.purged_infos_limit&&e.purges.splice(0,e.purges.length-self.purged_infos_limit),e.purgeSeq=n,e})).catch((function(e){if(404!==e.status)throw e;return{_id:"_local/purges",purges:[{docId:t,rev:r,purgeSeq:0}],purgeSeq:0}})).then((function(t){return e.put(t)}))}function Ve(e){return null===e||"object"!=typeof e||Array.isArray(e)}const Je=/^\d+-[^-]*$/;function Qe(e){return"string"==typeof e&&Je.test(e)}class $e extends(g()){_setup(){this.post=k("post",(function(e,t,r){if("function"==typeof t&&(r=t,t={}),Ve(e))return r(Q(G));this.bulkDocs({docs:[e]},t,qe(r,e._id))})).bind(this),this.put=k("put",(function(e,t,r){if("function"==typeof t&&(r=t,t={}),Ve(e))return r(Q(G));if(Y(e._id),"_rev"in e&&!Qe(e._rev))return r(Q(V));if(Ke(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,r):this._putLocal(e,r);const n=r=>{"function"==typeof this._put&&!1!==t.new_edits?this._put(e,t,r):this.bulkDocs({docs:[e]},t,qe(r,e._id))};var i,s,a,o;t.force&&e._rev?(s=(i=e._rev.split("-"))[1],a=parseInt(i[0],10)+1,o=_e(),e._revisions={start:a,ids:[o,s]},e._rev=a+"-"+o,t.new_edits=!1,n((function(t){var n=t?null:{ok:!0,id:e._id,rev:e._rev};r(t,n)}))):n(r)})).bind(this),this.putAttachment=k("putAttachment",(function(e,t,r,n,i){var s=this;function a(e){var r="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:n,revpos:++r},s.put(e)}return"function"==typeof i&&(i=n,n=r,r=null),void 0===i&&(i=n,n=r,r=null),i||O("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then((function(e){if(e._rev!==r)throw Q(D);return a(e)}),(function(t){if(t.reason===N.message)return a({_id:e});throw t}))})).bind(this),this.removeAttachment=k("removeAttachment",(function(e,t,r,n){this.get(e,((e,i)=>{if(e)n(e);else if(i._rev===r){if(!i._attachments)return n();delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,this.put(i,n)}else n(Q(D))}))})).bind(this),this.remove=k("remove",(function(e,t,r,n){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(i=e,"function"==typeof t?(n=t,r={}):(n=r,r=t)),(r=r||{}).was_delete=!0;var s={_id:i._id,_rev:i._rev||r.rev,_deleted:!0};if(Ke(s._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,n);this.bulkDocs({docs:[s]},r,qe(n,s._id))})).bind(this),this.revsDiff=k("revsDiff",(function(e,t,r){"function"==typeof t&&(r=t,t={});var n=Object.keys(e);if(!n.length)return r(null,{});var i=0,s=new Map;function a(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}n.forEach((function(t){this._getRevisionTree(t,(function(o,c){if(o&&404===o.status&&"missing"===o.message)s.set(t,{missing:e[t]});else{if(o)return r(o);!function(t,r){var n=e[t].slice(0);Se(r,(function(e,r,i,s,o){var c=r+"-"+i,u=n.indexOf(c);-1!==u&&(n.splice(u,1),"available"!==o.status&&a(t,c))})),n.forEach((function(e){a(t,e)}))}(t,c)}if(++i===n.length){var u={};return s.forEach((function(e,t){u[t]=e})),r(null,u)}}))}),this)})).bind(this),this.bulkGet=k("bulkGet",(function(e,t){S(this,e,t)})).bind(this),this.compactDocument=k("compactDocument",(function(e,t,r){this._getRevisionTree(e,((n,i)=>{if(n)return r(n);var s=function(e){var t={},r=[];return Se(e,(function(e,n,i,s){var a=n+"-"+i;return e&&(t[a]=0),void 0!==s&&r.push({from:s,to:a}),a})),r.reverse(),r.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(i),a=[],o=[];Object.keys(s).forEach((function(e){s[e]>t&&a.push(e)})),Se(i,(function(e,t,r,n,i){var s=t+"-"+r;"available"===i.status&&-1!==a.indexOf(s)&&o.push(s)})),this._doCompaction(e,o,r)}))})).bind(this),this.compact=k("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&Ge(this)})).bind(this),this.get=k("get",(function(e,t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},"string"!=typeof e)return r(Q(U));if(Ke(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var n=[];const i=()=>{var i=[],s=n.length;if(!s)return r(null,i);n.forEach((n=>{this.get(e,{rev:n,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)i.push({missing:n});else{for(var a,o=0,c=i.length;o<c;o++)if(i[o].ok&&i[o].ok._rev===t._rev){a=!0;break}a||i.push({ok:t})}--s||r(null,i)}))}))};if(!t.open_revs)return this._get(e,t,((n,i)=>{if(n)return n.docId=e,r(n);var s=i.doc,a=i.metadata,o=i.ctx;if(t.conflicts){var c=Be(a);c.length&&(s._conflicts=c)}if(Fe(a,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var u=s._rev.split("-"),l=parseInt(u[0],10),d=u[1],h=Oe(a.rev_tree),f=null,p=0;p<h.length;p++){var y=h[p];const e=y.ids.findIndex((e=>e.id===d));(e===l-1||!f&&-1!==e)&&(f=y)}if(!f)return(n=new Error("invalid rev tree")).docId=e,r(n);const i=s._rev.split("-")[1],o=f.ids.findIndex((e=>e.id===i))+1;var g=f.ids.length-o;if(f.ids.splice(o,g),f.ids.reverse(),t.revs&&(s._revisions={start:f.pos+f.ids.length-1,ids:f.ids.map((function(e){return e.id}))}),t.revs_info){var m=f.pos+f.ids.length;s._revs_info=f.ids.map((function(e){return{rev:--m+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&s._attachments){var b=s._attachments,w=Object.keys(b).length;if(0===w)return r(null,s);Object.keys(b).forEach((e=>{this._getAttachment(s._id,e,b[e],{binary:t.binary,metadata:a,ctx:o},(function(t,n){var i=s._attachments[e];i.data=n,delete i.stub,delete i.length,--w||r(null,s)}))}))}else{if(s._attachments)for(var v in s._attachments)Object.prototype.hasOwnProperty.call(s._attachments,v)&&(s._attachments[v].stub=!0);r(null,s)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return r(e);n=Ce(t).map((function(e){return e.rev})),i()}));else{if(!Array.isArray(t.open_revs))return r(Q(K,"function_clause"));n=t.open_revs;for(var s=0;s<n.length;s++)if(!Qe(n[s]))return r(Q(V));i()}})).bind(this),this.getAttachment=k("getAttachment",(function(e,t,r,n){r instanceof Function&&(n=r,r={}),this._get(e,r,((i,s)=>i?n(i):s.doc._attachments&&s.doc._attachments[t]?(r.ctx=s.ctx,r.binary=!0,r.metadata=s.metadata,void this._getAttachment(e,t,s.doc._attachments[t],r,n)):n(Q(N))))})).bind(this),this.allDocs=k("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(r)return void t(Q(z,"Query parameter `"+r+"` is not compatible with multi-get"));if(!X(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})).bind(this),this.close=k("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})).bind(this),this.info=k("info",(function(e){this._info(((t,r)=>{if(t)return e(t);r.db_name=r.db_name||this.name,r.auto_compaction=!(!this.auto_compaction||X(this)),r.adapter=this.adapter,e(null,r)}))})).bind(this),this.id=k("id",(function(e){return this._id(e)})).bind(this),this.bulkDocs=k("bulkDocs",(function(e,t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(Q(M));for(var n=0;n<e.docs.length;++n){const t=e.docs[n];if(Ve(t))return r(Q(G));if("_rev"in t&&!Qe(t._rev))return r(Q(V))}var i;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){i=i||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||O("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),i)return r(Q(H,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var s=this;t.new_edits||X(s)||e.docs.sort(He),function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),i=0;i<n.length;i++){var s=n[i];r._attachments[s]=_(r._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var a=e.docs.map((function(e){return e._id}));this._bulkDocs(e,t,(function(e,n){if(e)return r(e);if(t.new_edits||(n=n.filter((function(e){return e.error}))),!X(s))for(var i=0,o=n.length;i<o;i++)n[i].id=n[i].id||a[i];r(null,n)}))})).bind(this),this.registerDependentDatabase=k("registerDependentDatabase",(function(e,t){var r=w(this.__opts);this.__opts.view_adapter&&(r.adapter=this.__opts.view_adapter);var n=new this.constructor(e,r);ce(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:n})})).catch(t)})).bind(this),this.destroy=k("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var r=!("use_prefix"in this)||this.use_prefix;const n=()=>{this._destroy(e,((e,r)=>{if(e)return t(e);this._destroyed=!0,this.emit("destroyed"),t(null,r||{ok:!0})}))};if(X(this))return n();this.get("_local/_pouch_dependentDbs",((e,i)=>{if(e)return 404!==e.status?t(e):n();var s=i.dependentDbs,a=this.constructor,o=Object.keys(s).map((e=>{var t=r?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,this.__opts).destroy()}));Promise.all(o).then(n,t)}))})).bind(this)}_compact(e,t){var r,n={return_docs:!1,last_seq:e.last_seq||0,since:e.last_seq||0},i=[],s=0;const a=e=>{this.activeTasks.update(r,{completed_items:++s}),i.push(this.compactDocument(e.id,0))},o=e=>{this.activeTasks.remove(r,e),t(e)},c=e=>{var n=e.last_seq;Promise.all(i).then((()=>ce(this,"_local/compaction",(e=>(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e))))).then((()=>{this.activeTasks.remove(r),t(null,{ok:!0})})).catch(o)};this.info().then((e=>{r=this.activeTasks.add({name:"database_compaction",total_items:e.update_seq-n.last_seq}),this.changes(n).on("change",a).on("complete",c).on("error",o)}))}changes(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new ze(this,e,t)}type(){return"function"==typeof this._type?this._type():this.adapter}}$e.prototype.purge=k("_purge",(function(e,t,r){if(void 0===this._purge)return r(Q(K,"Purge is not implemented in the "+this.adapter+" adapter."));var n=this;n._getRevisionTree(e,((i,s)=>{if(i)return r(i);if(!s)return r(Q(N));let a;try{a=function(e,t){let r=[];const n=e.slice();let i;for(;i=n.pop();){const{pos:e,ids:s}=i,a=`${e}-${s[0]}`,o=s[2];if(r.push(a),a===t){if(0!==o.length)throw new Error("The requested revision is not a leaf");return r.reverse()}(0===o.length||o.length>1)&&(r=[]);for(let t=0,r=o.length;t<r;t++)n.push({pos:e+1,ids:o[t]})}if(0===r.length)throw new Error("The requested revision does not exist");return r.reverse()}(s,t)}catch(i){return r(i.message||i)}n._purge(e,a,((i,s)=>{if(i)return r(i);We(n,e,t).then((function(){return r(null,s)}))}))}))}));class Ze{constructor(){this.isReady=!1,this.failed=!1,this.queue=[]}execute(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()}fail(e){this.failed=e,this.execute()}ready(e){this.isReady=!0,this.db=e,this.execute()}addTask(e){this.queue.push(e),this.failed&&this.execute()}}function Ye(e,t){let r=function(...e){if(!(this instanceof r))return new r(...e);t.apply(this,e)};var n,i;return i=e,(n=r).prototype=Object.create(i.prototype,{constructor:{value:n}}),r}class Xe extends $e{constructor(e,t){super(),this._setup(e,t)}_setup(e,t){if(super._setup(),t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=w(t),this.auto_compaction=t.auto_compaction,this.purged_infos_limit=t.purged_infos_limit||1e3,this.prefix=et.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=function(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=et.adapters,i=et.preferredAdapters,s=et.prefix,a=t.adapter;if(!a)for(var o=0;o<i.length&&"idb"===(a=i[o])&&"websql"in n&&x()&&localStorage["_pouch__websqldb_"+s+e];++o)O("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=n[a];return{name:c&&"use_prefix"in c&&!c.use_prefix?e:s+e,adapter:a}}((t.prefix||"")+e,t);if(t.name=r.name,t.adapter=t.adapter||r.adapter,this.name=e,this._adapter=t.adapter,et.emit("debug",["adapter","Picked adapter: ",t.adapter]),!et.adapters[t.adapter]||!et.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!et.adapters[t.view_adapter]||!et.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);this.taskqueue=new Ze,this.adapter=t.adapter,et.adapters[t.adapter].call(this,t,(e=>{if(e)return this.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",r),t||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)}(this),this.emit("created",this),et.emit("created",this.name),this.taskqueue.ready(this)}))}}const et=Ye(Xe,(function(e,t){Xe.prototype._setup.call(this,e,t)}));var tt=fetch,rt=Headers;et.adapters={},et.preferredAdapters=[],et.prefix="_pouch_";var nt=new(g());function it(e,t){for(var r=e,n=0,i=t.length;n<i&&(r=r[t[n]]);n++);return r}function st(e){for(var t=[],r="",n=0,i=e.length;n<i;n++){var s=e[n];n>0&&"\\"===e[n-1]&&("$"===s||"."===s)?r=r.substring(0,r.length-1)+s:"."===s?(t.push(r),r=""):r+=s}return t.push(r),t}!function(e){Object.keys(g().prototype).forEach((function(t){"function"==typeof g().prototype[t]&&(e[t]=nt[t].bind(nt))}));var t=e._destructionListeners=new Map;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var r=t.get(e.name),n=r.indexOf(e);n<0||(r.splice(n,1),r.length>1?t.set(e.name,r):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var r=t.get(e);t.delete(e),r.forEach((function(e){e.emit("destroyed",!0)}))}}))}(et),et.adapter=function(e,t,r){t.valid()&&(et.adapters[e]=t,r&&et.preferredAdapters.push(e))},et.plugin=function(e){if("function"==typeof e)e(et);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){et.prototype[t]=e[t]}))}return this.__defaults&&(et.__defaults=Object.assign({},this.__defaults)),et},et.defaults=function(e){let t=Ye(et,(function(e,r){r=r||{},e&&"object"==typeof e&&(e=(r=e).name,delete r.name),r=Object.assign({},t.__defaults,r),et.call(this,e,r)}));return t.preferredAdapters=et.preferredAdapters.slice(),Object.keys(et).forEach((function(e){e in t||(t[e]=et[e])})),t.__defaults=Object.assign({},this.__defaults,e),t},et.fetch=function(e,t){return tt(e,t)},et.prototype.activeTasks=et.activeTasks=new class{constructor(){this.tasks={}}list(){return Object.values(this.tasks)}add(e){const t=h();return this.tasks[t]={id:t,name:e.name,total_items:e.total_items,created_at:(new Date).toJSON()},t}get(e){return this.tasks[e]}remove(e,t){return delete this.tasks[e],this.tasks}update(e,t){const r=this.tasks[e];if(void 0!==r){const n={id:r.id,name:r.name,created_at:r.created_at,total_items:t.total_items||r.total_items,completed_items:t.completed_items||r.completed_items,updated_at:(new Date).toJSON()};this.tasks[e]=n}return this.tasks}};var at=["$or","$nor","$not"];function ot(e){return at.indexOf(e)>-1}function ct(e){return Object.keys(e)[0]}function ut(e){var t={},r={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(n){var i=e[n];if("object"!=typeof i&&(i={$eq:i}),ot(n))if(i instanceof Array){if(r[n])return r[n]=!1,void(t[n]=i);var s=[];t[n].forEach((function(e){Object.keys(i).forEach((function(t){var r=i[t],n=Math.max(Object.keys(e).length,Object.keys(r).length),a=ut([e,r]);Object.keys(a).length<=n||s.push(a)}))})),t[n]=s}else t[n]=ut([i]);else{var a=t[n]=t[n]||{};Object.keys(i).forEach((function(e){var t=i[e];return"$gt"===e||"$gte"===e?function(e,t,r){void 0===r.$eq&&(void 0!==r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):void 0!==r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}(e,t,a):"$lt"===e||"$lte"===e?function(e,t,r){void 0===r.$eq&&(void 0!==r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):void 0!==r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}(e,t,a):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,a):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,a):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,a):void(a[e]=t)}))}}))})),t}function lt(e){for(var t in e){if(Array.isArray(e))for(var r in e)e[r].$and&&(e[r]=ut(e[r].$and));var n=e[t];"object"==typeof n&&lt(n)}return e}function dt(e,t){for(var r in e){"$and"===r&&(t=!0);var n=e[r];"object"==typeof n&&(t=dt(n,t))}return t}function ht(e){var t=w(e);dt(t,!1)&&"$and"in(t=lt(t))&&(t=ut(t.$and)),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r],i=e[n];"object"==typeof i&&null!==i||(e[n]={$eq:i})}}))})),"$not"in t&&(t.$not=ut([t.$not]));for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],s=t[i];"object"==typeof s&&null!==s||(s={$eq:s}),t[i]=s}return ft(t),t}function ft(e){Object.keys(e).forEach((function(t){var r=e[t];Array.isArray(r)?r.forEach((function(e){e&&"object"==typeof e&&ft(e)})):"$ne"===t?e.$ne=[r]:"$regex"===t?e.$regex=[r]:r&&"object"==typeof r&&ft(r)}))}function pt(e,t){if(e===t)return 0;e=yt(e),t=yt(t);var r=wt(e),n=wt(t);if(r-n!=0)return r-n;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=pt(e[n],t[n]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),i=Math.min(r.length,n.length),s=0;s<i;s++){var a=pt(r[s],n[s]);if(0!==a)return a;if(0!==(a=pt(e[r[s]],t[n[s]])))return a}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function yt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=yt(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var i in e={},t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];void 0!==s&&(e[i]=yt(s))}}}return e}function gt(e){return wt(e=yt(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,r=e.toExponential().split(/e\+?/),n=parseInt(r[1],10),i=e<0,s=i?"0":"2";s+=""+(function(e,t){for(var r="",n=3-e.length;r.length<n;)r+=t;return r}(t=((i?-n:n)- -324).toString(),"0")+t);var a=Math.abs(parseFloat(r[0]));i&&(a=10-a);var o=a.toFixed(20);return s+""+o.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,i=r.length,s="";if(t)for(;++n<i;)s+=gt(r[n]);else for(;++n<i;){var a=r[n];s+=gt(a)+gt(e[a])}return s}return""}(e)+"\0"}function mt(e,t){var r,n=t;if("1"===e[t])r=0,t++;else{var i="0"===e[t];t++;var s="",a=e.substring(t,t+3),o=parseInt(a,10)+-324;for(i&&(o=-o),t+=3;;){var c=e[t];if("\0"===c)break;s+=c,t++}r=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),i&&(r-=10),0!==o&&(r=parseFloat(r+"e"+o))}return{num:r,length:t-n}}function bt(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var i=n.element,s=n.index;Array.isArray(i)?i.push(r):s===e.length-2?i[e.pop()]=r:e.push(r)}}function wt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function vt(e,t,r){return r.every((function(r){var n=t[r],i=st(r),s=it(e,i);return ot(r)?function(e,t,r){return"$or"===e?t.some((function(e){return vt(r,e,Object.keys(e))})):"$not"===e?!vt(r,t,Object.keys(t)):!t.find((function(e){return vt(r,e,Object.keys(e))}))}(r,n,e):At(n,e,i,s)}))}function At(e,t,r,n){return!e||("object"==typeof e?Object.keys(e).every((function(i){var s=e[i];if(0===i.indexOf("$"))return kt(i,t,s,r,n);var a=st(i);if(void 0===n&&"object"!=typeof s&&a.length>0)return!1;var o=it(n,a);return"object"==typeof s?At(s,t,r,o):kt("$eq",t,s,a,o)})):e===n)}function kt(e,t,r,n,i){if(!St[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return St[e](t,r,n,i)}function _t(e){return null!=e}function Pt(e){return void 0!==e}function Et(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===pt(t,e)})):0===pt(t,e)}))}var St={$elemMatch:function(e,t,r,n){return!!Array.isArray(n)&&0!==n.length&&("object"==typeof n[0]&&null!==n[0]?n.some((function(e){return vt(e,t,Object.keys(t))})):n.some((function(n){return At(t,e,r,n)})))},$allMatch:function(e,t,r,n){return!!Array.isArray(n)&&0!==n.length&&("object"==typeof n[0]&&null!==n[0]?n.every((function(e){return vt(e,t,Object.keys(t))})):n.every((function(n){return At(t,e,r,n)})))},$eq:function(e,t,r,n){return Pt(n)&&0===pt(n,t)},$gte:function(e,t,r,n){return Pt(n)&&pt(n,t)>=0},$gt:function(e,t,r,n){return Pt(n)&&pt(n,t)>0},$lte:function(e,t,r,n){return Pt(n)&&pt(n,t)<=0},$lt:function(e,t,r,n){return Pt(n)&&pt(n,t)<0},$exists:function(e,t,r,n){return t?Pt(n):!Pt(n)},$mod:function(e,t,r,n){return _t(n)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(n,t)},$ne:function(e,t,r,n){return t.every((function(e){return 0!==pt(n,e)}))},$in:function(e,t,r,n){return _t(n)&&Et(n,t)},$nin:function(e,t,r,n){return _t(n)&&!Et(n,t)},$size:function(e,t,r,n){return _t(n)&&Array.isArray(n)&&function(e,t){return e.length===t}(n,t)},$all:function(e,t,r,n){return Array.isArray(n)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===pt(t,e)}))}))}(n,t)},$regex:function(e,t,r,n){return _t(n)&&"string"==typeof n&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(n,e)}))},$type:function(e,t,r,n){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(n,t)}};function xt(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var r="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+r+'"'))}t()}function Ct(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=te(e.view):e.filter=te(e.filter))}function Bt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!X(e.db)}function Ot(e,t){var r=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var n=Q(H,"`view` filter parameter not found or invalid.");return r(n)}var i=ee(t.view);e.db.get("_design/"+i[0],(function(n,s){if(e.isCancelled)return r(null,{status:"cancelled"});if(n)return r($(n));var a=s&&s.views&&s.views[i[1]]&&s.views[i[1]].map;if(!a)return r(Q(N,s.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=oe(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+a+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var r=function(e,t,r){if(e=e.filter((function(e){return vt(e.doc,t.selector,r)})),t.sort){var n=function(e){function t(t){return e.map((function(e){var r=st(ct(e));return it(t,r)}))}return function(e,r){var n,i,s=pt(t(e.doc),t(r.doc));return 0!==s?s:(n=e.doc._id)<(i=r.doc._id)?-1:n>i?1:0}}(t.sort);e=e.sort(n),"string"!=typeof t.sort[0]&&"desc"===(i=t.sort[0])[ct(i)]&&(e=e.reverse())}var i;if("limit"in t||"skip"in t){var s=t.skip||0,a=("limit"in t?t.limit:e.length)+s;e=e.slice(s,a)}return e}([{doc:e}],{selector:t=ht(t)},Object.keys(t));return r&&1===r.length}(e,t.selector)},e.doChanges(t);else{var s=ee(t.filter);e.db.get("_design/"+s[0],(function(n,i){if(e.isCancelled)return r(null,{status:"cancelled"});if(n)return r($(n));var a=i&&i.filters&&i.filters[s[1]];if(!a)return r(Q(N,i&&i.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=oe('"use strict";\nreturn '+a+";",{}),e.doChanges(t)}))}}function Rt(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}et.plugin((function(e){e._changesFilterPlugin={validate:xt,normalize:Ct,shouldFilter:Bt,filter:Ot}})),et.version="9.0.0";var It=Rt(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Tt=Rt(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Mt(e){if(!/^\d+-/.test(e))return Q(V);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function Nt(e,t,r){var n,i,s;r||(r={deterministic_revs:!0});var a={status:"available"};if(e._deleted&&(a.deleted=!0),t)if(e._id||(e._id=Pe()),i=_e(e,r.deterministic_revs),e._rev){if((s=Mt(e._rev)).error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[i,a,[]]]]}],n=s.prefix+1}else e._rev_tree=[{pos:1,ids:[i,a,[]]}],n=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,i=[n[0],t,[]],s=1,a=n.length;s<a;s++)i=[n[s],{status:"missing"},[i]];return[{pos:r,ids:i}]}(e._revisions,a),n=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if((s=Mt(e._rev)).error)return s;n=s.prefix,i=s.id,e._rev_tree=[{pos:n,ids:[i,a,[]]}]}Y(e._id),e._rev=n+"-"+i;var o={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var u="_"===c[0];if(u&&!It[c]){var l=Q(q,c);throw l.message=q.message+": "+c,l}u&&!Tt[c]?o.metadata[c.slice(1)]=e[c]:o.data[c]=e[c]}return o}function Dt(e,t,r){if(e.stub)return r();"string"==typeof e.data?function(e,t,r){var n=function(e){try{return ue(e)}catch(e){return{error:Q(L,"Attachment is not a valid base64 string")}}}(e.data);if(n.error)return r(n.error);e.length=n.length,e.data="blob"===t?fe(n,e.content_type):"base64"===t?le(n):n,Ae(n,(function(t){e.digest="md5-"+t,r()}))}(e,t,r):function(e,t,r){Ae(e.data,(function(n){e.digest="md5-"+n,e.length=e.data.size||e.data.length||0,"binary"===t?ge(e.data,(function(t){e.data=t,r()})):"base64"===t?me(e.data,(function(t){e.data=t,r()})):r()}))}(e,t,r)}function Ut(e,t,r,n,i,s,a,o,c){e=e||1e3;var u=o.new_edits,l=new Map,d=0,h=t.length;function f(){++d===h&&c&&c()}t.forEach((function(e,t){if(e._id&&Ke(e._id)){var n=e._deleted?"_removeLocal":"_putLocal";r[n](e,{ctx:i},(function(e,r){s[t]=e||r,f()}))}else{var a=e.metadata.id;l.has(a)?(h--,l.get(a).push([e,t])):l.set(a,[[e,t]])}})),l.forEach((function(t,r){var i=0;function c(){++i<t.length?l():f()}function l(){var l=t[i],d=l[0],h=l[1];if(n.has(r))!function(e,t,r,n,i,s,a,o){if(function(e,t){for(var r,n=e.slice(),i=t.split("-"),s=parseInt(i[0],10),a=i[1];r=n.pop();){if(r.pos===s&&r.ids[0]===a)return!0;for(var o=r.ids[2],c=0,u=o.length;c<u;c++)n.push({pos:r.pos+1,ids:o[c]})}return!1}(t.rev_tree,r.metadata.rev)&&!o)return n[i]=r,s();var c=t.winningRev||Ee(t),u="deleted"in t?t.deleted:Fe(t,c),l="deleted"in r.metadata?r.metadata.deleted:Fe(r.metadata),d=/^1-/.test(r.metadata.rev);if(u&&!l&&o&&d){var h=r.data;h._rev=c,h._id=r.metadata.id,r=Nt(h,o)}var f=Ue(t.rev_tree,r.metadata.rev_tree[0],e);if(o&&(u&&l&&"new_leaf"!==f.conflicts||!u&&"new_leaf"!==f.conflicts||u&&!l&&"new_branch"===f.conflicts)){var p=Q(D);return n[i]=p,s()}var y=r.metadata.rev;r.metadata.rev_tree=f.tree,r.stemmedRevs=f.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var g=Ee(r.metadata),m=Fe(r.metadata,g),b=u===m?0:u<m?-1:1;a(r,g,m,y===g?m:Fe(r.metadata,y),!0,b,i,s)}(e,n.get(r),d,s,h,c,a,u);else{var f=Ue([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=f.tree,d.stemmedRevs=f.stemmedRevs||[],function(e,t,r){var n=Ee(e.metadata),i=Fe(e.metadata,n);if("was_delete"in o&&i)return s[t]=Q(N,"deleted"),r();if(u&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var c=Q(D);return s[t]=c,r()}a(e,n,i,i,!1,i?0:1,t,r)}(d,h,c)}}l()}))}var jt="document-store",Ft="by-sequence",Kt="attach-store",Lt="attach-seq-store",zt="meta-store",qt="local-store",Ht="detect-blob-support";function Gt(e){try{return JSON.stringify(e)}catch(t){return p.stringify(e)}}function Wt(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(Q(W,r,t.type))}}function Vt(e,t,r){return{data:Gt(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function Jt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return p.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Qt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function $t(e,t,r,n){r?n(e?"string"!=typeof e?e:pe(e,t):de([""],{type:t})):e?"string"!=typeof e?ye(e,(function(e){n(le(e))})):n(e):n("")}function Zt(e,t,r,n){var i=Object.keys(e._attachments||{});if(!i.length)return n&&n();var s=0;function a(){++s===i.length&&n&&n()}i.forEach((function(n){t.attachments&&t.include_docs?function(e,t){var n=e._attachments[t],i=n.digest;r.objectStore(Kt).get(i).onsuccess=function(e){n.body=e.target.result.body,a()}}(e,n):(e._attachments[n].stub=!0,a())}))}function Yt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var r=Object.keys(e.doc._attachments);return Promise.all(r.map((function(r){var n=e.doc._attachments[r];if("body"in n){var i=n.body,s=n.content_type;return new Promise((function(a){$t(i,s,t,(function(t){e.doc._attachments[r]=Object.assign(_(n,["digest","content_type"]),{data:t}),a()}))}))}})))}})))}function Xt(e,t,r){var n=[],i=r.objectStore(Ft),s=r.objectStore(Kt),a=r.objectStore(Lt),o=e.length;function c(){--o||n.length&&n.forEach((function(e){a.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}}))}e.forEach((function(e){var r=i.index("_doc_id_rev"),s=t+"::"+e;r.getKey(s).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();i.delete(t),a.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var r=t.value.digestSeq.split("::")[0];n.push(r),a.delete(t.primaryKey),t.continue()}else c()}}}))}function er(e,t,r){try{return{txn:e.transaction(t,r)}}catch(e){return{error:e}}}var tr=new B;function rr(e,t,r,n,i,s){for(var a,o,c,u,l,d,h,f,p=t.docs,y=0,g=p.length;y<g;y++){var m=p[y];m._id&&Ke(m._id)||(m=p[y]=Nt(m,r.new_edits,e)).error&&!h&&(h=m)}if(h)return s(h);var b=!1,w=0,v=new Array(p.length),A=new Map,k=!1,_=n._meta.blobSupport?"blob":"base64";function P(){b=!0,E()}function E(){f&&b&&(f.docCount+=w,d.put(f))}function S(){k||(tr.notify(n._meta.name),s(null,v))}function x(e,t,r,n,i,s,a,o){e.metadata.winningRev=t,e.metadata.deleted=r;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,n&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,r,n,i,s){var a=e.data,o=0,c=Object.keys(a._attachments);function l(){o===c.length&&C(e,t,r,n,i,s)}function d(){o++,l()}c.forEach((function(r){var n=e.data._attachments[r];if(n.stub)o++,l();else{var i=n.data;delete n.data,n.revpos=parseInt(t,10),function(e,t,r){u.count(e).onsuccess=function(n){if(n.target.result)return r();var i={digest:e,body:t};u.put(i).onsuccess=r}}(n.digest,i,d)}}))}(e,t,r,i,a,o);w+=s,E(),C(e,t,r,i,a,o)}function C(e,t,r,i,s,u){var d=e.data,h=e.metadata;function f(s){var c=e.stemmedRevs||[];i&&n.auto_compaction&&(c=c.concat(function(e){var t=[];return Se(e.rev_tree,(function(e,r,n,i,s){"available"!==s.status||e||(t.push(r+"-"+n),s.status="missing")})),t}(e.metadata))),c&&c.length&&Xt(c,e.metadata.id,a),h.seq=s.target.result;var u=Vt(h,t,r);o.put(u).onsuccess=p}function p(){v[s]={ok:!0,id:h.id,rev:h.rev},A.set(e.metadata.id,e.metadata),function(e,t,r){var n=0,i=Object.keys(e.data._attachments||{});if(!i.length)return r();function s(){++n===i.length&&r()}function a(r){var n=e.data._attachments[r].digest,i=l.put({seq:t,digestSeq:n+"::"+t});i.onsuccess=s,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),s()}}for(var o=0;o<i.length;o++)a(i[o])}(e,h.seq,u)}d._doc_id_rev=h.id+"::"+h.rev,delete d._id,delete d._rev;var y=c.put(d);y.onsuccess=f,y.onerror=function(e){e.preventDefault(),e.stopPropagation(),c.index("_doc_id_rev").getKey(d._doc_id_rev).onsuccess=function(e){c.put(d,e.target.result).onsuccess=f}}}!function(e,t,r){if(!e.length)return r();var n,i=0;function s(){i++,e.length===i&&(n?r(n):r())}e.forEach((function(e){var r=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],i=0;if(!r.length)return s();function a(e){n=e,++i===r.length&&s()}for(var o in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,o)&&Dt(e.data._attachments[o],t,a)}))}(p,_,(function(t){if(t)return s(t);!function(){var t=er(i,[jt,Ft,Kt,qt,Lt,zt],"readwrite");if(t.error)return s(t.error);(a=t.txn).onabort=Wt(s),a.ontimeout=Wt(s),a.oncomplete=S,o=a.objectStore(jt),c=a.objectStore(Ft),u=a.objectStore(Kt),l=a.objectStore(Lt),(d=a.objectStore(zt)).get(zt).onsuccess=function(e){f=e.target.result,E()},function(e){var t=[];if(p.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(r){var n=e.data._attachments[r];n.stub&&t.push(n.digest)}))})),!t.length)return e();var r,n=0;t.forEach((function(i){!function(e,t){u.get(e).onsuccess=function(r){if(r.target.result)t();else{var n=Q(J,"unknown stub attachment with digest "+e);n.status=412,t(n)}}}(i,(function(i){i&&!r&&(r=i),++n===t.length&&e(r)}))}))}((function(t){if(t)return k=!0,s(t);!function(){if(p.length)for(var t=0,i=0,s=p.length;i<s;i++){var c=p[i];c._id&&Ke(c._id)?u():o.get(c.metadata.id).onsuccess=l}function u(){++t===p.length&&Ut(e.revs_limit,p,n,A,a,v,x,r,P)}function l(e){var t=Jt(e.target.result);t&&A.set(t.id,t),u()}}()}))}()}))}function nr(e,t,r,n,i){var s,a,o;function c(e){a=e.target.result,s&&i(s,a,o)}function u(e){s=e.target.result,a&&i(s,a,o)}function l(e){var t=e.target.result;if(!t)return i();i([t.key],[t.value],t)}-1===n&&(n=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&n>1&&!r?(o={continue:function(){if(!s.length)return i();var r,o=s[s.length-1];if(t&&t.upper)try{r=IDBKeyRange.bound(o,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return i()}else r=IDBKeyRange.lowerBound(o,!0);t=r,s=null,a=null,e.getAll(t,n).onsuccess=c,e.getAllKeys(t,n).onsuccess=u}},e.getAll(t,n).onsuccess=c,e.getAllKeys(t,n).onsuccess=u):r?e.openCursor(t,"prev").onsuccess=l:e.openCursor(t).onsuccess=l}var ir=!1,sr=[];function ar(){!ir&&sr.length&&(ir=!0,sr.shift()())}var or,cr=new Map,ur=new Map;function lr(e,t){var r=this;!function(t,n,i){sr.push((function(){var t;t=function(e,t){!function(e,t,r,n){try{e(t,r)}catch(t){n.emit("error",t)}}(n,e,t,i),ir=!1,C((function(){ar()}))},function(e,t,r){var n=t.name,i=null,s=null;function a(e){return function(t,r){t&&t instanceof Error&&!t.reason&&s&&(t.reason=s),e(t,r)}}function o(e){var t=e.createObjectStore(jt,{keyPath:"id"});e.createObjectStore(Ft,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Kt,{keyPath:"digest"}),e.createObjectStore(zt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(Ht),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(qt,{keyPath:"_id"});var r=e.createObjectStore(Lt,{autoIncrement:!0});r.createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0})}function c(e,t){var r=e.objectStore(jt);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(e){var n=e.target.result;if(n){var i=n.value,s=Fe(i);i.deletedOrLocal=s?"1":"0",r.put(i),n.continue()}else t()}}function u(e){e.createObjectStore(qt,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function l(e,t){var r=e.objectStore(qt),n=e.objectStore(jt),i=e.objectStore(Ft);n.openCursor().onsuccess=function(e){var s=e.target.result;if(s){var a=s.value,o=a.id,c=Ke(o),u=Ee(a);if(c){var l=o+"::"+u,d=o+"::",h=o+"::~",f=i.index("_doc_id_rev"),p=IDBKeyRange.bound(d,h,!1,!1),y=f.openCursor(p);y.onsuccess=function(e){if(y=e.target.result){var t=y.value;t._doc_id_rev===l&&r.put(t),i.delete(y.primaryKey),y.continue()}else n.delete(s.primaryKey),s.continue()}}else s.continue()}else t&&t()}}function d(e){var t=e.createObjectStore(Lt,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function h(e,t){var r=e.objectStore(Ft),n=e.objectStore(Kt),i=e.objectStore(Lt);n.count().onsuccess=function(e){if(!e.target.result)return t();r.openCursor().onsuccess=function(e){var r=e.target.result;if(!r)return t();for(var n=r.value,s=r.primaryKey,a=Object.keys(n._attachments||{}),o={},c=0;c<a.length;c++)o[n._attachments[a[c]].digest]=!0;var u=Object.keys(o);for(c=0;c<u.length;c++){var l=u[c];i.put({seq:s,digestSeq:l+"::"+s})}r.continue()}}}function f(e){function t(e){return e.data?Jt(e):(e.deleted="1"===e.deletedOrLocal,e)}var r=e.objectStore(Ft),n=e.objectStore(jt);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var s=t(i.value);if(s.winningRev=s.winningRev||Ee(s),s.seq)return o();a()}function a(){var e=s.id+"::",t=s.id+"::￿",n=r.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;n.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=i,o();var r=t.primaryKey;r>i&&(i=r),t.continue()}}function o(){var e=Vt(s,s.winningRev,s.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=A((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(r,n,s){rr(t,r,n,e,i,a(s))},e._get=function(e,t,r){var n,s,a,o=t.ctx;if(!o){var c=er(i,[jt,Ft,Kt],"readonly");if(c.error)return r(c.error);o=c.txn}function u(){r(a,{doc:n,metadata:s,ctx:o})}o.objectStore(jt).get(e).onsuccess=function(e){if(!(s=Jt(e.target.result)))return a=Q(N,"missing"),u();var r;if(t.rev)r=t.latest?function(e,t){for(var r,n=t.rev_tree.slice();r=n.pop();){var i=r.pos,s=r.ids,a=s[0],o=s[1],c=s[2],u=0===c.length,l=r.history?r.history.slice():[];if(l.push({id:a,pos:i,opts:o}),u)for(var d=0,h=l.length;d<h;d++){var f=l[d];if(f.pos+"-"+f.id===e)return i+"-"+a}for(var p=0,y=c.length;p<y;p++)n.push({pos:i+1,ids:c[p],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,s):t.rev;else if(r=s.winningRev,Fe(s))return a=Q(N,"deleted"),u();var i=o.objectStore(Ft),c=s.id+"::"+r;i.index("_doc_id_rev").get(c).onsuccess=function(e){if((n=e.target.result)&&(n=Qt(n)),!n)return a=Q(N,"missing"),u();u()}}},e._getAttachment=function(e,t,r,n,s){var a;if(n.ctx)a=n.ctx;else{var o=er(i,[jt,Ft,Kt],"readonly");if(o.error)return s(o.error);a=o.txn}var c=r.digest,u=r.content_type;a.objectStore(Kt).get(c).onsuccess=function(e){$t(e.target.result.body,u,n.binary,(function(e){s(null,e)}))}},e._info=function(t){var r,n,s=er(i,[zt,Ft],"readonly");if(s.error)return t(s.error);var a=s.txn;a.objectStore(zt).get(zt).onsuccess=function(e){n=e.target.result.docCount},a.objectStore(Ft).openKeyCursor(null,"prev").onsuccess=function(e){var t=e.target.result;r=t?t.key:0},a.oncomplete=function(){t(null,{doc_count:n,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){!function(e,t,r){var n,i,s="startkey"in e&&e.startkey,a="endkey"in e&&e.endkey,o="key"in e&&e.key,c="keys"in e&&e.keys,u=e.skip||0,l="number"==typeof e.limit?e.limit:-1,d=!1!==e.inclusive_end;if(!c&&(n=function(e,t,r,n,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(e){return{error:e}}return null}(s,a,d,o,e.descending),(i=n&&n.error)&&("DataError"!==i.name||0!==i.code)))return r(Q(W,i.name,i.message));var h=[jt,Ft,zt];e.attachments&&h.push(Kt);var f=er(t,h,"readonly");if(f.error)return r(f.error);var p=f.txn;p.oncomplete=function(){e.attachments?Yt(A,e.binary).then(E):E()},p.onabort=Wt(r);var y,g,m=p.objectStore(jt),b=p.objectStore(Ft),w=p.objectStore(zt),v=b.index("_doc_id_rev"),A=[];function k(t,r){var n={id:r.id,key:r.id,value:{rev:t}};r.deleted?c&&(A.push(n),n.value.deleted=!0,n.doc=null):u--<=0&&(A.push(n),e.include_docs&&function(t,r,n){var i=t.id+"::"+n;v.get(i).onsuccess=function(n){if(r.doc=Qt(n.target.result)||{},e.conflicts){var i=Be(t);i.length&&(r.doc._conflicts=i)}Zt(r.doc,e,p)}}(r,n,t))}function _(e){for(var t=0,r=e.length;t<r&&A.length!==l;t++){var n=e[t];if(n.error&&c)A.push(n);else{var i=Jt(n);k(i.winningRev,i)}}}function P(e,t,r){r&&(_(t),A.length<l&&r.continue())}function E(){var t={total_rows:y,offset:e.skip,rows:A};e.update_seq&&void 0!==g&&(t.update_seq=g),r(null,t)}w.get(zt).onsuccess=function(e){y=e.target.result.docCount},e.update_seq&&(b.openKeyCursor(null,"prev").onsuccess=e=>{var t=e.target.result;t&&t.key&&(g=t.key)}),i||0===l||(c?function(e,t,r){var n=new Array(e.length),i=0;e.forEach((function(s,a){t.get(s).onsuccess=function(t){t.target.result?n[a]=t.target.result:n[a]={key:s,error:"not_found"},++i===e.length&&r(e,n,{})}}))}(c,m,P):-1===l?function(e,t,r){if("function"!=typeof e.getAll){var n=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(n.push(t.value),t.continue()):r({target:{result:n}})}}else e.getAll(t).onsuccess=r}(m,n,(function(t){var r=t.target.result;e.descending&&(r=r.reverse()),_(r)})):nr(m,n,e.descending,l+u,P))}(e,i,a(t))},e._changes=function(t){return function(e,t,r,n){if((e=w(e)).continuous){var i=r+":"+Pe();return tr.addListener(r,i,t,e),tr.notify(r),{cancel:function(){tr.removeListener(r,i)}}}var s=e.doc_ids&&new Set(e.doc_ids);e.since=e.since||0;var a=e.since,o="limit"in e?e.limit:-1;0===o&&(o=1);var c,u,l,d,h=[],f=0,p=Z(e),y=new Map;function g(e,t,r,n){if(r.seq!==t)return n();if(r.winningRev===e._rev)return n(r,e);var i=e._id+"::"+r.winningRev;d.get(i).onsuccess=function(e){n(r,Qt(e.target.result))}}function m(){e.complete(null,{results:h,last_seq:a})}var b=[jt,Ft];e.attachments&&b.push(Kt);var v=er(n,b,"readonly");if(v.error)return e.complete(v.error);(c=v.txn).onabort=Wt(e.complete),c.oncomplete=function(){!e.continuous&&e.attachments?Yt(h).then(m):m()},u=c.objectStore(Ft),l=c.objectStore(jt),d=u.index("_doc_id_rev"),nr(u,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,o,(function(t,r,n){if(n&&t.length){var i=new Array(t.length),u=new Array(t.length),d=0;r.forEach((function(r,a){!function(e,t,r){if(s&&!s.has(e._id))return r();var n=y.get(e._id);if(n)return g(e,t,n,r);l.get(e._id).onsuccess=function(i){n=Jt(i.target.result),y.set(e._id,n),g(e,t,n,r)}}(Qt(r),t[a],(function(r,s){u[a]=r,i[a]=s,++d===t.length&&function(){for(var t=[],r=0,s=i.length;r<s&&f!==o;r++){var a=i[r];if(a){var c=u[r];t.push(m(c,a))}}Promise.all(t).then((function(t){for(var r=0,n=t.length;r<n;r++)t[r]&&e.onChange(t[r])})).catch(e.complete),f!==o&&n.continue()}()}))}))}function m(t,r){var n=e.processChange(r,t,e);a=n.seq=t.seq;var i=p(n);return"object"==typeof i?Promise.reject(i):i?(f++,e.return_docs&&h.push(n),e.attachments&&e.include_docs?new Promise((function(t){Zt(r,e,c,(function(){Yt([n],e.binary).then((function(){t(n)}))}))})):Promise.resolve(n)):Promise.resolve()}}))}(t,e,n,i)},e._close=function(e){i.close(),cr.delete(n),e()},e._getRevisionTree=function(e,t){var r=er(i,[jt],"readonly");if(r.error)return t(r.error);r.txn.objectStore(jt).get(e).onsuccess=function(e){var r=Jt(e.target.result);r?t(null,r.rev_tree):t(Q(N))}},e._doCompaction=function(e,t,r){var n=er(i,[jt,Ft,Kt,Lt],"readwrite");if(n.error)return r(n.error);var s=n.txn;s.objectStore(jt).get(e).onsuccess=function(r){var n=Jt(r.target.result);Se(n.rev_tree,(function(e,r,n,i,s){var a=r+"-"+n;-1!==t.indexOf(a)&&(s.status="missing")})),Xt(t,e,s);var i=n.winningRev,a=n.deleted;s.objectStore(jt).put(Vt(n,i,a))},s.onabort=Wt(r),s.oncomplete=function(){r()}},e._getLocal=function(e,t){var r=er(i,[qt],"readonly");if(r.error)return t(r.error);var n=r.txn.objectStore(qt).get(e);n.onerror=Wt(t),n.onsuccess=function(e){var r=e.target.result;r?(delete r._doc_id_rev,t(null,r)):t(Q(N))}},e._putLocal=function(e,t,r){"function"==typeof t&&(r=t,t={}),delete e._revisions;var n=e._rev,s=e._id;e._rev=n?"0-"+(parseInt(n.split("-")[1],10)+1):"0-1";var a,o=t.ctx;if(!o){var c=er(i,[qt],"readwrite");if(c.error)return r(c.error);(o=c.txn).onerror=Wt(r),o.oncomplete=function(){a&&r(null,a)}}var u,l=o.objectStore(qt);n?(u=l.get(s)).onsuccess=function(i){var s=i.target.result;s&&s._rev===n?l.put(e).onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,a)}:r(Q(D))}:((u=l.add(e)).onerror=function(e){r(Q(D)),e.preventDefault(),e.stopPropagation()},u.onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,a)})},e._removeLocal=function(e,t,r){"function"==typeof t&&(r=t,t={});var n,s=t.ctx;if(!s){var a=er(i,[qt],"readwrite");if(a.error)return r(a.error);(s=a.txn).oncomplete=function(){n&&r(null,n)}}var o=e._id,c=s.objectStore(qt),u=c.get(o);u.onerror=Wt(r),u.onsuccess=function(i){var s=i.target.result;s&&s._rev===e._rev?(c.delete(o),n={ok:!0,id:o,rev:"0-0"},t.ctx&&r(null,n)):r(Q(N))}},e._destroy=function(e,t){tr.removeAllListeners(n);var r=ur.get(n);r&&r.result&&(r.result.close(),cr.delete(n));var i=indexedDB.deleteDatabase(n);i.onsuccess=function(){ur.delete(n),x()&&n in localStorage&&delete localStorage[n],t(null,{ok:!0})},i.onerror=Wt(t)};var p=cr.get(n);if(p)return i=p.idb,e._meta=p.global,C((function(){r(null,e)}));var y=indexedDB.open(n,5);ur.set(n,y),y.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return o(t);var r=e.currentTarget.transaction;e.oldVersion<3&&u(t),e.oldVersion<4&&d(t);var n=[c,l,h,f],i=e.oldVersion;function s(){var e=n[i-1];i++,e&&e(r,s)}s()},y.onsuccess=function(t){(i=t.target.result).onversionchange=function(){i.close(),cr.delete(n)},i.onabort=function(e){O("error","Database has a global failure",e.target.error),s=e.target.error,i.close(),cr.delete(n)};var a,o,c,u,l=i.transaction([zt,Ht,jt],"readwrite"),d=!1;function h(){void 0!==c&&d&&(e._meta={name:n,instanceId:u,blobSupport:c},cr.set(n,{idb:i,global:e._meta}),r(null,e))}function f(){if(void 0!==o&&void 0!==a){var e=n+"_id";e in a?u=a[e]:a[e]=u=Pe(),a.docCount=o,l.objectStore(zt).put(a)}}l.objectStore(zt).get(zt).onsuccess=function(e){a=e.target.result||{id:zt},f()},function(e,t){e.objectStore(jt).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(l,(function(e){o=e,f()})),or||(or=function(e,t,r){return new Promise((function(n){var i=de([""]);let s;if("function"==typeof r){const n=r(i);s=e.objectStore(t).put(n)}else{const n=r;s=e.objectStore(t).put(i,n)}s.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||parseInt(e[1],10)>=43)},s.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)}})).catch((function(){return!1}))}(l,Ht,"key")),or.then((function(e){c=e,h()})),l.oncomplete=function(){d=!0,h()},l.onabort=Wt(r)},y.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",O("error",t),r(Q(W,t))}}(r,e,t)})),ar()}(0,t,r.constructor)}lr.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};const dr=5e3,hr={};function fr(e){const t=e.doc||e.ok,r=t&&t._attachments;r&&Object.keys(r).forEach((function(e){const t=r[e];t.data=pe(t.data,t.content_type)}))}function pr(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):e.startsWith("_local/")?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function yr(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){const r=e._attachments[t];if(r.data&&"string"!=typeof r.data)return new Promise((function(e){me(r.data,e)})).then((function(e){r.data=e}))}))):Promise.resolve()}function gr(e,t){return mr(e,e.db+"/"+t)}function mr(e,t){const r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function br(e){const t=Object.keys(e);return 0===t.length?"":"?"+t.map((t=>t+"="+encodeURIComponent(e[t]))).join("&")}function wr(e,t){const r=this,n=function(e,t){if(function(e){if(!e.prefix)return!1;const t=ae(e.prefix).protocol;return"http"===t||"https"===t}(t)){const r=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(r)}const r=ae(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});const n=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=n.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=n.join("/"),r}(e.name,e),i=gr(n,"");e=w(e);const s=async function(t,r){if((r=r||{}).headers=r.headers||new rt,r.credentials="include",e.auth||n.auth){const t=e.auth||n.auth,i=t.username+":"+t.password,s=le(unescape(encodeURIComponent(i)));r.headers.set("Authorization","Basic "+s)}const i=e.headers||{};Object.keys(i).forEach((function(e){r.headers.append(e,i[e])})),function(e){const t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==t.indexOf("msie"),n=-1!==t.indexOf("trident"),i=-1!==t.indexOf("edge"),s=!("method"in e)||"GET"===e.method;return(r||n||i)&&s}(r)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now());const s=e.fetch||tt;return await s(t,r)};function a(e,t){return k(e,(function(...e){u().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))})).bind(r)}async function o(e,t){const r={};(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json");const n=await s(e,t);r.ok=n.ok,r.status=n.status;const i=await n.json();if(r.data=i,!r.ok)throw r.data.status=r.status,$(r.data);return Array.isArray(r.data)&&(r.data=r.data.map((function(e){return e.error||e.missing?$(e):e}))),r}let c;async function u(){return e.skip_setup?Promise.resolve():c||(c=o(i).catch((function(e){return e&&e.status&&404===e.status?(I(404,"PouchDB is just detecting if the remote exists."),o(i,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)})),c.catch((function(){c=null})),c)}function l(e){return e.split("/").map(encodeURIComponent).join("/")}C((function(){t(null,r)})),r._remote=!0,r.type=function(){return"http"},r.id=a("id",(async function(e){let t;try{const e=await s(mr(n,""));t=await e.json()}catch(e){t={}}e(null,t&&t.uuid?t.uuid+n.db:gr(n,""))})),r.compact=a("compact",(async function(e,t){"function"==typeof e&&(t=e,e={}),e=w(e),await o(gr(n,"_compact"),{method:"POST"}),function n(){r.info((function(r,i){i&&!i.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()})),r.bulkGet=k("bulkGet",(function(e,t){const r=this;async function i(t){const r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0);try{const i=await o(gr(n,"_bulk_get"+br(r)),{method:"POST",body:JSON.stringify({docs:e.docs})});e.attachments&&e.binary&&i.data.results.forEach((function(e){e.docs.forEach(fr)})),t(null,i.data)}catch(e){t(e)}}function s(){const n=Math.ceil(e.docs.length/50);let i=0;const s=new Array(n);function a(e){return function(r,a){s[e]=a.results,++i===n&&t(null,{results:s.flat()})}}for(let t=0;t<n;t++){const n=_(e,["revs","attachments","binary","latest"]);n.docs=e.docs.slice(50*t,Math.min(e.docs.length,50*(t+1))),S(r,n,a(t))}}const a=mr(n,""),c=hr[a];"boolean"!=typeof c?i((function(e,r){e?(hr[a]=!1,I(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),s()):(hr[a]=!0,t(null,r))})):c?i(t):s()})),r._info=async function(e){try{await u();const t=await s(gr(n,"")),r=await t.json();r.host=gr(n,""),e(null,r)}catch(t){e(t)}},r.fetch=async function(e,t){await u();const r="/"===e.substring(0,1)?mr(n,e.substring(1)):gr(n,e);return s(r,t)},r.get=a("get",(async function(e,t,r){"function"==typeof t&&(r=t,t={});const i={};function a(e){const r=e._attachments,i=r&&Object.keys(r);var a;if(r&&i.length)return a=i.map((function(i){return function(){return async function(i){const a=r[i],o=pr(e._id)+"/"+l(i)+"?rev="+e._rev,c=await s(gr(n,o));let u,d;if(u="buffer"in c?await c.buffer():await c.blob(),t.binary){const e=Object.getOwnPropertyDescriptor(u.__proto__,"type");e&&!e.set||(u.type=a.content_type),d=u}else d=await new Promise((function(e){me(u,e)}));delete a.stub,delete a.length,a.data=d}(i)}})),new Promise((function(e,t){var r,n=0,i=0,s=0,o=a.length;function c(){++s===o?r?t(r):e():d()}function u(){n--,c()}function l(e){n--,r=r||e,c()}function d(){for(;n<5&&i<o;)n++,a[i++]().then(u,l)}d()}))}(t=w(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=pr(e);const c=gr(n,e+br(i));try{const e=await o(c);t.attachments&&await(u=e.data,Array.isArray(u)?Promise.all(u.map((function(e){if(e.ok)return a(e.ok)}))):a(u)),r(null,e.data)}catch(t){t.docId=e,r(t)}var u})),r.remove=a("remove",(async function(e,t,r,i){let s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof r&&(i=r,r={})):(s=e,"function"==typeof t?(i=t,r={}):(i=r,r=t));const a=s._rev||r.rev,c=gr(n,pr(s._id))+"?rev="+a;try{i(null,(await o(c,{method:"DELETE"})).data)}catch(e){i(e)}})),r.getAttachment=a("getAttachment",(async function(e,t,r,i){"function"==typeof r&&(i=r,r={});const a=r.rev?"?rev="+r.rev:"",o=gr(n,pr(e))+"/"+l(t)+a;let c;try{const e=await s(o,{method:"GET"});if(!e.ok)throw e;let t;if(c=e.headers.get("content-type"),t="undefined"==typeof process||process.browser||"function"!=typeof e.buffer?await e.blob():await e.buffer(),"undefined"!=typeof process&&!process.browser){const e=Object.getOwnPropertyDescriptor(t.__proto__,"type");e&&!e.set||(t.type=c)}i(null,t)}catch(e){i(e)}})),r.removeAttachment=a("removeAttachment",(async function(e,t,r,i){const s=gr(n,pr(e)+"/"+l(t))+"?rev="+r;try{i(null,(await o(s,{method:"DELETE"})).data)}catch(e){i(e)}})),r.putAttachment=a("putAttachment",(async function(e,t,r,i,s,a){"function"==typeof s&&(a=s,s=i,i=r,r=null);const c=pr(e)+"/"+l(t);let u=gr(n,c);if(r&&(u+="?rev="+r),"string"==typeof i){let e;try{e=ue(i)}catch(e){return a(Q(L,"Attachment is not a valid base64 string"))}i=e?fe(e,s):""}try{a(null,(await o(u,{headers:new rt({"Content-Type":s}),method:"PUT",body:i})).data)}catch(e){a(e)}})),r._bulkDocs=async function(e,t,r){e.new_edits=t.new_edits;try{await u(),await Promise.all(e.docs.map(yr)),r(null,(await o(gr(n,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)})).data)}catch(e){r(e)}},r._put=async function(e,t,r){try{await u(),await yr(e),r(null,(await o(gr(n,pr(e._id)),{method:"PUT",body:JSON.stringify(e)})).data)}catch(t){t.docId=e&&e._id,r(t)}},r.allDocs=a("allDocs",(async function(e,t){"function"==typeof e&&(t=e,e={});const r={};let i,s="GET";(e=w(e)).conflicts&&(r.conflicts=!0),e.update_seq&&(r.update_seq=!0),e.descending&&(r.descending=!0),e.include_docs&&(r.include_docs=!0),e.attachments&&(r.attachments=!0),e.key&&(r.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(r.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(r.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(r.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(r.limit=e.limit),void 0!==e.skip&&(r.skip=e.skip);const a=br(r);void 0!==e.keys&&(s="POST",i={keys:e.keys});try{const r=await o(gr(n,"_all_docs"+a),{method:s,body:JSON.stringify(i)});e.include_docs&&e.attachments&&e.binary&&r.data.rows.forEach(fr),t(null,r.data)}catch(e){t(e)}})),r._changes=function(e){const t="batch_size"in e?e.batch_size:25;(e=w(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);let r="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&r-e.timeout<dr&&(r=e.timeout+dr),"heartbeat"in e&&e.heartbeat&&r-e.heartbeat<dr&&(r=e.heartbeat+dr);const i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);const s=void 0!==e.limit&&e.limit;let a=s;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(const t in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,t)&&(i[t]=e.query_params[t]);let c,l="GET";e.doc_ids?(i.filter="_doc_ids",l="POST",c={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",l="POST",c={selector:e.selector});const d=new AbortController;let h;const f=async function(r,f){if(e.aborted)return;i.since=r,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?s&&(i.limit=a):i.limit=!s||a>t?t:a;const p=gr(n,"_changes"+br(i)),y={signal:d.signal,method:l,body:JSON.stringify(c)};if(h=r,!e.aborted)try{await u(),f(null,(await o(p,y)).data)}catch(e){f(e)}},p={results:[]},y=function(r,n){if(e.aborted)return;let i=0;if(n&&n.results){i=n.results.length,p.last_seq=n.last_seq;let t=null,r=null;"number"==typeof n.pending&&(t=n.pending),"string"!=typeof p.last_seq&&"number"!=typeof p.last_seq||(r=p.last_seq),e.query_params,n.results=n.results.filter((function(n){a--;const i=Z(e)(n);return i&&(e.include_docs&&e.attachments&&e.binary&&fr(n),e.return_docs&&p.results.push(n),e.onChange(n,t,r)),i}))}else if(r)return e.aborted=!0,void e.complete(r);n&&n.last_seq&&(h=n.last_seq);const o=s&&a<=0||n&&i<t||e.descending;(!e.continuous||s&&a<=0)&&o?e.complete(null,p):C((function(){f(h,y)}))};return f(e.since||0,y),{cancel:function(){e.aborted=!0,d.abort()}}},r.revsDiff=a("revsDiff",(async function(e,t,r){"function"==typeof t&&(r=t,t={});try{r(null,(await o(gr(n,"_revs_diff"),{method:"POST",body:JSON.stringify(e)})).data)}catch(e){r(e)}})),r._close=function(e){e()},r._destroy=async function(e,t){try{t(null,await o(gr(n,""),{method:"DELETE"}))}catch(e){404===e.status?t(null,{ok:!0}):t(e)}}}wr.valid=function(){return!0};class vr extends Error{constructor(e){super(),this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,vr)}catch(e){}}}class Ar extends Error{constructor(e){super(),this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ar)}catch(e){}}}class kr extends Error{constructor(e){super(),this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,kr)}catch(e){}}}function _r(e,t){return t&&e.then((function(e){C((function(){t(null,e)}))}),(function(e){C((function(){t(e)}))})),e}function Pr(e,t){return function(){var r=arguments,n=this;return e.add((function(){return t.apply(n,r)}))}}function Er(e){var t=new Set(e),r=new Array(t.size),n=-1;return t.forEach((function(e){r[++n]=e})),r}function Sr(e){var t=new Array(e.size),r=-1;return e.forEach((function(e,n){t[++r]=n})),t}function xr(e){return new kr("builtin "+e+" function requires map values to be numbers or number arrays")}function Cr(e){for(var t=0,r=0,n=e.length;r<n;r++){var i=e[r];if("number"!=typeof i){if(!Array.isArray(i))throw xr("_sum");t="number"==typeof t?[t]:t;for(var s=0,a=i.length;s<a;s++){var o=i[s];if("number"!=typeof o)throw xr("_sum");void 0===t[s]?t.push(o):t[s]+=o}}else"number"==typeof t?t+=i:t[0]+=i}return t}var Br=O.bind(null,"log"),Or=Array.isArray,Rr=JSON.parse;function Ir(e,t){return oe("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Cr,log:Br,isArray:Or,toJSON:Rr})}class Tr{constructor(){this.promise=Promise.resolve()}add(e){return this.promise=this.promise.catch((()=>{})).then((()=>e())),this.promise}finish(){return this.promise}}function Mr(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}async function Nr(e,t,r,n,i,s){const a=function(e,t){return Mr(e)+Mr(t)+"undefined"}(r,n);let o;if(!i&&(o=e._cachedViews=e._cachedViews||{},o[a]))return o[a];const c=e.info().then((async function(c){const u=c.db_name+"-mrview-"+(i?"temp":ke(a));await ce(e,"_local/"+s,(function(e){e.views=e.views||{};let r=t;-1===r.indexOf("/")&&(r=t+"/"+t);const n=e.views[r]=e.views[r]||{};if(!n[u])return n[u]=!0,e}));const l=(await e.registerDependentDatabase(u)).db;l.auto_compaction=!0;const d={name:u,db:l,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};let h;try{h=await d.db.get("_local/lastSeq")}catch(e){if(404!==e.status)throw e}return d.seq=h?h.seq:0,o&&d.db.once("destroyed",(function(){delete o[a]})),d}));return o&&(o[a]=c),c}const Dr={},Ur=new Tr;function jr(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Fr(e,t,r){try{e.emit("error",t)}catch(e){O("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),O("error",t,r)}}var Kr=function(e,t){return Cr(t)},Lr=function(e,t){return t.length},zr=function(e,t){return{sum:Cr(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,r=0,n=e.length;r<n;r++){var i=e[r];t+=i*i}return t}(t)}},qr=function(e){function t(e,t,r){try{t(r)}catch(n){Fr(e,n,{fun:t,doc:r})}}function r(e,t,r,n,i){try{return{output:t(r,n,i)}}catch(s){return Fr(e,s,{fun:t,keys:r,values:n,rereduce:i}),{error:s}}}function n(e,t){const r=pt(e.key,t.key);return 0!==r?r:pt(e.value,t.value)}function i(e,t,r){return r=r||0,"number"==typeof t?e.slice(r,t+r):r>0?e.slice(r):e}function s(e){const t=e.value;return t&&"object"==typeof t&&t._id||e.id}function a(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){for(const t of e.rows){const e=t.doc&&t.doc._attachments;if(e)for(const t of Object.keys(e)){const r=e[t];e[t].data=pe(r.data,r.content_type)}}}(t),t}}function o(e,t,r,n){let i=t[e];void 0!==i&&(n&&(i=encodeURIComponent(JSON.stringify(i))),r.push(e+"="+i))}function c(e){if(void 0!==e){const t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function u(e){if(e){if("number"!=typeof e)return new vr(`Invalid value for integer: "${e}"`);if(e<0)return new vr(`Invalid value for positive integer: "${e}"`)}}function l(e,t){const r=e.descending?"endkey":"startkey",n=e.descending?"startkey":"endkey";if(void 0!==e[r]&&void 0!==e[n]&&pt(e[r],e[n])>0)throw new vr("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new vr("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new vr("Multi-key fetches for reduce views must use {group: true}")}for(const t of["group_level","limit","skip"]){const r=u(e[t]);if(r)throw r}}function d(e){return function(t){if(404===t.status)return e;throw t}}function h(e){const t="string"==typeof e?e:e.name;let r=Dr[t];return r||(r=Dr[t]=new Tr),r}async function f(e,r){return Pr(h(e),(function(){return async function(e,r){let i,s,a;const o=function(e,t){if("function"==typeof e&&2===e.length){var r=e;return function(e){return r(e,t)}}return Ir(e.toString(),t)}(e.mapFun,(function(e,t){const r={id:s._id,key:yt(e)};null!=t&&(r.value=yt(t)),i.push(r)}));let c=e.seq||0;function u(t,r){return function(){return function(e,t,r){var n="_local/lastSeq";return e.db.get(n).catch(d({_id:n,seq:0})).then((function(n){var i=Sr(t);return Promise.all(i.map((function(r){return async function(e,t,r){const n="_local/doc_"+e,i={_id:n,keys:[]},s=r.get(e),a=s[0],o=s[1],c=await(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(o)?Promise.resolve(i):t.db.get(n).catch(d(i))),u=await function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(c);return function(e,t){const r=[],n=new Set;for(const e of t.rows){const t=e.doc;if(t&&(r.push(t),n.add(t._id),t._deleted=!a.has(t._id),!t._deleted)){const e=a.get(t._id);"value"in e&&(t.value=e.value)}}const i=Sr(a);for(const e of i)if(!n.has(e)){const t={_id:e},n=a.get(e);"value"in n&&(t.value=n.value),r.push(t)}return e.keys=Er(i.concat(e.keys)),r.push(e),r}(c,u)}(r,e,t)}))).then((function(t){var i=t.flat();return n.seq=r,i.push(n),e.db.bulkDocs({docs:i})})).then((()=>function(e){return e.sourceDB.get("_local/purges").then((function(t){const r=t.purgeSeq;return e.db.get("_local/purgeSeq").then((function(e){return e._rev})).catch(d(void 0)).then((function(t){return e.db.put({_id:"_local/purgeSeq",_rev:t,purgeSeq:r})}))})).catch((function(e){if(404!==e.status)throw e}))}(e)))}))}(e,t,r)}}let l=0;const h={view:e.name,indexed_docs:l};e.sourceDB.emit("indexing",h);const f=new Tr;async function p(){return function(d,h){const g=d.results;if(!g.length&&!h.length)return;for(const e of h)if(g.findIndex((function(t){return t.id===e.docId}))<0){const t={_id:e.docId,doc:{_id:e.docId,_deleted:1},changes:[]};e.doc&&(t.doc=e.doc,t.changes.push({rev:e.doc._rev})),g.push(t)}const m=function(r){const a=new Map;for(const u of r){if("_"!==u.doc._id[0]){i=[],s=u.doc,s._deleted||t(e.sourceDB,o,s),i.sort(n);const r=y(i);a.set(u.doc._id,[r,u.changes])}c=u.seq}return a}(g);f.add(u(m,c)),l+=g.length;const b={view:e.name,last_seq:d.last_seq,results_count:g.length,indexed_docs:l};return e.sourceDB.emit("indexing",b),e.sourceDB.activeTasks.update(a,{completed_items:l}),g.length<r.changes_batch_size?void 0:p()}(await e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:r.changes_batch_size}),await e.db.get("_local/purgeSeq").then((function(e){return e.purgeSeq})).catch(d(-1)).then((function(t){return e.sourceDB.get("_local/purges").then((function(r){const n=r.purges.filter((function(e,r){return r>t})).map((e=>e.docId)),i=n.filter((function(e,t){return n.indexOf(e)===t}));return Promise.all(i.map((function(t){return e.sourceDB.get(t).then((function(e){return{docId:t,doc:e}})).catch(d({docId:t}))})))})).catch(d([]))})))}function y(e){const t=new Map;let r;for(let n=0,i=e.length;n<i;n++){const i=e[n],s=[i.key,i.id];n>0&&0===pt(i.key,r)&&s.push(n),t.set(gt(s),i),r=i.key}return t}try{await e.sourceDB.info().then((function(t){a=e.sourceDB.activeTasks.add({name:"view_indexing",total_items:t.update_seq-c})})),await p(),await f.finish(),e.seq=c,e.sourceDB.activeTasks.remove(a)}catch(t){e.sourceDB.activeTasks.remove(a,t)}}(e,r)}))()}function p(e,t){return Pr(h(e),(function(){return async function(e,t){let n;const a=e.reduceFun&&!1!==t.reduce,o=t.skip||0;async function c(t){t.include_docs=!0;const r=await e.db.allDocs(t);return n=r.total_rows,r.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){const t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}const t=function(e){for(var t=[],r=[],n=0;;){var i=e[n++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var s=mt(e,n);t.push(s.num),n+=s.length;break;case"4":for(var a="";;){var o=e[n];if("\0"===o)break;a+=o,n++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var c={element:[],index:t.length};t.push(c.element),r.push(c);break;case"6":var u={element:{},index:t.length};t.push(u.element),r.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();bt(t,r)}}}(e.doc._id);return{key:t[0],id:t[1],value:"value"in e.doc?e.doc.value:null}}))}async function u(c){let u;if(u=a?function(e,t,n){0===n.group_level&&delete n.group_level;const s=n.group||n.group_level,a=function(e){var t=e.toString();return function(e){if(/^_sum/.test(e))return Kr;if(/^_count/.test(e))return Lr;if(/^_stats/.test(e))return zr;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t)||Ir(t)}(e.reduceFun),o=[],c=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;for(const e of t){const t=o[o.length-1];let r=s?e.key:null;s&&Array.isArray(r)&&(r=r.slice(0,c)),t&&0===pt(t.groupKey,r)?(t.keys.push([e.key,e.id]),t.values.push(e.value)):o.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}t=[];for(const n of o){const i=r(e.sourceDB,a,n.keys,n.values,!1);if(i.error&&i.error instanceof kr)throw i.error;t.push({value:i.error?null:i.output,key:n.groupKey})}return{rows:i(t,n.limit,n.skip)}}(e,c,t):void 0===t.keys?{total_rows:n,offset:o,rows:c}:{total_rows:n,offset:o,rows:i(c,t.limit,t.skip)},t.update_seq&&(u.update_seq=e.seq),t.include_docs){const r=Er(c.map(s)),n=await e.sourceDB.allDocs({keys:r,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}),i=new Map;for(const e of n.rows)i.set(e.id,e.doc);for(const e of c){const t=s(e),r=i.get(t);r&&(e.doc=r)}}return u}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){const e=t.keys.map((function(e){const r={startkey:gt([e]),endkey:gt([e,{}])};return t.update_seq&&(r.update_seq=!0),c(r)}));return u((await Promise.all(e)).flat())}{const e={descending:t.descending};let r,n;if(t.update_seq&&(e.update_seq=!0),"start_key"in t&&(r=t.start_key),"startkey"in t&&(r=t.startkey),"end_key"in t&&(n=t.end_key),"endkey"in t&&(n=t.endkey),void 0!==r&&(e.startkey=t.descending?gt([r,{}]):gt([r])),void 0!==n){let r=!1!==t.inclusive_end;t.descending&&(r=!r),e.endkey=gt(r?[n,{}]:[n])}if(void 0!==t.key){const r=gt([t.key]),n=gt([t.key,{}]);e.descending?(e.endkey=r,e.startkey=n):(e.startkey=r,e.endkey=n)}return a||("number"==typeof t.limit&&(e.limit=t.limit),e.skip=o),u(await c(e))}}(e,t)}))()}async function y(t,r,n){if("function"==typeof t._query)return function(e,t,r){return new Promise((function(n,i){e._query(t,r,(function(e,t){if(e)return i(e);n(t)}))}))}(t,r,n);if(X(t))return async function(e,t,r){let n,i,s=[],c="GET";if(o("reduce",r,s),o("include_docs",r,s),o("attachments",r,s),o("limit",r,s),o("descending",r,s),o("group",r,s),o("group_level",r,s),o("skip",r,s),o("stale",r,s),o("conflicts",r,s),o("startkey",r,s,!0),o("start_key",r,s,!0),o("endkey",r,s,!0),o("end_key",r,s,!0),o("inclusive_end",r,s),o("key",r,s,!0),o("update_seq",r,s),s=s.join("&"),s=""===s?"":"?"+s,void 0!==r.keys){const e=2e3,i=`keys=${encodeURIComponent(JSON.stringify(r.keys))}`;i.length+s.length+1<=e?s+=("?"===s[0]?"&":"?")+i:(c="POST","string"==typeof t?n={keys:r.keys}:t.keys=r.keys)}if("string"==typeof t){const o=jr(t),u=await e.fetch("_design/"+o[0]+"/_view/"+o[1]+s,{headers:new rt({"Content-Type":"application/json"}),method:c,body:JSON.stringify(n)});i=u.ok;const l=await u.json();if(!i)throw l.status=u.status,$(l);for(const e of l.rows)if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason);return new Promise((function(e){e(l)})).then(a(r))}n=n||{};for(const e of Object.keys(t))Array.isArray(t[e])?n[e]=t[e]:n[e]=t[e].toString();const u=await e.fetch("_temp_view"+s,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(n)});i=u.ok;const l=await u.json();if(!i)throw l.status=u.status,$(l);return new Promise((function(e){e(l)})).then(a(r))}(t,r,n);const i={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof r)return l(n,r),Ur.add((async function(){const s=await Nr(t,"temp_view/temp_view",r.map,r.reduce,!0,e);return a=f(s,i).then((function(){return p(s,n)})),o=function(){return s.db.destroy()},a.then((function(e){return o().then((function(){return e}))}),(function(e){return o().then((function(){throw e}))}));var a,o})),Ur.finish();{const s=r,a=jr(s),o=a[0],c=a[1],u=await t.get("_design/"+o);if(!(r=u.views&&u.views[c]))throw new Ar(`ddoc ${u._id} has no view named ${c}`);(function(e,t){var r=e.views&&e.views[t];if("string"!=typeof r.map)throw new Ar("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof r.map)})(u,c),l(n,r);const d=await Nr(t,s,r.map,r.reduce,!1,e);return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&C((function(){f(d,i)})),p(d,n)):(await f(d,i),p(d,n))}}var g;return{query:function(e,t,r){const n=this;"function"==typeof t&&(r=t,t={}),t=t?function(e){return e.group_level=c(e.group_level),e.limit=c(e.limit),e.skip=c(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});const i=Promise.resolve().then((function(){return y(n,e,t)}));return _r(i,r),i},viewCleanup:(g=function(){const t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,r){e._viewCleanup((function(e,n){if(e)return r(e);t(n)}))}))}(t):X(t)?async function(e){return(await e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"})).json()}(t):async function(t){try{const r=await t.get("_local/"+e),n=new Map;for(const e of Object.keys(r.views)){const t=jr(e),r="_design/"+t[0],i=t[1];let s=n.get(r);s||(s=new Set,n.set(r,s)),s.add(i)}const i={keys:Sr(n),include_docs:!0},s=await t.allDocs(i),a={};for(const e of s.rows){const t=e.key.substring(8);for(const i of n.get(e.key)){let n=t+"/"+i;r.views[n]||(n=i);const s=Object.keys(r.views[n]),o=e.doc&&e.doc.views&&e.doc.views[i];for(const e of s)a[e]=a[e]||o}}const o=Object.keys(a).filter((function(e){return!a[e]})).map((function(e){return Pr(h(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}catch(e){if(404===e.status)return{ok:!0};throw e}}(t)},function(...e){var t=e.pop(),r=g.apply(this,e);return"function"==typeof t&&_r(r,t),r})}}("mrviews"),Hr={query:function(e,t,r){return qr.query.call(this,e,t,r)},viewCleanup:function(e){return qr.viewCleanup.call(this,e)}};function Gr(e,t){var r=Object.keys(t._attachments);return Promise.all(r.map((function(r){return e.getAttachment(t._id,r,{rev:t._rev})})))}var Wr="pouchdb";function Vr(e,t,r,n,i){return e.get(t).catch((function(r){if(404===r.status)return"http"!==e.adapter&&"https"!==e.adapter||I(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:t,history:[],replicator:Wr,version:1};throw r})).then((function(s){if(!i.cancelled&&s.last_seq!==r)return s.history=(s.history||[]).filter((function(e){return e.session_id!==n})),s.history.unshift({last_seq:r,session_id:n}),s.history=s.history.slice(0,5),s.version=1,s.replicator=Wr,s.session_id=n,s.last_seq=r,e.put(s).catch((function(s){if(409===s.status)return Vr(e,t,r,n,i);throw s}))}))}class Jr{constructor(e,t,r,n,i={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0}){this.src=e,this.target=t,this.id=r,this.returnValue=n,this.opts=i,void 0===i.writeSourceCheckpoint&&(i.writeSourceCheckpoint=!0),void 0===i.writeTargetCheckpoint&&(i.writeTargetCheckpoint=!0)}writeCheckpoint(e,t){var r=this;return this.updateTarget(e,t).then((function(){return r.updateSource(e,t)}))}updateTarget(e,t){return this.opts.writeTargetCheckpoint?Vr(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)}updateSource(e,t){if(this.opts.writeSourceCheckpoint){var r=this;return Vr(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Yr(e))return r.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)}getCheckpoint(){var e=this;return e.opts.writeSourceCheckpoint||e.opts.writeTargetCheckpoint?e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(r=t.version?t.version.toString():"undefined")in Qr?Qr[r](t,e):0;var r}),(function(r){if(404===r.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(r){return Yr(r)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw r}))})).catch((function(e){if(404!==e.status)throw e;return 0})):Promise.resolve(0)}}var Qr={undefined:function(e,t){return 0===pt(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return(r=t,n=e,r.session_id===n.session_id?{last_seq:r.last_seq,history:r.history}:$r(r.history,n.history)).last_seq;var r,n}};function $r(e,t){var r=e[0],n=e.slice(1),i=t[0],s=t.slice(1);return r&&0!==t.length?Zr(r.session_id,t)?{last_seq:r.last_seq,history:e}:Zr(i.session_id,n)?{last_seq:i.last_seq,history:s}:$r(n,s):{last_seq:0,history:[]}}function Zr(e,t){var r=t[0],n=t.slice(1);return!(!e||0===t.length)&&(e===r.session_id||Zr(e,n))}function Yr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function Xr(e,t,r,n,i){return this instanceof Jr?Xr:new Jr(e,t,r,n,i)}function en(e,t,r,n,i){var s,a,o,c,u=[],l={seq:0,changes:[],docs:[]},d=!1,h=!1,f=!1,p=0,y=0,g=r.continuous||r.live||!1,m=r.batch_size||100,b=r.batches_limit||10,v=r.style||"all_docs",A=!1,k=r.doc_ids,_=r.selector,P=[],E=Pe();i=i||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var S={};function x(){return o?Promise.resolve():function(e,t,r){var n=r.doc_ids?r.doc_ids.sort(pt):"",i=r.filter?r.filter.toString():"",s="",a="",o="";return r.selector&&(o=JSON.stringify(r.selector)),r.filter&&r.query_params&&(s=JSON.stringify(function(e){return Object.keys(e).sort(pt).reduce((function(t,r){return t[r]=e[r],t}),{})}(r.query_params))),r.filter&&"_view"===r.filter&&(a=r.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+i+a+s+n+o;return new Promise((function(e){Ae(t,e)}))})).then((function(e){return"_local/"+e.replace(/\//g,".").replace(/\+/g,"_")}))}(e,t,r).then((function(i){a=i;var s;s=!1===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===r.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},o=new Xr(e,t,a,n,s)}))}function B(){if(P=[],0!==s.docs.length){var e=s.docs,a={timeout:r.timeout};return t.bulkDocs({docs:e,new_edits:!1},a).then((function(t){if(n.cancelled)throw D(),new Error("cancelled");var r=Object.create(null);t.forEach((function(e){e.error&&(r[e.id]=e)}));var s=Object.keys(r).length;i.doc_write_failures+=s,i.docs_written+=e.length-s,e.forEach((function(e){var t=r[e._id];if(t){i.errors.push(t);var s=(t.name||"").toLowerCase();if("unauthorized"!==s&&"forbidden"!==s)throw t;n.emit("denied",w(t))}else P.push(e)}))}),(function(t){throw i.doc_write_failures+=e.length,t}))}}function O(){if(s.error)throw new Error("There was a problem getting docs.");i.last_seq=y=s.seq;var t=w(i);return P.length&&(t.docs=P,"number"==typeof s.pending&&(t.pending=s.pending,delete s.pending),n.emit("change",t)),d=!0,e.info().then((function(t){var r=e.activeTasks.get(c);if(s&&r){var n=r.completed_items||0,i=parseInt(t.update_seq,10)-parseInt(p,10);e.activeTasks.update(c,{completed_items:n+s.changes.length,total_items:i})}})),o.writeCheckpoint(s.seq,E).then((function(){if(n.emit("checkpoint",{checkpoint:s.seq}),d=!1,n.cancelled)throw D(),new Error("cancelled");s=void 0,K()})).catch((function(e){throw q(e),e}))}function I(){return function(e,t,r,n){r=w(r);var i=[],s=!0;return Promise.resolve().then((function(){var a=function(e){var t=[];return Object.keys(e).forEach((function(r){e[r].missing.forEach((function(e){t.push({id:r,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(r);if(a.docs.length)return e.bulkGet(a).then((function(r){if(n.cancelled)throw new Error("cancelled");return Promise.all(r.results.map((function(r){return Promise.all(r.docs.map((function(r){var n=r.ok;return r.error&&(s=!1),n&&n._attachments?function(e,t,r){var n=X(t)&&!X(e),i=Object.keys(r._attachments);return n?e.get(r._id).then((function(n){return Promise.all(i.map((function(i){return function(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==t._attachments[r].digest}(n,r,i)?t.getAttachment(r._id,i):e.getAttachment(n._id,i)})))})).catch((function(e){if(404!==e.status)throw e;return Gr(t,r)})):Gr(t,r)}(t,e,n).then((e=>{var t=Object.keys(n._attachments);return e.forEach((function(e,r){var i=n._attachments[t[r]];delete i.stub,delete i.length,i.data=e})),n})):n})))}))).then((function(e){i=i.concat(e.flat().filter(Boolean))}))}))})).then((function(){return{ok:s,docs:i}}))}(e,t,s.diffs,n).then((function(e){s.error=!e.ok,e.docs.forEach((function(e){delete s.diffs[e._id],i.docs_read++,s.docs.push(e)}))}))}function T(){var e;n.cancelled||s||(0!==u.length?(s=u.shift(),n.emit("checkpoint",{start_next_batch:s.seq}),(e={},s.changes.forEach((function(t){n.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(n.cancelled)throw D(),new Error("cancelled");s.diffs=e}))).then(I).then(B).then(O).then(T).catch((function(e){N("batch processing terminated with error",e)}))):M(!0))}function M(e){0!==l.changes.length?(e||h||l.changes.length>=m)&&(u.push(l),l={seq:0,changes:[],docs:[]},"pending"!==n.state&&"stopped"!==n.state||(n.state="active",n.emit("active")),T()):0!==u.length||s||((g&&S.live||h)&&(n.state="pending",n.emit("paused")),h&&D())}function N(e,t){f||(t.message||(t.message=e),i.ok=!1,i.status="aborting",u=[],l={seq:0,changes:[],docs:[]},D(t))}function D(s){if(!(f||n.cancelled&&(i.status="cancelled",d)))if(i.status=i.status||"complete",i.end_time=(new Date).toISOString(),i.last_seq=y,f=!0,e.activeTasks.remove(c,s),s){(s=Q(s)).result=i;var a=(s.name||"").toLowerCase();"unauthorized"===a||"forbidden"===a?(n.emit("error",s),n.removeAllListeners()):function(e,t,r,n){if(!1===e.retry)return t.emit("error",r),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=R),t.emit("requestError",r),"active"===t.state||"pending"===t.state){t.emit("paused",r),t.state="stopped";var i=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",i)})),t.once("active",i)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(n,e.current_back_off)}(r,n,s,(function(){en(e,t,r,n)}))}else n.emit("complete",i),n.removeAllListeners()}function U(t,i,s){if(n.cancelled)return D();if("number"==typeof i&&(l.pending=i),Z(r)(t))l.seq=t.seq||s,l.changes.push(t),n.emit("checkpoint",{pending_batch:l.seq}),C((function(){M(0===u.length&&S.live)}));else{var a=e.activeTasks.get(c);if(a){var o=a.completed_items||0;e.activeTasks.update(c,{completed_items:++o})}}}function j(e){if(A=!1,n.cancelled)return D();if(e.results.length>0)S.since=e.results[e.results.length-1].seq,K(),M(!0);else{var t=function(){g?(S.live=!0,K()):h=!0,M(!0)};s||0!==e.results.length?t():(d=!0,o.writeCheckpoint(e.last_seq,E).then((function(){if(d=!1,i.last_seq=y=e.last_seq,n.cancelled)throw D(),new Error("cancelled");t()})).catch(q))}}function F(e){if(A=!1,n.cancelled)return D();N("changes rejected",e)}function K(){if(!A&&!h&&u.length<b){A=!0,n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",i);var t=e.changes(S).on("change",U);t.then(s,s),t.then(j).catch(F),r.retry&&(n._changes=t,n._abortChanges=i)}function i(){t.cancel()}function s(){n.removeListener("cancel",i)}}function L(t){return e.info().then((function(n){var i=void 0===r.since?parseInt(n.update_seq,10)-parseInt(t,10):parseInt(n.update_seq,10);return c=e.activeTasks.add({name:`${g?"continuous ":""}replication from ${n.db_name}`,total_items:i}),t}))}function z(){x().then((function(){if(!n.cancelled)return o.getCheckpoint().then(L).then((function(e){p=e,S={since:y=e,limit:m,batch_size:m,style:v,doc_ids:k,selector:_,return_docs:!0},r.filter&&("string"!=typeof r.filter?S.include_docs=!0:S.filter=r.filter),"heartbeat"in r&&(S.heartbeat=r.heartbeat),"timeout"in r&&(S.timeout=r.timeout),r.query_params&&(S.query_params=r.query_params),r.view&&(S.view=r.view),K()}));D()})).catch((function(e){N("getCheckpoint rejected with ",e)}))}function q(e){d=!1,N("writeCheckpoint completed with error",e)}n.ready(e,t),n.cancelled?D():(n._addedListeners||(n.once("cancel",D),"function"==typeof r.complete&&(n.once("error",r.complete),n.once("complete",(function(e){r.complete(null,e)}))),n._addedListeners=!0),void 0===r.since?z():x().then((function(){return d=!0,o.writeCheckpoint(r.since,E)})).then((function(){d=!1,n.cancelled?D():(y=r.since,z())})).catch(q))}class tn extends(g()){constructor(){super(),this.cancelled=!1,this.state="pending";const e=new Promise(((e,t)=>{this.once("complete",e),this.once("error",t)}));this.then=function(t,r){return e.then(t,r)},this.catch=function(t){return e.catch(t)},this.catch((function(){}))}cancel(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")}ready(e,t){if(this._readyCalled)return;this._readyCalled=!0;const r=()=>{this.cancel()};function n(){e.removeListener("destroyed",r),t.removeListener("destroyed",r)}e.once("destroyed",r),t.once("destroyed",r),this.once("complete",n),this.once("error",n)}}function rn(e,t){var r=t.PouchConstructor;return"string"==typeof e?new r(e,t):e}function nn(e,t,r,n){if("function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw Q(H,"`doc_ids` filter parameter is not a list.");r.complete=n,(r=w(r)).continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var i=new tn(r);return en(rn(e,r),rn(t,r),r,i),i}function sn(e,t,r,n){return"function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),(r=w(r)).PouchConstructor=r.PouchConstructor||this,e=rn(e,r),t=rn(t,r),new an(e,t,r,n)}class an extends(g()){constructor(e,t,r,n){super(),this.canceled=!1;const i=r.push?Object.assign({},r,r.push):r,s=r.pull?Object.assign({},r,r.pull):r;this.push=nn(e,t,i),this.pull=nn(t,e,s),this.pushPaused=!0,this.pullPaused=!0;const a=e=>{this.emit("change",{direction:"pull",change:e})},o=e=>{this.emit("change",{direction:"push",change:e})},c=e=>{this.emit("denied",{direction:"push",doc:e})},u=e=>{this.emit("denied",{direction:"pull",doc:e})},l=()=>{this.pushPaused=!0,this.pullPaused&&this.emit("paused")},d=()=>{this.pullPaused=!0,this.pushPaused&&this.emit("paused")},h=()=>{this.pushPaused=!1,this.pullPaused&&this.emit("active",{direction:"push"})},f=()=>{this.pullPaused=!1,this.pushPaused&&this.emit("active",{direction:"pull"})};let p={};const y=e=>(t,r)=>{("change"===t&&(r===a||r===o)||"denied"===t&&(r===u||r===c)||"paused"===t&&(r===d||r===l)||"active"===t&&(r===f||r===h))&&(t in p||(p[t]={}),p[t][e]=!0,2===Object.keys(p[t]).length&&this.removeAllListeners(t))};function g(e,t,r){-1==e.listeners(t).indexOf(r)&&e.on(t,r)}r.live&&(this.push.on("complete",this.pull.cancel.bind(this.pull)),this.pull.on("complete",this.push.cancel.bind(this.push))),this.on("newListener",(function(e){"change"===e?(g(this.pull,"change",a),g(this.push,"change",o)):"denied"===e?(g(this.pull,"denied",u),g(this.push,"denied",c)):"active"===e?(g(this.pull,"active",f),g(this.push,"active",h)):"paused"===e&&(g(this.pull,"paused",d),g(this.push,"paused",l))})),this.on("removeListener",(function(e){"change"===e?(this.pull.removeListener("change",a),this.push.removeListener("change",o)):"denied"===e?(this.pull.removeListener("denied",u),this.push.removeListener("denied",c)):"active"===e?(this.pull.removeListener("active",f),this.push.removeListener("active",h)):"paused"===e&&(this.pull.removeListener("paused",d),this.push.removeListener("paused",l))})),this.pull.on("removeListener",y("pull")),this.push.on("removeListener",y("push"));const m=Promise.all([this.push,this.pull]).then((e=>{const t={push:e[0],pull:e[1]};return this.emit("complete",t),n&&n(null,t),this.removeAllListeners(),t}),(e=>{if(this.cancel(),n?n(e):this.emit("error",e),this.removeAllListeners(),n)throw e}));this.then=function(e,t){return m.then(e,t)},this.catch=function(e){return m.catch(e)}}cancel(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}}et.plugin((function(e){e.adapter("idb",lr,!0)})).plugin((function(e){e.adapter("http",wr,!1),e.adapter("https",wr,!1)})).plugin(Hr).plugin((function(e){e.replicate=nn,e.sync=sn,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,r,n){return e.constructor.replicate(t,e,r,n)},to:function(t,r,n){return e.constructor.replicate(e,t,r,n)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,r){return this.constructor.sync(this,e,t,r)}}));const on=et},5735:e=>{e.exports=function(){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function t(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];n=((n+=((i=((i+=((s=((s+=((r=((r+=(n&i|~n&s)+t[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&i)+t[1]-389564586|0)<<12|s>>>20)+r|0)&r|~s&n)+t[2]+606105819|0)<<17|i>>>15)+s|0)&s|~i&r)+t[3]-1044525330|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n&i|~n&s)+t[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&i)+t[5]+1200080426|0)<<12|s>>>20)+r|0)&r|~s&n)+t[6]-1473231341|0)<<17|i>>>15)+s|0)&s|~i&r)+t[7]-45705983|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n&i|~n&s)+t[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&i)+t[9]-1958414417|0)<<12|s>>>20)+r|0)&r|~s&n)+t[10]-42063|0)<<17|i>>>15)+s|0)&s|~i&r)+t[11]-1990404162|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n&i|~n&s)+t[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&i)+t[13]-40341101|0)<<12|s>>>20)+r|0)&r|~s&n)+t[14]-1502002290|0)<<17|i>>>15)+s|0)&s|~i&r)+t[15]+1236535329|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n&s|i&~s)+t[1]-165796510|0)<<5|r>>>27)+n|0)&i|n&~i)+t[6]-1069501632|0)<<9|s>>>23)+r|0)&n|r&~n)+t[11]+643717713|0)<<14|i>>>18)+s|0)&r|s&~r)+t[0]-373897302|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n&s|i&~s)+t[5]-701558691|0)<<5|r>>>27)+n|0)&i|n&~i)+t[10]+38016083|0)<<9|s>>>23)+r|0)&n|r&~n)+t[15]-660478335|0)<<14|i>>>18)+s|0)&r|s&~r)+t[4]-405537848|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n&s|i&~s)+t[9]+568446438|0)<<5|r>>>27)+n|0)&i|n&~i)+t[14]-1019803690|0)<<9|s>>>23)+r|0)&n|r&~n)+t[3]-187363961|0)<<14|i>>>18)+s|0)&r|s&~r)+t[8]+1163531501|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n&s|i&~s)+t[13]-1444681467|0)<<5|r>>>27)+n|0)&i|n&~i)+t[2]-51403784|0)<<9|s>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0)<<14|i>>>18)+s|0)&r|s&~r)+t[12]-1926607734|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n^i^s)+t[5]-378558|0)<<4|r>>>28)+n|0)^n^i)+t[8]-2022574463|0)<<11|s>>>21)+r|0)^r^n)+t[11]+1839030562|0)<<16|i>>>16)+s|0)^s^r)+t[14]-35309556|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n^i^s)+t[1]-1530992060|0)<<4|r>>>28)+n|0)^n^i)+t[4]+1272893353|0)<<11|s>>>21)+r|0)^r^n)+t[7]-155497632|0)<<16|i>>>16)+s|0)^s^r)+t[10]-1094730640|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n^i^s)+t[13]+681279174|0)<<4|r>>>28)+n|0)^n^i)+t[0]-358537222|0)<<11|s>>>21)+r|0)^r^n)+t[3]-722521979|0)<<16|i>>>16)+s|0)^s^r)+t[6]+76029189|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((s=((s+=((r=((r+=(n^i^s)+t[9]-640364487|0)<<4|r>>>28)+n|0)^n^i)+t[12]-421815835|0)<<11|s>>>21)+r|0)^r^n)+t[15]+530742520|0)<<16|i>>>16)+s|0)^s^r)+t[2]-995338651|0)<<23|n>>>9)+i|0,n=((n+=((s=((s+=(n^((r=((r+=(i^(n|~s))+t[0]-198630844|0)<<6|r>>>26)+n|0)|~i))+t[7]+1126891415|0)<<10|s>>>22)+r|0)^((i=((i+=(r^(s|~n))+t[14]-1416354905|0)<<15|i>>>17)+s|0)|~r))+t[5]-57434055|0)<<21|n>>>11)+i|0,n=((n+=((s=((s+=(n^((r=((r+=(i^(n|~s))+t[12]+1700485571|0)<<6|r>>>26)+n|0)|~i))+t[3]-1894986606|0)<<10|s>>>22)+r|0)^((i=((i+=(r^(s|~n))+t[10]-1051523|0)<<15|i>>>17)+s|0)|~r))+t[1]-2054922799|0)<<21|n>>>11)+i|0,n=((n+=((s=((s+=(n^((r=((r+=(i^(n|~s))+t[8]+1873313359|0)<<6|r>>>26)+n|0)|~i))+t[15]-30611744|0)<<10|s>>>22)+r|0)^((i=((i+=(r^(s|~n))+t[6]-1560198380|0)<<15|i>>>17)+s|0)|~r))+t[13]+1309151649|0)<<21|n>>>11)+i|0,n=((n+=((s=((s+=(n^((r=((r+=(i^(n|~s))+t[4]-145523070|0)<<6|r>>>26)+n|0)|~i))+t[11]-1120210379|0)<<10|s>>>22)+r|0)^((i=((i+=(r^(s|~n))+t[2]+718787259|0)<<15|i>>>17)+s|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+i|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=i+e[2]|0,e[3]=s+e[3]|0}function r(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function i(e){var n,i,s,a,o,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=u;n+=64)t(l,r(e.substring(n-64,n)));for(i=(e=e.substring(n-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<i;n+=1)s[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(s[n>>2]|=128<<(n%4<<3),n>55)for(t(l,s),n=0;n<16;n+=1)s[n]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(a[2],16),c=parseInt(a[1],16)||0,s[14]=o,s[15]=c,t(l,s),l}function s(t){var r,n="";for(r=0;r<4;r+=1)n+=e[t>>8*r+4&15]+e[t>>8*r&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function o(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function u(){this.reset()}return a(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,r){var n,i,s,a,o=this.byteLength,c=e(t,o),u=o;return undefined!==r&&(u=e(r,o)),c>u?new ArrayBuffer(0):(n=u-c,i=new ArrayBuffer(n),s=new Uint8Array(i),a=new Uint8Array(this,c,n),s.set(a),i)}}(),u.prototype.append=function(e){return this.appendBinary(o(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var n,i=this._buff.length;for(n=64;n<=i;n+=64)t(this._hash,r(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},u.prototype.end=function(e){var t,r,n=this._buff,i=n.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)s[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(s,i),r=a(this._hash),e&&(r=c(r)),this.reset(),r},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,r){var n,i,s,a=r;if(e[a>>2]|=128<<(a%4<<3),a>55)for(t(this._hash,e),a=0;a<16;a+=1)e[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),s=parseInt(n[1],16)||0,e[14]=i,e[15]=s,t(this._hash,e)},u.hash=function(e,t){return u.hashBinary(o(e),t)},u.hashBinary=function(e,t){var r=a(i(e));return t?c(r):r},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var r,i,s,a,o,c=(i=this._buff.buffer,s=e,a=!0,(o=new Uint8Array(i.byteLength+s.byteLength)).set(new Uint8Array(i)),o.set(new Uint8Array(s),i.byteLength),a?o:o.buffer),u=c.length;for(this._length+=e.byteLength,r=64;r<=u;r+=64)t(this._hash,n(c.subarray(r-64,r)));return this._buff=r-64<u?new Uint8Array(c.buffer.slice(r-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,i=n.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)s[t>>2]|=n[t]<<(t%4<<3);return this._finish(s,i),r=a(this._hash),e&&(r=c(r)),this.reset(),r},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,n=e.length,i=new ArrayBuffer(n),s=new Uint8Array(i);for(r=0;r<n;r+=1)s[r]=e.charCodeAt(r);return t?s:i}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,r){var i=a(function(e){var r,i,s,a,o,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=u;r+=64)t(l,n(e.subarray(r-64,r)));for(i=(e=r-64<u?e.subarray(r-64):new Uint8Array(0)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<i;r+=1)s[r>>2]|=e[r]<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(t(l,s),r=0;r<16;r+=1)s[r]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(a[2],16),c=parseInt(a[1],16)||0,s[14]=o,s[15]=c,t(l,s),l}(new Uint8Array(e)));return r?c(i):i},u}()},5215:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>A,__asyncGenerator:()=>v,__asyncValues:()=>k,__await:()=>w,__awaiter:()=>l,__classPrivateFieldGet:()=>x,__classPrivateFieldIn:()=>B,__classPrivateFieldSet:()=>C,__createBinding:()=>h,__decorate:()=>o,__exportStar:()=>f,__extends:()=>i,__generator:()=>d,__importDefault:()=>S,__importStar:()=>E,__makeTemplateObject:()=>_,__metadata:()=>u,__param:()=>c,__read:()=>y,__rest:()=>a,__spread:()=>g,__spreadArray:()=>b,__spreadArrays:()=>m,__values:()=>p});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function o(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function o(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}c((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}var h=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function f(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||h(t,e,r)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function b(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||o(e,t)}))})}function o(e,t){try{(r=i[e](t)).value instanceof w?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(e){l(s[0][3],e)}var r}function c(e){o("next",e)}function u(e){o("throw",e)}function l(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function A(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:w(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var P=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&h(t,e,r);return P(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function x(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function C(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function B(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},4655:(e,t)=>{"use strict";function r(e,t,r){var n=r[r.length-1];e===n.element&&(r.pop(),n=r[r.length-1]);var i=n.element,s=n.index;Array.isArray(i)?i.push(e):s===t.length-2?i[t.pop()]=e:t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var r,n,i,s,a,o,c,u,l,d,h="";r=t.pop();)if(n=r.obj,h+=r.prefix||"",i=r.val||"")h+=i;else if("object"!=typeof n)h+=void 0===n?null:JSON.stringify(n);else if(null===n)h+="null";else if(Array.isArray(n)){for(t.push({val:"]"}),s=n.length-1;s>=0;s--)a=0===s?"":",",t.push({obj:n[s],prefix:a});t.push({val:"["})}else{for(c in o=[],n)n.hasOwnProperty(c)&&o.push(c);for(t.push({val:"}"}),s=o.length-1;s>=0;s--)l=n[u=o[s]],d=s>0?",":"",d+=JSON.stringify(u)+":",t.push({obj:l,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,n,i,s,a,o,c,u,l,d=[],h=[],f=0;;)if("}"!==(t=e[f++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":f+=3,r(null,d,h);break;case"t":f+=3,r(!0,d,h);break;case"f":f+=4,r(!1,d,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",f--;;){if(i=e[f++],!/[\d\.\-e\+]/.test(i)){f--;break}n+=i}r(parseFloat(n),d,h);break;case'"':for(s="",a=void 0,o=0;'"'!==(c=e[f++])||"\\"===a&&o%2==1;)s+=c,"\\"===(a=c)?o++:o=0;r(JSON.parse('"'+s+'"'),d,h);break;case"[":u={element:[],index:d.length},d.push(u.element),h.push(u);break;case"{":l={element:{},index:d.length},d.push(l.element),h.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();r(d.pop(),d,h)}}},3514:(e,t)=>{"use strict";const r=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function n(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,s=[0,1];for(let e=1;e<n;e++)s.push(i+=r());let a=r(),o=t;t+=a;let c=0,u=0;function l(){return 0==c&&(u=u<<8|e[t++],c=8),u>>--c&1}const d=2**31,h=d>>>1,f=h>>1,p=d-1;let y=0;for(let e=0;e<31;e++)y=y<<1|l();let g=[],m=0,b=d;for(;;){let e=Math.floor(((y-m+1)*i-1)/b),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<s[n]?r=n:t=n}if(0==t)break;g.push(t);let a=m+Math.floor(b*s[t]/i),o=m+Math.floor(b*s[t+1]/i)-1;for(;!((a^o)&h);)y=y<<1&p|l(),a=a<<1&p,o=o<<1&p|1;for(;a&~o&f;)y=y&h|y<<1&p>>>1|l(),a=a<<1^h,o=(o^h)<<1|h|1;m=a,b=1+o-a}let w=n-4;return g.map((t=>{switch(t-w){case 3:return w+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return w+256+(e[o++]<<8|e[o++]);case 1:return w+e[o++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,r)=>t[e.charCodeAt(0)]=r));let r=e.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,a=0,o=0;i<r;i++)o=o<<6|t[e.charCodeAt(i)],a+=6,a>=8&&(n[s++]=o>>(a-=8));return n}(e)))}function i(e){return 1&e?~e>>1:e>>1}function s(e,t){let r=Array(e);for(let n=0,s=0;n<e;n++)r[n]=s+=i(t());return r}function a(e,t=0){let r=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let e=0;e<i;e++)r.push(t+e);t+=i+1}return r}function o(e){return u((()=>{let t=a(e);if(t.length)return t}))}function c(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(d(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(h(r,e))}return t.flat()}function u(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function l(e,t,r){let n=Array(e).fill().map((()=>[]));for(let i=0;i<t;i++)s(e,r).forEach(((e,t)=>n[t].push(e)));return n}function d(e,t){let r=1+t(),n=t(),i=u(t);return l(i.length,1+e,t).flatMap(((e,t)=>{let[s,...a]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*n;return[s+t*r,a.map((e=>e+i))]}))}))}function h(e,t){return l(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function f(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function p(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}function y(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function g(e,t){let r=e.length,n=r-t.length;for(let i=0;0==n&&i<r;i++)n=e[i]-t[i];return n}const m=44032,b=4352,w=4449,v=4519;function A(e){return e>>24&255}function k(e){return 16777215&e}let _,P,E,S;function x(e){return e>=m&&e<55204}function C(e,t){if(e>=b&&e<4371&&t>=w&&t<4470)return m+588*(e-b)+28*(t-w);if(x(e)&&t>v&&t<4547&&(e-m)%28==0)return e+(t-v);{let r=S.get(e);return r&&(r=r.get(t),r)?r:-1}}function B(e){_||function(){let e=n("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");_=new Map(o(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),P=new Set(a(e)),E=new Map,S=new Map;for(let[t,r]of c(e)){if(!P.has(t)&&2==r.length){let[e,n]=r,i=S.get(e);i||(i=new Map,S.set(e,i)),i.set(n,t)}E.set(t,r.reverse())}}();let t=[],r=[],i=!1;function s(e){let r=_.get(e);r&&(i=!0,e|=r),t.push(e)}for(let n of e)for(;;){if(n<128)t.push(n);else if(x(n)){let e=n-m,t=e%588/28|0,r=e%28;s(b+(e/588|0)),s(w+t),r>0&&s(v+r)}else{let e=E.get(n);e?r.push(...e):s(n)}if(!r.length)break;n=r.pop()}if(i&&t.length>1){let e=A(t[0]);for(let r=1;r<t.length;r++){let n=A(t[r]);if(0==n||e<=n){e=n;continue}let i=r-1;for(;;){let r=t[i+1];if(t[i+1]=t[i],t[i]=r,!i)break;if(e=A(t[--i]),e<=n)break}e=A(t[r])}}return t}function O(e){return B(e).map(k)}function R(e){return function(e){let t=[],r=[],n=-1,i=0;for(let s of e){let e=A(s),a=k(s);if(-1==n)0==e?n=a:t.push(a);else if(i>0&&i>=e)0==e?(t.push(n,...r),r.length=0,n=a):r.push(a),i=e;else{let s=C(n,a);s>=0?n=s:0==i&&0==e?(t.push(n),n=a):(r.push(a),i=e)}}return n>=0&&t.push(n,...r),t}(B(e))}const I=".",T=e=>Array.from(e);function M(e,t){return e.P.has(t)||e.Q.has(t)}class N extends Array{get is_emoji(){return!0}}let D,U,j,F,K,L,z,q,H,G,W,V;function J(){if(D)return;let e=n("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>a(e),r=()=>new Set(t()),i=(e,t)=>t.forEach((t=>e.add(t)));D=new Map(c(e)),U=r(),j=t(),F=new Set(t().map((e=>j[e]))),j=new Set(j),K=r(),L=r();let s=o(e),l=e();const d=()=>{let e=new Set;return t().forEach((t=>i(e,s[t]))),i(e,t()),e};z=u((t=>{let r=u(e).map((e=>e+96));if(r.length){let n=t>=l;return r[0]-=32,r=y(r),n&&(r=`Restricted[${r}]`),{N:r,P:d(),Q:d(),M:!e(),R:n}}})),q=r(),H=new Map;let h=t().concat(T(q)).sort(((e,t)=>e-t));h.forEach(((t,r)=>{let n=e(),i=h[r]=n?h[r-n]:{V:[],M:new Map};i.V.push(t),q.has(t)||H.set(t,i)}));for(let{V:e,M:t}of new Set(H.values())){let r=[];for(let t of e){let e=z.filter((e=>M(e,t))),n=r.find((({G:t})=>e.some((e=>t.has(e)))));n||(n={G:new Set,V:[]},r.push(n)),n.V.push(t),i(n.G,e)}let n=r.flatMap((e=>T(e.G)));for(let{G:e,V:i}of r){let r=new Set(n.filter((t=>!e.has(t))));for(let e of i)t.set(e,r)}}G=new Set;let f=new Set;const p=e=>G.has(e)?f.add(e):G.add(e);for(let e of z){for(let t of e.P)p(t);for(let t of e.Q)p(t)}for(let e of G)H.has(e)||f.has(e)||H.set(e,1);i(G,O(G)),W=function(e){let t=[],r=a(e);return function e({S:r,B:n},i,s){if(!(4&r&&s===i[i.length-1])){2&r&&(s=i[i.length-1]),1&r&&t.push(i);for(let t of n)for(let r of t.Q)e(t,[...i,r],s)}}(function t(n){return{S:e(),B:u((()=>{let n=a(e).map((e=>r[e]));if(n.length)return t(n)})),Q:n}}([]),[]),t}(e).map((e=>N.from(e))).sort(g),V=new Map;for(let e of W){let t=[V];for(let r of e){let e=t.map((e=>{let t=e.get(r);return t||(t=new Map,e.set(r,t)),t}));65039===r?t.push(...e):t=e}for(let r of t)r.V=e}}function Q(e){return(X(e)?"":`${$(Z([e]))} `)+f(e)}function $(e){return`"${e}"‎`}function Z(e,t=1/0,r=f){let n=[];Y(e[0])&&n.push("◌"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,s=e.length;for(let t=0;t<s;t++){let s=e[t];X(s)&&(n.push(y(e.slice(i,t))),n.push(r(s)),i=t+1)}return n.push(y(e.slice(i,s))),n.join("")}function Y(e){return J(),j.has(e)}function X(e){return J(),K.has(e)}function ee(e,t,r){let n=0;for(;;){let i=e.indexOf(t,n);if(i<0)break;e[i]=r,n=i+1}}function te(e,t,n){if(!e)return[];J();let i=0;return e.split(I).map((e=>{let s=p(e),a={input:s,offset:i};i+=s.length+1;try{let e,i=a.tokens=ae(s,t,n),o=i.length;if(!o)throw new Error("empty label");let c=a.output=i.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(c),!(a.emoji=o>1||i[0].is_emoji)&&c.every((e=>e<128)))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error(`invalid label extension: "${y(e.slice(0,4))}"`)}(c),e="ASCII";else{let t=i.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(j.has(c[0]))throw se("leading combining mark");for(let e=1;e<o;e++){let t=i[e];if(!t.is_emoji&&j.has(t[0]))throw se(`emoji + combining mark: "${y(i[e-1])} + ${Z([t[0]])}"`)}!function(e){let t=e[0],n=r.get(t);if(n)throw se(`leading ${n}`);let i=e.length,s=-1;for(let a=1;a<i;a++){t=e[a];let i=r.get(t);if(i){if(s==a)throw se(`${n} + ${i}`);s=a+1,n=i}}if(s==i)throw se(`trailing ${n}`)}(c);let n=T(new Set(t)),[s]=function(e){let t=z;for(let r of e){let e=t.filter((e=>M(e,r)));if(!e.length)throw z.some((e=>M(e,r)))?ie(t[0],r):ne(r);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let r of t)if(!M(e,r))throw ie(e,r);if(e.M){let e=O(t);for(let t=1,r=e.length;t<r;t++)if(F.has(e[t])){let n=t+1;for(let i;n<r&&F.has(i=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==i)throw new Error(`duplicate non-spacing marks: ${Q(i)}`);if(n-t>4)throw new Error(`excessive non-spacing marks: ${$(Z(e.slice(t-1,n)))} (${n-t}/4)`);t=n}}}(s,t),function(e,t){let r,n=[];for(let e of t){let t=H.get(e);if(1===t)return;if(t){let n=t.M.get(e);if(r=r?r.filter((e=>n.has(e))):T(n),!r.length)return}else n.push(e)}if(r)for(let t of r)if(n.every((e=>M(t,e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(s,n),e=s.N}else e="Emoji"}a.type=e}catch(e){a.error=e}return a}))}function re(e){return e.map((({input:t,error:r,output:n})=>{if(r){let n=r.message;throw new Error(1==e.length?n:`Invalid label ${$(Z(t,63))}: ${n}`)}return y(n)})).join(I)}function ne(e){return new Error(`disallowed character: ${Q(e)}`)}function ie(e,t){let r=Q(t),n=z.find((e=>e.P.has(t)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${e.N} + ${r}`)}function se(e){return new Error(`illegal placement: ${e}`)}function ae(e,t,r){let n=[],i=[];for(e=e.slice().reverse();e.length;){let s=ce(e);if(s)i.length&&(n.push(t(i)),i=[]),n.push(r(s));else{let t=e.pop();if(G.has(t))i.push(t);else{let e=D.get(t);if(e)i.push(...e);else if(!U.has(t))throw ne(t)}}}return i.length&&n.push(t(i)),n}function oe(e){return e.filter((e=>65039!=e))}function ce(e,t){let r,n=V,i=e.length;for(;i&&(n=n.get(e[--i]),n);){let{V:s}=n;s&&(r=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return r}const ue="valid",le="mapped",de="ignored";function he(e){return e==ue||e==le}function fe(e){return e.some((e=>L.has(e)))}function pe(e){for(let t=0;t<e.length;t++)if(e[t].type==ue){let r=t+1;for(;r<e.length&&e[r].type==ue;)r++;e.splice(t,r-t,{type:ue,cps:e.slice(t,r).flatMap((e=>e.cps))})}return e}t.ens_beautify=function(e){let t=te(e,R,(e=>e));for(let{type:e,output:r,error:n}of t){if(n)break;"Greek"!==e&&ee(r,958,926)}return re(t)},t.ens_emoji=function(){return J(),W.map((e=>e.slice()))},t.ens_normalize=function(e){return re(te(e,R,oe))},t.ens_normalize_fragment=function(e,t){J();let r=t?O:R;return e.split(I).map((e=>y(ae(p(e),r,oe).flat()))).join(I)},t.ens_split=function(e,t){return te(e,R,t?e=>e.slice():oe)},t.ens_tokenize=function e(t,{nf:r=!0}={}){J();let n=p(t).reverse(),i=[],s=[];for(;n.length;){let e=ce(n,i);if(e)s.push({type:"emoji",emoji:e.slice(),input:i,cps:oe(e)}),i=[];else{let e=n.pop();if(46==e)s.push({type:"stop",cp:e});else if(G.has(e))s.push({type:ue,cps:[e]});else if(U.has(e))s.push({type:de,cp:e});else{let t=D.get(e);t?s.push({type:le,cp:e,cps:t.slice()}):s.push({type:"disallowed",cp:e})}}}if(r)for(let t=0,r=-1;t<s.length;t++){let n=s[t];if(he(n.type))if(fe(n.cps)){let n=t+1;for(let e=n;e<s.length;e++){let{type:t,cps:r}=s[e];if(he(t)){if(!fe(r))break;n=e+1}else if(t!==de)break}r<0&&(r=t);let i=s.slice(r,n),a=i.flatMap((e=>he(e.type)?e.cps:[])),o=R(a);g(o,a)?(s.splice(r,n-r,{type:"nfc",input:a,cps:o,tokens0:pe(i),tokens:e(y(o),{nf:!1})}),t=r):t=n-1,r=-1}else r=t;else n.type!==de&&(r=-1)}return pe(s)},t.is_combining_mark=Y,t.nfc=R,t.nfd=O,t.safe_str_from_cps=Z,t.should_escape=X},6013:function(e,t){"use strict";var r,n,i,s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.AES=void 0;const o={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],u=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],l=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],d=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],h=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],f=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],p=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],y=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],g=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],m=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],b=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],w=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],v=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],A=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],k=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function _(e){const t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class P{get key(){return s(this,r,"f").slice()}constructor(e){if(r.set(this,void 0),n.set(this,void 0),i.set(this,void 0),!(this instanceof P))throw Error("AES must be instanitated with `new`");a(this,r,new Uint8Array(e),"f");const t=o[this.key.length];if(null==t)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");a(this,i,[],"f"),a(this,n,[],"f");for(let e=0;e<=t;e++)s(this,i,"f").push([0,0,0,0]),s(this,n,"f").push([0,0,0,0]);const l=4*(t+1),d=this.key.length/4,h=_(this.key);let f;for(let e=0;e<d;e++)f=e>>2,s(this,i,"f")[f][e%4]=h[e],s(this,n,"f")[t-f][e%4]=h[e];let p,y=0,g=d;for(;g<l;){if(p=h[d-1],h[0]^=u[p>>16&255]<<24^u[p>>8&255]<<16^u[255&p]<<8^u[p>>24&255]^c[y]<<24,y+=1,8!=d)for(let e=1;e<d;e++)h[e]^=h[e-1];else{for(let e=1;e<d/2;e++)h[e]^=h[e-1];p=h[d/2-1],h[d/2]^=u[255&p]^u[p>>8&255]<<8^u[p>>16&255]<<16^u[p>>24&255]<<24;for(let e=d/2+1;e<d;e++)h[e]^=h[e-1]}let e,r,a=0;for(;a<d&&g<l;)e=g>>2,r=g%4,s(this,i,"f")[e][r]=h[a],s(this,n,"f")[t-e][r]=h[a++],g++}for(let e=1;e<t;e++)for(let t=0;t<4;t++)p=s(this,n,"f")[e][t],s(this,n,"f")[e][t]=w[p>>24&255]^v[p>>16&255]^A[p>>8&255]^k[255&p]}encrypt(e){if(16!=e.length)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=s(this,i,"f").length-1,r=[0,0,0,0];let n=_(e);for(let e=0;e<4;e++)n[e]^=s(this,i,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=d[n[t]>>24&255]^h[n[(t+1)%4]>>16&255]^f[n[(t+2)%4]>>8&255]^p[255&n[(t+3)%4]]^s(this,i,"f")[e][t];n=r.slice()}const a=new Uint8Array(16);let o=0;for(let e=0;e<4;e++)o=s(this,i,"f")[t][e],a[4*e]=255&(u[n[e]>>24&255]^o>>24),a[4*e+1]=255&(u[n[(e+1)%4]>>16&255]^o>>16),a[4*e+2]=255&(u[n[(e+2)%4]>>8&255]^o>>8),a[4*e+3]=255&(u[255&n[(e+3)%4]]^o);return a}decrypt(e){if(16!=e.length)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=s(this,n,"f").length-1,r=[0,0,0,0];let i=_(e);for(let e=0;e<4;e++)i[e]^=s(this,n,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=y[i[t]>>24&255]^g[i[(t+3)%4]>>16&255]^m[i[(t+2)%4]>>8&255]^b[255&i[(t+1)%4]]^s(this,n,"f")[e][t];i=r.slice()}const a=new Uint8Array(16);let o=0;for(let e=0;e<4;e++)o=s(this,n,"f")[t][e],a[4*e]=255&(l[i[e]>>24&255]^o>>24),a[4*e+1]=255&(l[i[(e+3)%4]>>16&255]^o>>16),a[4*e+2]=255&(l[i[(e+2)%4]>>8&255]^o>>8),a[4*e+3]=255&(l[255&i[(e+1)%4]]^o);return a}}t.AES=P,r=new WeakMap,n=new WeakMap,i=new WeakMap},8165:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pkcs7Strip=t.pkcs7Pad=t.OFB=t.ECB=t.CTR=t.CFB=t.CBC=t.ModeOfOperation=t.AES=void 0;var n=r(6013);Object.defineProperty(t,"AES",{enumerable:!0,get:function(){return n.AES}});var i=r(6342);Object.defineProperty(t,"ModeOfOperation",{enumerable:!0,get:function(){return i.ModeOfOperation}});var s=r(2977);Object.defineProperty(t,"CBC",{enumerable:!0,get:function(){return s.CBC}});var a=r(9990);Object.defineProperty(t,"CFB",{enumerable:!0,get:function(){return a.CFB}});var o=r(4164);Object.defineProperty(t,"CTR",{enumerable:!0,get:function(){return o.CTR}});var c=r(1485);Object.defineProperty(t,"ECB",{enumerable:!0,get:function(){return c.ECB}});var u=r(226);Object.defineProperty(t,"OFB",{enumerable:!0,get:function(){return u.OFB}});var l=r(8420);Object.defineProperty(t,"pkcs7Pad",{enumerable:!0,get:function(){return l.pkcs7Pad}}),Object.defineProperty(t,"pkcs7Strip",{enumerable:!0,get:function(){return l.pkcs7Strip}})},2977:function(e,t,r){"use strict";var n,i,s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.CBC=void 0;const o=r(6342);class c extends o.ModeOfOperation{constructor(e,t){if(super("ECC",e,c),n.set(this,void 0),i.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");s(this,n,new Uint8Array(t),"f")}else s(this,n,new Uint8Array(16),"f");s(this,i,this.iv,"f")}get iv(){return new Uint8Array(a(this,n,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let t=0;t<16;t++)a(this,i,"f")[t]^=e[r+t];s(this,i,this.aes.encrypt(a(this,i,"f")),"f"),t.set(a(this,i,"f"),r)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){const n=this.aes.decrypt(e.subarray(r,r+16));for(let s=0;s<16;s++)t[r+s]=n[s]^a(this,i,"f")[s],a(this,i,"f")[s]=e[r+s]}return t}}t.CBC=c,n=new WeakMap,i=new WeakMap},9990:function(e,t,r){"use strict";var n,i,s,a,o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.CFB=void 0;const u=r(6342);class l extends u.ModeOfOperation{constructor(e,t,r=8){if(super("CFB",e,l),n.add(this),i.set(this,void 0),s.set(this,void 0),!Number.isInteger(r)||r%8)throw new TypeError("invalid segmentSize");if(Object.defineProperties(this,{segmentSize:{enumerable:!0,value:r}}),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");o(this,i,new Uint8Array(t),"f")}else o(this,i,new Uint8Array(16),"f");o(this,s,this.iv,"f")}get iv(){return new Uint8Array(c(this,i,"f"))}encrypt(e){if(8*e.length%this.segmentSize)throw new TypeError("invalid plaintext size (must be multiple of segmentSize bytes)");const t=this.segmentSize/8,r=new Uint8Array(e);for(let e=0;e<r.length;e+=t){const i=this.aes.encrypt(c(this,s,"f"));for(let n=0;n<t;n++)r[e+n]^=i[n];c(this,n,"m",a).call(this,r.subarray(e))}return r}decrypt(e){if(8*e.length%this.segmentSize)throw new TypeError("invalid ciphertext size (must be multiple of segmentSize bytes)");const t=this.segmentSize/8,r=new Uint8Array(e);for(let i=0;i<r.length;i+=t){const o=this.aes.encrypt(c(this,s,"f"));for(let e=0;e<t;e++)r[i+e]^=o[e];c(this,n,"m",a).call(this,e.subarray(i))}return r}}t.CFB=l,i=new WeakMap,s=new WeakMap,n=new WeakSet,a=function(e){const t=this.segmentSize/8;c(this,s,"f").set(c(this,s,"f").subarray(t)),c(this,s,"f").set(e.subarray(0,t),16-t)}},4164:function(e,t,r){"use strict";var n,i,s,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.CTR=void 0;const c=r(6342);class u extends c.ModeOfOperation{constructor(e,t){super("CTR",e,u),n.set(this,void 0),i.set(this,void 0),s.set(this,void 0),a(this,s,new Uint8Array(16),"f"),o(this,s,"f").fill(0),a(this,n,o(this,s,"f"),"f"),a(this,i,16,"f"),null==t&&(t=1),"number"==typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(o(this,s,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)o(this,s,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw new TypeError("invalid counter initial Uint8Array value length");o(this,s,"f").set(e)}increment(){for(let e=15;e>=0;e--){if(255!==o(this,s,"f")[e]){o(this,s,"f")[e]++;break}o(this,s,"f")[e]=0}}encrypt(e){var t,r;const c=new Uint8Array(e);for(let e=0;e<c.length;e++)16===o(this,i,"f")&&(a(this,n,this.aes.encrypt(o(this,s,"f")),"f"),a(this,i,0,"f"),this.increment()),c[e]^=o(this,n,"f")[(a(this,i,(r=o(this,i,"f"),t=r++,r),"f"),t)];return c}decrypt(e){return this.encrypt(e)}}t.CTR=u,n=new WeakMap,i=new WeakMap,s=new WeakMap},1485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ECB=void 0;const n=r(6342);class i extends n.ModeOfOperation{constructor(e){super("ECB",e,i)}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16)t.set(this.aes.encrypt(e.subarray(r,r+16)),r);return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16)t.set(this.aes.decrypt(e.subarray(r,r+16)),r);return t}}t.ECB=i},226:function(e,t,r){"use strict";var n,i,s,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.OFB=void 0;const c=r(6342);class u extends c.ModeOfOperation{constructor(e,t){if(super("OFB",e,u),n.set(this,void 0),i.set(this,void 0),s.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");a(this,n,new Uint8Array(t),"f")}else a(this,n,new Uint8Array(16),"f");a(this,i,this.iv,"f"),a(this,s,16,"f")}get iv(){return new Uint8Array(o(this,n,"f"))}encrypt(e){var t,r;if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const n=new Uint8Array(e);for(let e=0;e<n.length;e++)16===o(this,s,"f")&&(a(this,i,this.aes.encrypt(o(this,i,"f")),"f"),a(this,s,0,"f")),n[e]^=o(this,i,"f")[(a(this,s,(r=o(this,s,"f"),t=r++,r),"f"),t)];return n}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");return this.encrypt(e)}}t.OFB=u,n=new WeakMap,i=new WeakMap,s=new WeakMap},6342:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModeOfOperation=void 0;const n=r(6013);t.ModeOfOperation=class{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new n.AES(t)},name:{enumerable:!0,value:e}})}}},8420:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pkcs7Strip=t.pkcs7Pad=void 0,t.pkcs7Pad=function(e){const t=16-e.length%16,r=new Uint8Array(e.length+t);r.set(e);for(let n=e.length;n<r.length;n++)r[n]=t;return r},t.pkcs7Strip=function(e){if(e.length<16)throw new TypeError("PKCS#7 invalid length");const t=e[e.length-1];if(t>16)throw new TypeError("PKCS#7 padding byte out of range");const r=e.length-t;for(let n=0;n<t;n++)if(e[r+n]!==t)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,r))}},4586:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="6.13.3"},954:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbiCoder=void 0;const n=r(5347),i=r(8869),s=r(1355),a=r(3178),o=r(8719),c=r(2348),u=r(9095),l=r(8026),d=r(7398),h=r(8766),f=r(1693),p=r(189),y=r(646),g=r(5347),m=new Map;m.set(0,"GENERIC_PANIC"),m.set(1,"ASSERT_FALSE"),m.set(17,"OVERFLOW"),m.set(18,"DIVIDE_BY_ZERO"),m.set(33,"ENUM_RANGE_ERROR"),m.set(34,"BAD_STORAGE_DATA"),m.set(49,"STACK_UNDERFLOW"),m.set(50,"ARRAY_RANGE_ERROR"),m.set(65,"OUT_OF_MEMORY"),m.set(81,"UNINITIALIZED_FUNCTION_CALL");const b=new RegExp(/^bytes([0-9]*)$/),w=new RegExp(/^(u?int)([0-9]*)$/);let v=null,A=1024;class k{#e(e){if(e.isArray())return new a.ArrayCoder(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new f.TupleCoder(e.components.map((e=>this.#e(e))),e.name);switch(e.baseType){case"address":return new s.AddressCoder(e.name);case"bool":return new o.BooleanCoder(e.name);case"string":return new h.StringCoder(e.name);case"bytes":return new c.BytesCoder(e.name);case"":return new l.NullCoder(e.name)}let t=e.type.match(w);if(t){let r=parseInt(t[2]||"256");return(0,n.assertArgument)(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new d.NumberCoder(r/8,"int"===t[1],e.name)}if(t=e.type.match(b),t){let r=parseInt(t[1]);return(0,n.assertArgument)(0!==r&&r<=32,"invalid bytes length","param",e),new u.FixedBytesCoder(r,e.name)}(0,n.assertArgument)(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#e(p.ParamType.from(e))));return new f.TupleCoder(t,"_").defaultValue()}encode(e,t){(0,n.assertArgumentCount)(t.length,e.length,"types/values length mismatch");const r=e.map((e=>this.#e(p.ParamType.from(e)))),s=new f.TupleCoder(r,"_"),a=new i.Writer;return s.encode(a,t),a.data}decode(e,t,r){const n=e.map((e=>this.#e(p.ParamType.from(e))));return new f.TupleCoder(n,"_").decode(new i.Reader(t,r,A))}static _setDefaultMaxInflation(e){(0,n.assertArgument)("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),A=e}static defaultAbiCoder(){return null==v&&(v=new k),v}static getBuiltinCallException(e,t,r){return function(e,t,r,n){let i="missing revert data",s=null,a=null;if(r){i="execution reverted";const e=(0,g.getBytes)(r);if(r=(0,g.hexlify)(r),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===(0,g.hexlify)(e.slice(0,4)))try{s=n.decode(["string"],e.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(e){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===(0,g.hexlify)(e.slice(0,4)))try{const t=Number(n.decode(["uint256"],e.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[t]},s=`Panic due to ${m.get(t)||"UNKNOWN"}(${t})`,i+=`: ${s}`}catch(e){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const o={to:t.to?(0,y.getAddress)(t.to):null,data:t.data||"0x"};return t.from&&(o.from=(0,y.getAddress)(t.from)),(0,g.makeError)(i,"CALL_EXCEPTION",{action:e,data:r,reason:s,transaction:o,invocation:null,revert:a})}(e,t,r,k.defaultAbiCoder())}}t.AbiCoder=k},9414:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBytes32String=t.encodeBytes32String=void 0;const n=r(5347);t.encodeBytes32String=function(e){const t=(0,n.toUtf8Bytes)(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,n.zeroPadBytes)(t,32)},t.decodeBytes32String=function(e){const t=(0,n.getBytes)(e,"bytes");if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return(0,n.toUtf8String)(t.slice(0,r))}},8869:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reader=t.Writer=t.Coder=t.checkResultErrors=t.Result=t.WordSize=void 0;const n=r(5347);t.WordSize=32;const i=new Uint8Array(t.WordSize),s=["then"],a={},o=new WeakMap;function c(e){return o.get(e)}function u(e,t){o.set(e,t)}function l(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}function d(e,t,r){return e.indexOf(null)>=0?t.map(((e,t)=>e instanceof h?d(c(e),e,r):e)):e.reduce(((e,n,i)=>{let s=t.getValue(n);return n in e||(r&&s instanceof h&&(s=d(c(s),s,r)),e[n]=s),e}),{})}class h extends Array{#t;constructor(...e){const t=e[0];let r=e[1],i=(e[2]||[]).slice(),o=!0;t!==a&&(r=e,i=[],o=!1),super(r.length),r.forEach(((e,t)=>{this[t]=e}));const d=i.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(u(this,Object.freeze(r.map(((e,t)=>{const r=i[t];return null!=r&&1===d.get(r)?r:null})))),this.#t=[],null==this.#t&&this.#t,!o)return;Object.freeze(this);const h=new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){const r=(0,n.getNumber)(t,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const i=e[r];return i instanceof Error&&l(`index ${r}`,i),i}if(s.indexOf(t)>=0)return Reflect.get(e,t,r);const i=e[t];if(i instanceof Function)return function(...t){return i.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}});return u(h,c(this)),h}toArray(e){const t=[];return this.forEach(((r,n)=>{r instanceof Error&&l(`index ${n}`,r),e&&r instanceof h&&(r=r.toArray(e)),t.push(r)})),t}toObject(e){const t=c(this);return t.reduce(((r,i,s)=>((0,n.assert)(null!=i,`value at index ${s} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),d(t,this,e))),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const r=c(this),n=[],i=[];for(let s=e;s<t;s++)n.push(this[s]),i.push(r[s]);return new h(a,n,i)}filter(e,t){const r=c(this),n=[],i=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&l(`index ${s}`,a),e.call(t,a,s,this)&&(n.push(a),i.push(r[s]))}return new h(a,n,i)}map(e,t){const r=[];for(let n=0;n<this.length;n++){const i=this[n];i instanceof Error&&l(`index ${n}`,i),r.push(e.call(t,i,n,this))}return r}getValue(e){const t=c(this).indexOf(e);if(-1===t)return;const r=this[t];return r instanceof Error&&l(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new h(a,e,t)}}function f(e){let r=(0,n.toBeArray)(e);return(0,n.assert)(r.length<=t.WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:r,length:t.WordSize,offset:r.length}),r.length!==t.WordSize&&(r=(0,n.getBytesCopy)((0,n.concat)([i.slice(r.length%t.WordSize),r]))),r}t.Result=h,t.checkResultErrors=function(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){const s=e.slice();s.push(i);try{r(s,n[i])}catch(e){t.push({path:s,error:e})}}};return r([],e),t},t.Coder=class{name;type;localName;dynamic;constructor(e,t,r,i){(0,n.defineProperties)(this,{name:e,type:t,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){(0,n.assertArgument)(!1,e,this.localName,t)}},t.Writer=class{#r;#n;constructor(){this.#r=[],this.#n=0}get data(){return(0,n.concat)(this.#r)}get length(){return this.#n}#i(e){return this.#r.push(e),this.#n+=e.length,e.length}appendWriter(e){return this.#i((0,n.getBytesCopy)(e.data))}writeBytes(e){let r=(0,n.getBytesCopy)(e);const s=r.length%t.WordSize;return s&&(r=(0,n.getBytesCopy)((0,n.concat)([r,i.slice(s)]))),this.#i(r)}writeValue(e){return this.#i(f(e))}writeUpdatableValue(){const e=this.#r.length;return this.#r.push(i),this.#n+=t.WordSize,t=>{this.#r[e]=f(t)}}};class p{allowLoose;#r;#s;#a;#o;#c;constructor(e,t,r){(0,n.defineProperties)(this,{allowLoose:!!t}),this.#r=(0,n.getBytesCopy)(e),this.#a=0,this.#o=null,this.#c=null!=r?r:1024,this.#s=0}get data(){return(0,n.hexlify)(this.#r)}get dataLength(){return this.#r.length}get consumed(){return this.#s}get bytes(){return new Uint8Array(this.#r)}#u(e){if(this.#o)return this.#o.#u(e);this.#a+=e,(0,n.assert)(this.#c<1||this.#a<=this.#c*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#c} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,n.getBytesCopy)(this.#r),offset:this.#s,length:e,info:{bytesRead:this.#a,dataLength:this.dataLength}})}#l(e,r,i){let s=Math.ceil(r/t.WordSize)*t.WordSize;return this.#s+s>this.#r.length&&(this.allowLoose&&i&&this.#s+r<=this.#r.length?s=r:(0,n.assert)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,n.getBytesCopy)(this.#r),length:this.#r.length,offset:this.#s+s})),this.#r.slice(this.#s,this.#s+s)}subReader(e){const t=new p(this.#r.slice(this.#s+e),this.allowLoose,this.#c);return t.#o=this,t}readBytes(e,t){let r=this.#l(0,e,!!t);return this.#u(e),this.#s+=r.length,r.slice(0,e)}readValue(){return(0,n.toBigInt)(this.readBytes(t.WordSize))}readIndex(){return(0,n.toNumber)(this.readBytes(t.WordSize))}}t.Reader=p},1355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressCoder=void 0;const n=r(646),i=r(6508),s=r(9976),a=r(8869);class o extends a.Coder{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=s.Typed.dereference(t,"string");try{r=(0,n.getAddress)(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return(0,n.getAddress)((0,i.toBeHex)(e.readValue(),20))}}t.AddressCoder=o},5754:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousCoder=void 0;const n=r(8869);class i extends n.Coder{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}t.AnonymousCoder=i},3178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayCoder=t.unpack=t.pack=void 0;const n=r(5347),i=r(9976),s=r(8869),a=r(5754);function o(e,t,r){let i=[];if(Array.isArray(r))i=r;else if(r&&"object"==typeof r){let e={};i=t.map((t=>{const i=t.localName;return(0,n.assert)(i,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),(0,n.assert)(!e[i],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[i]=!0,r[i]}))}else(0,n.assertArgument)(!1,"invalid tuple value","tuple",r);(0,n.assertArgument)(t.length===i.length,"types/value length mismatch","tuple",r);let a=new s.Writer,o=new s.Writer,c=[];t.forEach(((e,t)=>{let r=i[t];if(e.dynamic){let t=o.length;e.encode(o,r);let n=a.writeUpdatableValue();c.push((e=>{n(e+t)}))}else e.encode(a,r)})),c.forEach((e=>{e(a.length)}));let u=e.appendWriter(a);return u+=e.appendWriter(o),u}function c(e,t){let r=[],i=[],a=e.subReader(0);return t.forEach((t=>{let s=null;if(t.dynamic){let r=e.readIndex(),i=a.subReader(r);try{s=t.decode(i)}catch(e){if((0,n.isError)(e,"BUFFER_OVERRUN"))throw e;s=e,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(e){if((0,n.isError)(e,"BUFFER_OVERRUN"))throw e;s=e,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(null==s)throw new Error("investigate");r.push(s),i.push(t.localName||null)})),s.Result.fromItems(r,i)}t.pack=o,t.unpack=c;class u extends s.Coder{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),(0,n.defineProperties)(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){const r=i.Typed.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;-1===s&&(s=r.length,e.writeValue(r.length)),(0,n.assertArgumentCount)(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let e=0;e<r.length;e++)a.push(this.coder);return o(e,a,r)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),(0,n.assert)(t*s.WordSize<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*s.WordSize,length:e.dataLength}));let r=[];for(let e=0;e<t;e++)r.push(new a.AnonymousCoder(this.coder));return c(e,r)}}t.ArrayCoder=u},8719:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanCoder=void 0;const n=r(9976),i=r(8869);class s extends i.Coder{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=n.Typed.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}t.BooleanCoder=s},2348:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BytesCoder=t.DynamicBytesCoder=void 0;const n=r(5347),i=r(8869);class s extends i.Coder{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=(0,n.getBytesCopy)(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}t.DynamicBytesCoder=s,t.BytesCoder=class extends s{constructor(e){super("bytes",e)}decode(e){return(0,n.hexlify)(super.decode(e))}}},9095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedBytesCoder=void 0;const n=r(5347),i=r(9976),s=r(8869);class a extends s.Coder{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),(0,n.defineProperties)(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=(0,n.getBytesCopy)(i.Typed.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return(0,n.hexlify)(e.readBytes(this.size))}}t.FixedBytesCoder=a},8026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullCoder=void 0;const n=r(8869),i=new Uint8Array([]);class s extends n.Coder{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(i)}decode(e){return e.readBytes(0),null}}t.NullCoder=s},7398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberCoder=void 0;const n=r(5347),i=r(9976),s=r(8869),a=BigInt(0),o=BigInt(1),c=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class u extends s.Coder{size;signed;constructor(e,t,r){const i=(t?"int":"uint")+8*e;super(i,i,r,!1),(0,n.defineProperties)(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=(0,n.getBigInt)(i.Typed.dereference(t,this.type)),u=(0,n.mask)(c,8*s.WordSize);if(this.signed){let e=(0,n.mask)(u,8*this.size-1);(r>e||r<-(e+o))&&this._throwError("value out-of-bounds",t),r=(0,n.toTwos)(r,8*s.WordSize)}else(r<a||r>(0,n.mask)(u,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=(0,n.mask)(e.readValue(),8*this.size);return this.signed&&(t=(0,n.fromTwos)(t,8*this.size)),t}}t.NumberCoder=u},8766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringCoder=void 0;const n=r(3948),i=r(9976),s=r(2348);class a extends s.DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,n.toUtf8Bytes)(i.Typed.dereference(t,"string")))}decode(e){return(0,n.toUtf8String)(super.decode(e))}}t.StringCoder=a},1693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TupleCoder=void 0;const n=r(8166),i=r(9976),s=r(8869),a=r(3178);class o extends s.Coder{coders;constructor(e,t){let r=!1;const i=[];e.forEach((e=>{e.dynamic&&(r=!0),i.push(e.type)})),super("tuple","tuple("+i.join(",")+")",t,r),(0,n.defineProperties)(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}encode(e,t){const r=i.Typed.dereference(t,"tuple");return(0,a.pack)(e,this.coders,r)}decode(e){return(0,a.unpack)(e,this.coders)}}t.TupleCoder=o},189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StructFragment=t.FunctionFragment=t.FallbackFragment=t.ConstructorFragment=t.EventFragment=t.ErrorFragment=t.NamedFragment=t.Fragment=t.ParamType=void 0;const n=r(5347),i=r(1181);function s(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const a=s("external public payable override".split(" ")),o="constant external internal payable private public pure view override",c=s(o.split(" ")),u="constructor error event fallback function receive struct",l=s(u.split(" ")),d="calldata memory storage payable indexed",h=s(d.split(" ")),f=s([u,d,"tuple returns",o].join(" ").split(" ")),p={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},y=new RegExp("^(\\s*)"),g=new RegExp("^([0-9]+)"),m=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),b=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),w=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class v{#s;#d;get offset(){return this.#s}get length(){return this.#d.length-this.#s}constructor(e){this.#s=0,this.#d=e.slice()}clone(){return new v(this.#d)}reset(){this.#s=0}#h(e=0,t=0){return new v(this.#d.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#h(this.#s+1,e.match+1);return this.#s=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#s<e.match-1;){const e=this.peek().linkNext;t.push(this.#h(this.#s+1,e)),this.#s=e}return this.#s=e.match+1,t}peek(){if(this.#s>=this.#d.length)throw new Error("out-of-bounds");return this.#d[this.#s]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#s++,e}toString(){const e=[];for(let t=this.#s;t<this.#d.length;t++){const r=this.#d[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function A(e){const t=[],r=t=>{const r=a<e.length?JSON.stringify(e[a]):"$EOI";throw new Error(`invalid token ${r} at ${a}: ${t}`)};let i=[],s=[],a=0;for(;a<e.length;){let o=e.substring(a),c=o.match(y);c&&(a+=c[1].length,o=e.substring(a));const u={depth:i.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(u);let l=p[o[0]]||"";if(l){if(u.type=l,u.text=o[0],a++,"OPEN_PAREN"===l)i.push(t.length-1),s.push(t.length-1);else if("CLOSE_PAREN"==l)0===i.length&&r("no matching open bracket"),u.match=i.pop(),t[u.match].match=t.length-1,u.depth--,u.linkBack=s.pop(),t[u.linkBack].linkNext=t.length-1;else if("COMMA"===l)u.linkBack=s.pop(),t[u.linkBack].linkNext=t.length-1,s.push(t.length-1);else if("OPEN_BRACKET"===l)u.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const r=t.pop().text;e=r+e,t[t.length-1].value=(0,n.getNumber)(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(c=o.match(m),c){if(u.text=c[1],a+=u.text.length,f.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(w)){u.type="TYPE";continue}u.type="ID"}else{if(c=o.match(g),!c)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${a}`);u.text=c[1],u.type="NUMBER",a+=u.text.length}}return new v(t.map((e=>Object.freeze(e))))}function k(e,t){let r=[];for(const n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function _(e,t){if(t.peekKeyword(l)){const r=t.pop().text;if(r!==e)throw new Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function P(e,t){const r=new Set;for(;;){const n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function E(e){let t=P(e,c);return k(t,s("constant payable nonpayable".split(" "))),k(t,s("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function S(e,t){return e.popParams().map((e=>K.from(e,t)))}function x(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return(0,n.getBigInt)(e.pop().text);throw new Error("invalid gas")}return null}function C(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const B=new RegExp(/^(.*)\[([0-9]*)\]$/);function O(e){const t=e.match(w);if((0,n.assertArgument)(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const r=parseInt(t[2]);(0,n.assertArgument)(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){const r=parseInt(t[3]);(0,n.assertArgument)(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}const R={},I=Symbol.for("_ethers_internal"),T="_ParamTypeInternal",M="_ErrorInternal",N="_EventInternal",D="_ConstructorInternal",U="_FallbackInternal",j="_FunctionInternal",F="_StructInternal";class K{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,i,s,a,o,c){if((0,n.assertPrivate)(e,R,"ParamType"),Object.defineProperty(this,I,{value:T}),a&&(a=Object.freeze(a.slice())),"array"===i){if(null==o||null==c)throw new Error("")}else if(null!=o||null!=c)throw new Error("");if("tuple"===i){if(null==a)throw new Error("")}else if(null!=a)throw new Error("");(0,n.defineProperties)(this,{name:t,type:r,baseType:i,indexed:s,components:a,arrayLength:o,arrayChildren:c})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map((e=>r.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map(((e,n)=>r.components[n].walk(e,t)))}return t(this.type,e)}#f(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach(((t,n)=>{i.#f(e,t,r,(e=>{s[n]=e}))})),void n(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");s=i.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach(((t,n)=>{i[n].#f(e,t,r,(e=>{s[n]=e}))})),void n(s)}const i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){const r=[],n=[e];return this.#f(r,e,t,(e=>{n[0]=e})),r.length&&await Promise.all(r),n[0]}static from(e,t){if(K.isParamType(e))return e;if("string"==typeof e)try{return K.from(A(e),t)}catch(t){(0,n.assertArgument)(!1,"invalid param type","obj",e)}else if(e instanceof v){let r="",n="",i=null;P(e,s(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",i=e.popParams().map((e=>K.from(e))),r=`tuple(${i.map((e=>e.format())).join(",")})`):(r=O(e.popType("TYPE")),n=r);let a=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();a=new K(R,"",r,n,null,i,o,a),o=t.value,r+=t.text,n="array",i=null}let c=null;if(P(e,h).has("indexed")){if(!t)throw new Error("");c=!0}const u=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new K(R,u,r,n,c,i,o,a)}const r=e.name;(0,n.assertArgument)(!r||"string"==typeof r&&r.match(b),"invalid name","obj.name",r);let i=e.indexed;null!=i&&((0,n.assertArgument)(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let a=e.type,o=a.match(B);if(o){const t=parseInt(o[2]||"-1"),n=K.from({type:o[1],components:e.components});return new K(R,r||"",a,"array",i,null,t,n)}if("tuple"===a||a.startsWith("tuple(")||a.startsWith("(")){const t=null!=e.components?e.components.map((e=>K.from(e))):null;return new K(R,r||"",a,"tuple",i,t,null,null)}return a=O(e.type),new K(R,r||"",a,a,i,null,null,null)}static isParamType(e){return e&&e[I]===T}}t.ParamType=K;class L{type;inputs;constructor(e,t,r){(0,n.assertPrivate)(e,R,"Fragment"),r=Object.freeze(r.slice()),(0,n.defineProperties)(this,{type:t,inputs:r})}static from(e){if("string"==typeof e){try{L.from(JSON.parse(e))}catch(e){}return L.from(A(e))}if(e instanceof v)switch(e.peekKeyword(l)){case"constructor":return W.from(e);case"error":return H.from(e);case"event":return G.from(e);case"fallback":case"receive":return V.from(e);case"function":return J.from(e);case"struct":return Q.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return W.from(e);case"error":return H.from(e);case"event":return G.from(e);case"fallback":case"receive":return V.from(e);case"function":return J.from(e);case"struct":return Q.from(e)}(0,n.assert)(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,n.assertArgument)(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return W.isFragment(e)}static isError(e){return H.isFragment(e)}static isEvent(e){return G.isFragment(e)}static isFunction(e){return J.isFragment(e)}static isStruct(e){return Q.isFragment(e)}}t.Fragment=L;class z extends L{name;constructor(e,t,r,i){super(e,t,i),(0,n.assertArgument)("string"==typeof r&&r.match(b),"invalid identifier","name",r),i=Object.freeze(i.slice()),(0,n.defineProperties)(this,{name:r})}}function q(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}t.NamedFragment=z;class H extends z{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,I,{value:M})}get selector(){return(0,i.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+q(e,this.inputs)),t.join(" ")}static from(e){if(H.isFragment(e))return e;if("string"==typeof e)return H.from(A(e));if(e instanceof v){const t=_("error",e),r=S(e);return C(e),new H(R,t,r)}return new H(R,e.name,e.inputs?e.inputs.map(K.from):[])}static isFragment(e){return e&&e[I]===M}}t.ErrorFragment=H;class G extends z{anonymous;constructor(e,t,r,i){super(e,"event",t,r),Object.defineProperty(this,I,{value:N}),(0,n.defineProperties)(this,{anonymous:i})}get topicHash(){return(0,i.id)(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+q(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map((e=>K.from(e))),new G(R,e,t,!1).topicHash}static from(e){if(G.isFragment(e))return e;if("string"==typeof e)try{return G.from(A(e))}catch(t){(0,n.assertArgument)(!1,"invalid event fragment","obj",e)}else if(e instanceof v){const t=_("event",e),r=S(e,!0),n=!!P(e,s(["anonymous"])).has("anonymous");return C(e),new G(R,t,r,n)}return new G(R,e.name,e.inputs?e.inputs.map((e=>K.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[I]===N}}t.EventFragment=G;class W extends L{payable;gas;constructor(e,t,r,i,s){super(e,t,r),Object.defineProperty(this,I,{value:D}),(0,n.defineProperties)(this,{payable:i,gas:s})}format(e){if((0,n.assert)(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${q(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(W.isFragment(e))return e;if("string"==typeof e)try{return W.from(A(e))}catch(t){(0,n.assertArgument)(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof v){P(e,s(["constructor"]));const t=S(e),r=!!P(e,a).has("payable"),n=x(e);return C(e),new W(R,"constructor",t,r,n)}return new W(R,"constructor",e.inputs?e.inputs.map(K.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[I]===D}}t.ConstructorFragment=W;class V extends L{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,I,{value:U}),(0,n.defineProperties)(this,{payable:r})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(V.isFragment(e))return e;if("string"==typeof e)try{return V.from(A(e))}catch(t){(0,n.assertArgument)(!1,"invalid fallback fragment","obj",e)}else if(e instanceof v){const t=e.toString(),r=e.peekKeyword(s(["fallback","receive"]));if((0,n.assertArgument)(r,"type must be fallback or receive","obj",t),"receive"===e.popKeyword(s(["fallback","receive"]))){const t=S(e);return(0,n.assertArgument)(0===t.length,"receive cannot have arguments","obj.inputs",t),P(e,s(["payable"])),C(e),new V(R,[],!0)}let i=S(e);i.length?(0,n.assertArgument)(1===i.length&&"bytes"===i[0].type,"invalid fallback inputs","obj.inputs",i.map((e=>e.format("minimal"))).join(", ")):i=[K.from("bytes")];const a=E(e);if((0,n.assertArgument)("nonpayable"===a||"payable"===a,"fallback cannot be constants","obj.stateMutability",a),P(e,s(["returns"])).has("returns")){const t=S(e);(0,n.assertArgument)(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return C(e),new V(R,i,"payable"===a)}if("receive"===e.type)return new V(R,[],!0);if("fallback"===e.type){const t=[K.from("bytes")],r="payable"===e.stateMutability;return new V(R,t,r)}(0,n.assertArgument)(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[I]===U}}t.FallbackFragment=V;class J extends z{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,i,s,a){super(e,"function",t,i),Object.defineProperty(this,I,{value:j}),s=Object.freeze(s.slice());const o="view"===r||"pure"===r,c="payable"===r;(0,n.defineProperties)(this,{constant:o,gas:a,outputs:s,payable:c,stateMutability:r})}get selector(){return(0,i.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+q(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(q(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map((e=>K.from(e))),new J(R,e,"view",t,[],null).selector}static from(e){if(J.isFragment(e))return e;if("string"==typeof e)try{return J.from(A(e))}catch(t){(0,n.assertArgument)(!1,"invalid function fragment","obj",e)}else if(e instanceof v){const t=_("function",e),r=S(e),n=E(e);let i=[];P(e,s(["returns"])).has("returns")&&(i=S(e));const a=x(e);return C(e),new J(R,t,n,r,i,a)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new J(R,e.name,t,e.inputs?e.inputs.map(K.from):[],e.outputs?e.outputs.map(K.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[I]===j}}t.FunctionFragment=J;class Q extends z{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,I,{value:F})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return Q.from(A(e))}catch(t){(0,n.assertArgument)(!1,"invalid struct fragment","obj",e)}else if(e instanceof v){const t=_("struct",e),r=S(e);return C(e),new Q(R,t,r)}return new Q(R,e.name,e.inputs?e.inputs.map(K.from):[])}static isFragment(e){return e&&e[I]===F}}t.StructFragment=Q},8456:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Typed=t.Result=t.TransactionDescription=t.LogDescription=t.ErrorDescription=t.Interface=t.Indexed=t.checkResultErrors=t.StructFragment=t.ParamType=t.NamedFragment=t.FunctionFragment=t.Fragment=t.FallbackFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.encodeBytes32String=t.decodeBytes32String=t.AbiCoder=void 0;var n=r(954);Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return n.AbiCoder}});var i=r(9414);Object.defineProperty(t,"decodeBytes32String",{enumerable:!0,get:function(){return i.decodeBytes32String}}),Object.defineProperty(t,"encodeBytes32String",{enumerable:!0,get:function(){return i.encodeBytes32String}});var s=r(189);Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return s.ConstructorFragment}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return s.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return s.EventFragment}}),Object.defineProperty(t,"FallbackFragment",{enumerable:!0,get:function(){return s.FallbackFragment}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return s.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return s.FunctionFragment}}),Object.defineProperty(t,"NamedFragment",{enumerable:!0,get:function(){return s.NamedFragment}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return s.ParamType}}),Object.defineProperty(t,"StructFragment",{enumerable:!0,get:function(){return s.StructFragment}});var a=r(5863);Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return a.checkResultErrors}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return a.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return a.Interface}}),Object.defineProperty(t,"ErrorDescription",{enumerable:!0,get:function(){return a.ErrorDescription}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return a.LogDescription}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return a.TransactionDescription}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return a.Result}});var o=r(9976);Object.defineProperty(t,"Typed",{enumerable:!0,get:function(){return o.Typed}})},5863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Interface=t.Indexed=t.ErrorDescription=t.TransactionDescription=t.LogDescription=t.Result=t.checkResultErrors=void 0;const n=r(2291),i=r(1181),s=r(5347),a=r(954),o=r(8869);Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return o.checkResultErrors}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return o.Result}});const c=r(189),u=r(9976);class l{fragment;name;signature;topic;args;constructor(e,t,r){const n=e.name,i=e.format();(0,s.defineProperties)(this,{fragment:e,name:n,signature:i,topic:t,args:r})}}t.LogDescription=l;class d{fragment;name;args;signature;selector;value;constructor(e,t,r,n){const i=e.name,a=e.format();(0,s.defineProperties)(this,{fragment:e,name:i,args:r,signature:a,selector:t,value:n})}}t.TransactionDescription=d;class h{fragment;name;args;signature;selector;constructor(e,t,r){const n=e.name,i=e.format();(0,s.defineProperties)(this,{fragment:e,name:n,args:r,signature:i,selector:t})}}t.ErrorDescription=h;class f{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){(0,s.defineProperties)(this,{hash:e,_isIndexed:!0})}}t.Indexed=f;const p={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},y={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&p[e.toString()]&&(t=p[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class g{fragments;deploy;fallback;receive;#p;#y;#g;#m;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#g=new Map,this.#p=new Map,this.#y=new Map;const r=[];for(const e of t)try{r.push(c.Fragment.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}(0,s.defineProperties)(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#m=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let r;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void(0,s.defineProperties)(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:((0,s.assertArgument)(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),n=e,i=n.payable));case"function":r=this.#g;break;case"event":r=this.#y;break;case"error":r=this.#p;break;default:return}const a=e.format();r.has(a)||r.set(a,e)})),this.deploy||(0,s.defineProperties)(this,{deploy:c.ConstructorFragment.from("constructor()")}),(0,s.defineProperties)(this,{fallback:n,receive:i})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return a.AbiCoder.defaultAbiCoder()}#b(e,t,r){if((0,s.isHexString)(e)){const t=e.toLowerCase();for(const e of this.#g.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const n=[];for(const[t,r]of this.#g)t.split("(")[0]===e&&n.push(r);if(t){const e=t.length>0?t[t.length-1]:null;let r=t.length,i=!0;u.Typed.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let e=n.length-1;e>=0;e--){const t=n[e].inputs.length;t===r||i&&t===r-1||n.splice(e,1)}for(let e=n.length-1;e>=0;e--){const r=n[e].inputs;for(let i=0;i<t.length;i++)if(u.Typed.isTyped(t[i])){if(i>=r.length){if("overrides"===t[i].type)continue;n.splice(e,1);break}if(t[i].type!==r[i].baseType){n.splice(e,1);break}}}}if(1===n.length&&t&&t.length!==n[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){const t=n.map((e=>JSON.stringify(e.format()))).join(", ");(0,s.assertArgument)(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return n[0]}return this.#g.get(c.FunctionFragment.from(e).format())||null}getFunctionName(e){const t=this.#b(e,null,!1);return(0,s.assertArgument)(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#b(e,null,!1)}getFunction(e,t){return this.#b(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#g.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#g.get(n),r)}}#w(e,t,r){if((0,s.isHexString)(e)){const t=e.toLowerCase();for(const e of this.#y.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const n=[];for(const[t,r]of this.#y)t.split("(")[0]===e&&n.push(r);if(t){for(let e=n.length-1;e>=0;e--)n[e].inputs.length<t.length&&n.splice(e,1);for(let e=n.length-1;e>=0;e--){const r=n[e].inputs;for(let i=0;i<t.length;i++)if(u.Typed.isTyped(t[i])&&t[i].type!==r[i].baseType){n.splice(e,1);break}}}if(0===n.length)return null;if(n.length>1&&r){const t=n.map((e=>JSON.stringify(e.format()))).join(", ");(0,s.assertArgument)(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return n[0]}return this.#y.get(c.EventFragment.from(e).format())||null}getEventName(e){const t=this.#w(e,null,!1);return(0,s.assertArgument)(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#w(e,null,!1)}getEvent(e,t){return this.#w(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#y.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#y.get(n),r)}}getError(e,t){if((0,s.isHexString)(e)){const t=e.toLowerCase();if(y[t])return c.ErrorFragment.from(y[t].signature);for(const e of this.#p.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[r,n]of this.#p)r.split("(")[0]===e&&t.push(n);if(0===t.length)return"Error"===e?c.ErrorFragment.from("error Error(string)"):"Panic"===e?c.ErrorFragment.from("error Panic(uint256)"):null;if(t.length>1){const r=t.map((e=>JSON.stringify(e.format()))).join(", ");(0,s.assertArgument)(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}if("Error(string)"===(e=c.ErrorFragment.from(e).format()))return c.ErrorFragment.from("error Error(string)");if("Panic(uint256)"===e)return c.ErrorFragment.from("error Panic(uint256)");return this.#p.get(e)||null}forEachError(e){const t=Array.from(this.#p.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#p.get(n),r)}}_decodeParams(e,t){return this.#m.decode(e,t)}_encodeParams(e,t){return this.#m.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);(0,s.assertArgument)(t,"unknown error","fragment",e),e=t}return(0,s.assertArgument)((0,s.dataSlice)(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,s.dataSlice)(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);(0,s.assertArgument)(t,"unknown error","fragment",e),e=t}return(0,s.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,s.assertArgument)(t,"unknown function","fragment",e),e=t}return(0,s.assertArgument)((0,s.dataSlice)(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,s.dataSlice)(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,s.assertArgument)(t,"unknown function","fragment",e),e=t}return(0,s.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,s.assertArgument)(t,"unknown function","fragment",e),e=t}let r="invalid length for result data";const n=(0,s.getBytesCopy)(t);if(n.length%32==0)try{return this.#m.decode(e.outputs,n)}catch(e){r="could not decode result data"}(0,s.assert)(!1,r,"BAD_DATA",{value:(0,s.hexlify)(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=(0,s.getBytes)(e,"data"),n=a.AbiCoder.getBuiltinCallException("call",t,r);if(n.message.startsWith("execution reverted (unknown custom error)")){const e=(0,s.hexlify)(r.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#m.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(e){n.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(n.invocation={method:i.name,signature:i.signature,args:i.args}),n}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,s.assertArgument)(t,"unknown function","fragment",e),e=t}return(0,s.hexlify)(this.#m.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);(0,s.assertArgument)(t,"unknown event","eventFragment",e),e=t}(0,s.assert)(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const a=(e,t)=>"string"===e.type?(0,i.id)(t):"bytes"===e.type?(0,n.keccak256)((0,s.hexlify)(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=(0,s.toBeHex)(t):e.type.match(/^bytes/)?t=(0,s.zeroPadBytes)(t,32):"address"===e.type&&this.#m.encode(["address"],[t]),(0,s.zeroPadValue)((0,s.hexlify)(t),32));for(t.forEach(((t,n)=>{const i=e.inputs[n];i.indexed?null==t?r.push(null):"array"===i.baseType||"tuple"===i.baseType?(0,s.assertArgument)(!1,"filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?r.push(t.map((e=>a(i,e)))):r.push(a(i,t)):(0,s.assertArgument)(null==t,"cannot filter non-indexed parameters; must be null","contract."+i.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);(0,s.assertArgument)(t,"unknown event","eventFragment",e),e=t}const r=[],a=[],o=[];return e.anonymous||r.push(e.topicHash),(0,s.assertArgument)(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,s)=>{const c=t[s];if(e.indexed)if("string"===e.type)r.push((0,i.id)(c));else if("bytes"===e.type)r.push((0,n.keccak256)(c));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this.#m.encode([e.type],[c]))}else a.push(e),o.push(c)})),{data:this.#m.encode(a,o),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){const t=this.getEvent(e);(0,s.assertArgument)(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){const t=e.topicHash;(0,s.assertArgument)((0,s.isHexString)(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const n=[],i=[],a=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(c.ParamType.from({type:"bytes32",name:e.name})),a.push(!0)):(n.push(e),a.push(!1)):(i.push(e),a.push(!1))}));const u=null!=r?this.#m.decode(n,(0,s.concat)(r)):null,l=this.#m.decode(i,t,!0),d=[],h=[];let p=0,y=0;return e.inputs.forEach(((e,t)=>{let r=null;if(e.indexed)if(null==u)r=new f(null);else if(a[t])r=new f(u[y++]);else try{r=u[y++]}catch(e){r=e}else try{r=l[p++]}catch(e){r=e}d.push(r),h.push(e.name||null)})),o.Result.fromItems(d,h)}parseTransaction(e){const t=(0,s.getBytes)(e.data,"tx.data"),r=(0,s.getBigInt)(null!=e.value?e.value:0,"tx.value"),n=this.getFunction((0,s.hexlify)(t.slice(0,4)));if(!n)return null;const i=this.#m.decode(n.inputs,t.slice(4));return new d(n,n.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new l(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=(0,s.hexlify)(e),r=this.getError((0,s.dataSlice)(t,0,4));if(!r)return null;const n=this.#m.decode(r.inputs,(0,s.dataSlice)(t,4));return new h(r,r.selector,n)}static from(e){return e instanceof g?e:"string"==typeof e?new g(JSON.parse(e)):"function"==typeof e.formatJson?new g(e.formatJson()):"function"==typeof e.format?new g(e.format("json")):new g(e)}}t.Interface=g},9976:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Typed=void 0;const n=r(5347),i={};function s(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new c(i,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function a(e,t){return new c(i,`bytes${t||""}`,e,{size:t})}const o=Symbol.for("_ethers_typed");class c{type;value;#v;_typedSymbol;constructor(e,t,r,s){null==s&&(s=null),(0,n.assertPrivate)(i,e,"Typed"),(0,n.defineProperties)(this,{_typedSymbol:o,type:t,value:r}),this.#v=s,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#v}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#v?-1:!1===this.#v?this.value.length:null}static from(e,t){return new c(i,e,t)}static uint8(e){return s(e,8)}static uint16(e){return s(e,16)}static uint24(e){return s(e,24)}static uint32(e){return s(e,32)}static uint40(e){return s(e,40)}static uint48(e){return s(e,48)}static uint56(e){return s(e,56)}static uint64(e){return s(e,64)}static uint72(e){return s(e,72)}static uint80(e){return s(e,80)}static uint88(e){return s(e,88)}static uint96(e){return s(e,96)}static uint104(e){return s(e,104)}static uint112(e){return s(e,112)}static uint120(e){return s(e,120)}static uint128(e){return s(e,128)}static uint136(e){return s(e,136)}static uint144(e){return s(e,144)}static uint152(e){return s(e,152)}static uint160(e){return s(e,160)}static uint168(e){return s(e,168)}static uint176(e){return s(e,176)}static uint184(e){return s(e,184)}static uint192(e){return s(e,192)}static uint200(e){return s(e,200)}static uint208(e){return s(e,208)}static uint216(e){return s(e,216)}static uint224(e){return s(e,224)}static uint232(e){return s(e,232)}static uint240(e){return s(e,240)}static uint248(e){return s(e,248)}static uint256(e){return s(e,256)}static uint(e){return s(e,256)}static int8(e){return s(e,-8)}static int16(e){return s(e,-16)}static int24(e){return s(e,-24)}static int32(e){return s(e,-32)}static int40(e){return s(e,-40)}static int48(e){return s(e,-48)}static int56(e){return s(e,-56)}static int64(e){return s(e,-64)}static int72(e){return s(e,-72)}static int80(e){return s(e,-80)}static int88(e){return s(e,-88)}static int96(e){return s(e,-96)}static int104(e){return s(e,-104)}static int112(e){return s(e,-112)}static int120(e){return s(e,-120)}static int128(e){return s(e,-128)}static int136(e){return s(e,-136)}static int144(e){return s(e,-144)}static int152(e){return s(e,-152)}static int160(e){return s(e,-160)}static int168(e){return s(e,-168)}static int176(e){return s(e,-176)}static int184(e){return s(e,-184)}static int192(e){return s(e,-192)}static int200(e){return s(e,-200)}static int208(e){return s(e,-208)}static int216(e){return s(e,-216)}static int224(e){return s(e,-224)}static int232(e){return s(e,-232)}static int240(e){return s(e,-240)}static int248(e){return s(e,-248)}static int256(e){return s(e,-256)}static int(e){return s(e,-256)}static bytes1(e){return a(e,1)}static bytes2(e){return a(e,2)}static bytes3(e){return a(e,3)}static bytes4(e){return a(e,4)}static bytes5(e){return a(e,5)}static bytes6(e){return a(e,6)}static bytes7(e){return a(e,7)}static bytes8(e){return a(e,8)}static bytes9(e){return a(e,9)}static bytes10(e){return a(e,10)}static bytes11(e){return a(e,11)}static bytes12(e){return a(e,12)}static bytes13(e){return a(e,13)}static bytes14(e){return a(e,14)}static bytes15(e){return a(e,15)}static bytes16(e){return a(e,16)}static bytes17(e){return a(e,17)}static bytes18(e){return a(e,18)}static bytes19(e){return a(e,19)}static bytes20(e){return a(e,20)}static bytes21(e){return a(e,21)}static bytes22(e){return a(e,22)}static bytes23(e){return a(e,23)}static bytes24(e){return a(e,24)}static bytes25(e){return a(e,25)}static bytes26(e){return a(e,26)}static bytes27(e){return a(e,27)}static bytes28(e){return a(e,28)}static bytes29(e){return a(e,29)}static bytes30(e){return a(e,30)}static bytes31(e){return a(e,31)}static bytes32(e){return a(e,32)}static address(e){return new c(i,"address",e)}static bool(e){return new c(i,"bool",!!e)}static bytes(e){return new c(i,"bytes",e)}static string(e){return new c(i,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new c(i,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===o}static dereference(e,t){if(c.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}t.Typed=c},7262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIcapAddress=t.getAddress=void 0;const n=r(2291),i=r(5347),s=BigInt(0),a=BigInt(36);function o(e){const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const s=(0,i.getBytes)((0,n.keccak256)(r));for(let e=0;e<40;e+=2)s[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&s[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const c={};for(let e=0;e<10;e++)c[String(e)]=String(e);for(let e=0;e<26;e++)c[String.fromCharCode(65+e)]=String(10+e);function u(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>c[e])).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const l=function(){const e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function d(e){if((0,i.assertArgument)("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=o(e);return(0,i.assertArgument)(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,i.assertArgument)(e.substring(2,4)===u(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=s;for(let r=0;r<e.length;r++)t=t*a+l[e[r]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return o("0x"+t)}(0,i.assertArgument)(!1,"invalid address","address",e)}t.getAddress=d,t.getIcapAddress=function(e){let t=BigInt(d(e)).toString(36).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+u("XE00"+t)+t}},345:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAddress=t.isAddress=t.isAddressable=void 0;const n=r(5347),i=r(7262);function s(e){return e&&"function"==typeof e.getAddress}async function a(e,t){const r=await t;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||((0,n.assert)("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),(0,n.assertArgument)(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),(0,i.getAddress)(r)}t.isAddressable=s,t.isAddress=function(e){try{return(0,i.getAddress)(e),!0}catch(e){}return!1},t.resolveAddress=function(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?(0,i.getAddress)(e):((0,n.assert)(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),a(e,t.resolveName(e))):s(e)?a(e,e.getAddress()):e&&"function"==typeof e.then?a(e,e):void(0,n.assertArgument)(!1,"unsupported addressable value","target",e)}},1891:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCreate2Address=t.getCreateAddress=void 0;const n=r(2291),i=r(5347),s=r(7262);t.getCreateAddress=function(e){const t=(0,s.getAddress)(e.from);let r=(0,i.getBigInt)(e.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,(0,s.getAddress)((0,i.dataSlice)((0,n.keccak256)((0,i.encodeRlp)([t,r])),12))},t.getCreate2Address=function(e,t,r){const a=(0,s.getAddress)(e),o=(0,i.getBytes)(t,"salt"),c=(0,i.getBytes)(r,"initCodeHash");return(0,i.assertArgument)(32===o.length,"salt must be 32 bytes","salt",t),(0,i.assertArgument)(32===c.length,"initCodeHash must be 32 bytes","initCodeHash",r),(0,s.getAddress)((0,i.dataSlice)((0,n.keccak256)((0,i.concat)(["0xff",a,o,c])),12))}},646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAddress=t.isAddress=t.isAddressable=t.getCreate2Address=t.getCreateAddress=t.getIcapAddress=t.getAddress=void 0;var n=r(7262);Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return n.getAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return n.getIcapAddress}});var i=r(1891);Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return i.getCreateAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return i.getCreate2Address}});var s=r(345);Object.defineProperty(t,"isAddressable",{enumerable:!0,get:function(){return s.isAddressable}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return s.isAddress}}),Object.defineProperty(t,"resolveAddress",{enumerable:!0,get:function(){return s.resolveAddress}})},5239:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZeroAddress=void 0,t.ZeroAddress="0x0000000000000000000000000000000000000000"},5255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZeroHash=void 0,t.ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"},1295:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePrefix=t.EtherSymbol=t.MaxInt256=t.MinInt256=t.MaxUint256=t.WeiPerEther=t.N=t.ZeroHash=t.ZeroAddress=void 0;var n=r(5239);Object.defineProperty(t,"ZeroAddress",{enumerable:!0,get:function(){return n.ZeroAddress}});var i=r(5255);Object.defineProperty(t,"ZeroHash",{enumerable:!0,get:function(){return i.ZeroHash}});var s=r(9197);Object.defineProperty(t,"N",{enumerable:!0,get:function(){return s.N}}),Object.defineProperty(t,"WeiPerEther",{enumerable:!0,get:function(){return s.WeiPerEther}}),Object.defineProperty(t,"MaxUint256",{enumerable:!0,get:function(){return s.MaxUint256}}),Object.defineProperty(t,"MinInt256",{enumerable:!0,get:function(){return s.MinInt256}}),Object.defineProperty(t,"MaxInt256",{enumerable:!0,get:function(){return s.MaxInt256}});var a=r(6245);Object.defineProperty(t,"EtherSymbol",{enumerable:!0,get:function(){return a.EtherSymbol}}),Object.defineProperty(t,"MessagePrefix",{enumerable:!0,get:function(){return a.MessagePrefix}})},9197:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaxInt256=t.MinInt256=t.MaxUint256=t.WeiPerEther=t.N=void 0,t.N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),t.WeiPerEther=BigInt("1000000000000000000"),t.MaxUint256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.MinInt256=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),t.MaxInt256=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},6245:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePrefix=t.EtherSymbol=void 0,t.EtherSymbol="Ξ",t.MessagePrefix="Ethereum Signed Message:\n"},1008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Contract=t.BaseContract=t.resolveArgs=t.copyOverrides=void 0;const n=r(8456),i=r(646),s=r(3807),a=r(5347),o=r(6526),c=BigInt(0);function u(e){return e&&"function"==typeof e.call}function l(e){return e&&"function"==typeof e.estimateGas}function d(e){return e&&"function"==typeof e.resolveName}function h(e){return e&&"function"==typeof e.sendTransaction}function f(e){if(null!=e){if(d(e))return e;if(e.provider)return e.provider}}class p{#A;fragment;constructor(e,t,r){if((0,a.defineProperties)(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const n=y(e.runner,"resolveName"),s=d(n)?n:null;this.#A=async function(){const n=await Promise.all(t.inputs.map(((e,t)=>null==r[t]?null:e.walkAsync(r[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>(0,i.resolveAddress)(e,s)))):(0,i.resolveAddress)(t,s):t)))));return e.interface.encodeFilterTopics(t,n)}()}getTopicFilter(){return this.#A}}function y(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function g(e){return null==e?null:e.provider||null}async function m(e,t){const r=n.Typed.dereference(e,"overrides");(0,a.assertArgument)("object"==typeof r,"invalid overrides parameter","overrides",e);const i=(0,s.copyRequest)(r);return(0,a.assertArgument)(null==i.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",i.to),(0,a.assertArgument)(null==i.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",i.data),i.from&&(i.from=i.from),i}async function b(e,t,r){const s=y(e,"resolveName"),a=d(s)?s:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(r[t],((e,t)=>(t=n.Typed.dereference(t,e),"address"===e?(0,i.resolveAddress)(t,a):t))))))}function w(e){const t=async function(t){const r=await m(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await(0,i.resolveAddress)(r.from,f(e.runner)));const n=e.interface,s=(0,a.getBigInt)(r.value||c,"overrides.value")===c,o="0x"===(r.data||"0x");!n.fallback||n.fallback.payable||!n.receive||o||s||(0,a.assertArgument)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),(0,a.assertArgument)(n.fallback||o,"cannot send data to receive-only contract","overrides.data",r.data);const u=n.receive||n.fallback&&n.fallback.payable;return(0,a.assertArgument)(u||s,"cannot send value to non-payable fallback","overrides.value",r.value),(0,a.assertArgument)(n.fallback||o,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const n=e.runner;(0,a.assert)(h(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await n.sendTransaction(await t(r)),s=g(e.runner);return new o.ContractTransactionResponse(e.interface,s,i)},n=async e=>await r(e);return(0,a.defineProperties)(n,{_contract:e,estimateGas:async function(r){const n=y(e.runner,"estimateGas");return(0,a.assert)(l(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await t(r))},populateTransaction:t,send:r,staticCall:async function(r){const n=y(e.runner,"call");(0,a.assert)(u(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(r);try{return await n.call(i)}catch(t){if((0,a.isCallException)(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}}}),n}t.copyOverrides=m,t.resolveArgs=b;const v=Symbol.for("_ethersInternal_contract"),A=new WeakMap;function k(e){return A.get(e[v])}async function _(e,t){let r,n=null;if(Array.isArray(t)){const n=function(t){if((0,a.isHexString)(t,32))return t;const r=e.interface.getEvent(t);return(0,a.assertArgument)(r,"unknown fragment","name",t),r.topicHash};r=t.map((e=>null==e?null:Array.isArray(e)?e.map(n):n(e)))}else"*"===t?r=[null]:"string"==typeof t?(0,a.isHexString)(t,32)?r=[t]:(n=e.interface.getEvent(t),(0,a.assertArgument)(n,"unknown fragment","event",t),r=[n.topicHash]):(i=t)&&"object"==typeof i&&"getTopicFilter"in i&&"function"==typeof i.getTopicFilter&&i.fragment?r=await t.getTopicFilter():"fragment"in t?(n=t.fragment,r=[n.topicHash]):(0,a.assertArgument)(!1,"unknown event name","event",t);var i;return r=r.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})),{fragment:n,tag:r.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:r}}async function P(e,t){const{subs:r}=k(e);return r.get((await _(e,t)).tag)||null}async function E(e,t,r){const n=g(e.runner);(0,a.assert)(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:c}=await _(e,r),{addr:u,subs:l}=k(e);let d=l.get(s);if(!d){const t={address:u||e,topics:c},a=t=>{let n=i;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(e){}if(n){const s=n,a=i?e.interface.decodeEventLog(i,t.data,t.topics):[];x(e,r,a,(n=>new o.ContractEventPayload(e,n,r,s,t)))}else x(e,r,[],(n=>new o.ContractUnknownEventPayload(e,n,r,t)))};let h=[];d={tag:s,listeners:[],start:()=>{h.length||h.push(n.on(t,a))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),n.off(t,a)}},l.set(s,d)}return d}let S=Promise.resolve();async function x(e,t,r,n){try{await S}catch(e){}const i=async function(e,t,r,n){await S;const i=await P(e,t);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter((({listener:t,once:i})=>{const s=Array.from(r);n&&s.push(n(i?null:t));try{t.call(e,...s)}catch(e){}return!i})),0===i.listeners.length&&(i.stop(),k(e).subs.delete(i.tag)),s>0}(e,t,r,n);return S=i,await i}const C=["then"];class B{target;interface;runner;filters;[v];fallback;constructor(e,t,r,s){(0,a.assertArgument)("string"==typeof e||(0,i.isAddressable)(e),"invalid value for Contract target","target",e),null==r&&(r=null);const c=n.Interface.from(t);let u;(0,a.defineProperties)(this,{target:e,runner:r,interface:c}),Object.defineProperty(this,v,{value:{}});let l=null,h=null;if(s){const e=g(r);h=new o.ContractTransactionResponse(this.interface,e,s)}let f=new Map;if("string"==typeof e)if((0,a.isHexString)(e))l=e,u=Promise.resolve(e);else{const t=y(r,"resolveName");if(!d(t))throw(0,a.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});u=t.resolveName(e).then((t=>{if(null==t)throw(0,a.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return k(this).addr=t,t}))}else u=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return k(this).addr=e,e}));var p;p={addrPromise:u,addr:l,deployTx:h,subs:f},A.set(this[v],p);const m=new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||C.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!(0,a.isError)(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>C.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return(0,a.defineProperties)(this,{filters:m}),(0,a.defineProperties)(this,{fallback:c.receive||c.fallback?w(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||C.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!(0,a.isError)(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||C.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new B(this.target,this.interface,e)}attach(e){return new B(e,this.interface,this.runner)}async getAddress(){return await k(this).addrPromise}async getDeployedCode(){const e=g(this.runner);(0,a.assert)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=g(this.runner);return(0,a.assert)(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,r)=>{const n=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",n)}catch(e){r(e)}};n()}))}deploymentTransaction(){return k(this).deployTx}getFunction(e){"string"!=typeof e&&(e=e.format());const t=function(e,t){const r=function(...r){const n=e.interface.getFunction(t,r);return(0,a.assert)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=async function(...t){const n=r(...t);let s={};if(n.inputs.length+1===t.length&&(s=await m(t.pop()),s.from&&(s.from=await(0,i.resolveAddress)(s.from,f(e.runner)))),n.inputs.length!==t.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const o=await b(e.runner,n.inputs,t);return Object.assign({},s,await(0,a.resolveProperties)({to:e.getAddress(),data:e.interface.encodeFunctionData(n,o)}))},s=async function(...e){const t=await d(...e);return 1===t.length?t[0]:t},c=async function(...t){const r=e.runner;(0,a.assert)(h(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await n(...t)),s=g(e.runner);return new o.ContractTransactionResponse(e.interface,s,i)},d=async function(...t){const i=y(e.runner,"call");(0,a.assert)(u(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await n(...t);let o="0x";try{o=await i.call(s)}catch(t){if((0,a.isCallException)(t)&&t.data)throw e.interface.makeError(t.data,s);throw t}const c=r(...t);return e.interface.decodeFunctionResult(c,o)},p=async(...e)=>r(...e).constant?await s(...e):await c(...e);return(0,a.defineProperties)(p,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:r,estimateGas:async function(...t){const r=y(e.runner,"estimateGas");return(0,a.assert)(l(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await n(...t))},populateTransaction:n,send:c,staticCall:s,staticCallResult:d}),Object.defineProperty(p,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getFunction(t);return(0,a.assert)(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),p}(this,e);return t}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const r=function(...r){const n=e.interface.getEvent(t,r);return(0,a.assert)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=function(...t){return new p(e,r(...t),t)};return(0,a.defineProperties)(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getEvent(t);return(0,a.assert)(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),n}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");const{addr:n,addrPromise:i}=k(this),c=n||await i,{fragment:u,topics:l}=await _(this,e),d={address:c,topics:l,fromBlock:t,toBlock:r},h=g(this.runner);return(0,a.assert)(h,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await h.getLogs(d)).map((e=>{let t=u;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new o.EventLog(e,this.interface,t)}catch(t){return new o.UndecodedEventLog(e,t)}return new s.Log(e,h)}))}async on(e,t){const r=await E(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await E(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await x(this,e,t,null)}async listenerCount(e){if(e){const t=await P(this,e);return t?t.listeners.length:0}const{subs:t}=k(this);let r=0;for(const{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){const t=await P(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=k(this);let r=[];for(const{listeners:e}of t.values())r=r.concat(e.map((({listener:e})=>e)));return r}async off(e,t){const r=await P(this,e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return null!=t&&0!==r.listeners.length||(r.stop(),k(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await P(this,e);if(!t)return this;t.stop(),k(this).subs.delete(t.tag)}else{const{subs:e}=k(this);for(const{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends B{constructor(t,r=null){super(t,e,r)}}}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}t.BaseContract=B;class O extends(function(){return B}()){}t.Contract=O},406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContractFactory=void 0;const n=r(8456),i=r(646),s=r(5347),a=r(1008);class o{interface;bytecode;runner;constructor(e,t,r){const i=n.Interface.from(e);t instanceof Uint8Array||("object"==typeof t&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),t=(0,s.hexlify)((0,s.getBytes)(t)),(0,s.defineProperties)(this,{bytecode:t,interface:i,runner:r||null})}attach(e){return new a.BaseContract(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={};const r=this.interface.deploy;if(r.inputs.length+1===e.length&&(t=await(0,a.copyOverrides)(e.pop())),r.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");const n=await(0,a.resolveArgs)(this.runner,r.inputs,e),i=(0,s.concat)([this.bytecode,this.interface.encodeDeploy(n)]);return Object.assign({},t,{data:i})}async deploy(...e){const t=await this.getDeployTransaction(...e);(0,s.assert)(this.runner&&"function"==typeof this.runner.sendTransaction,"factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const r=await this.runner.sendTransaction(t),n=(0,i.getCreateAddress)(r);return new a.BaseContract(n,this.interface,this.runner,r)}connect(e){return new o(this.interface,this.bytecode,e)}static fromSolidity(e,t){(0,s.assertArgument)(null!=e,"bad compiler output","output",e),"string"==typeof e&&(e=JSON.parse(e));const r=e.abi;let n="";return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}}t.ContractFactory=o},9288:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UndecodedEventLog=t.EventLog=t.ContractTransactionResponse=t.ContractTransactionReceipt=t.ContractUnknownEventPayload=t.ContractEventPayload=t.ContractFactory=t.Contract=t.BaseContract=void 0;var n=r(1008);Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return n.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return n.Contract}});var i=r(406);Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return i.ContractFactory}});var s=r(6526);Object.defineProperty(t,"ContractEventPayload",{enumerable:!0,get:function(){return s.ContractEventPayload}}),Object.defineProperty(t,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return s.ContractUnknownEventPayload}}),Object.defineProperty(t,"ContractTransactionReceipt",{enumerable:!0,get:function(){return s.ContractTransactionReceipt}}),Object.defineProperty(t,"ContractTransactionResponse",{enumerable:!0,get:function(){return s.ContractTransactionResponse}}),Object.defineProperty(t,"EventLog",{enumerable:!0,get:function(){return s.EventLog}}),Object.defineProperty(t,"UndecodedEventLog",{enumerable:!0,get:function(){return s.UndecodedEventLog}})},6526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContractEventPayload=t.ContractUnknownEventPayload=t.ContractTransactionResponse=t.ContractTransactionReceipt=t.UndecodedEventLog=t.EventLog=void 0;const n=r(3807),i=r(5347);class s extends n.Log{interface;fragment;args;constructor(e,t,r){super(e,e.provider);const n=t.decodeEventLog(r,e.data,e.topics);(0,i.defineProperties)(this,{args:n,fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}t.EventLog=s;class a extends n.Log{error;constructor(e,t){super(e,e.provider),(0,i.defineProperties)(this,{error:t})}}t.UndecodedEventLog=a;class o extends n.TransactionReceipt{#k;constructor(e,t,r){super(r,t),this.#k=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#k.getEvent(e.topics[0]):null;if(t)try{return new s(e,this.#k,t)}catch(t){return new a(e,t)}return e}))}}t.ContractTransactionReceipt=o;class c extends n.TransactionResponse{#k;constructor(e,t,r){super(r,t),this.#k=e}async wait(e,t){const r=await super.wait(e,t);return null==r?null:new o(this.#k,this.provider,r)}}t.ContractTransactionResponse=c;class u extends i.EventPayload{log;constructor(e,t,r,n){super(e,t,r),(0,i.defineProperties)(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}t.ContractUnknownEventPayload=u,t.ContractEventPayload=class extends u{constructor(e,t,r,n,a){super(e,t,r,new s(a,e.interface,n));const o=e.interface.decodeEventLog(n,this.log.data,this.log.topics);(0,i.defineProperties)(this,{args:o,fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}},7155:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.pbkdf2Sync=t.createHmac=t.createHash=void 0;const n=r(9615),i=r(8941),s=r(2623),a=r(102),o=r(5347),c=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}(),u=c.crypto||c.msCrypto;t.createHash=function(e){switch(e){case"sha256":return s.sha256.create();case"sha512":return a.sha512.create()}(0,o.assertArgument)(!1,"invalid hashing algorithm name","algorithm",e)},t.createHmac=function(e,t){const r={sha256:s.sha256,sha512:a.sha512}[e];return(0,o.assertArgument)(null!=r,"invalid hmac algorithm","algorithm",e),n.hmac.create(r,t)},t.pbkdf2Sync=function(e,t,r,n,c){const u={sha256:s.sha256,sha512:a.sha512}[c];return(0,o.assertArgument)(null!=u,"invalid pbkdf2 algorithm","algorithm",c),(0,i.pbkdf2)(u,e,t,{c:r,dkLen:n})},t.randomBytes=function(e){(0,o.assert)(null!=u,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),(0,o.assertArgument)(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e);const t=new Uint8Array(e);return u.getRandomValues(t),t}},3192:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeHmac=void 0;const n=r(7155),i=r(5347);let s=!1;const a=function(e,t,r){return(0,n.createHmac)(e,t).update(r).digest()};let o=a;function c(e,t,r){const n=(0,i.getBytes)(t,"key"),s=(0,i.getBytes)(r,"data");return(0,i.hexlify)(o(e,n,s))}t.computeHmac=c,c._=a,c.lock=function(){s=!0},c.register=function(e){if(s)throw new Error("computeHmac is locked");o=e},Object.freeze(c)},2291:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lock=t.Signature=t.SigningKey=t.scryptSync=t.scrypt=t.pbkdf2=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.randomBytes=t.computeHmac=void 0;const n=r(3192);Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return n.computeHmac}});const i=r(3905);Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return i.keccak256}});const s=r(7307);Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return s.ripemd160}});const a=r(2862);Object.defineProperty(t,"pbkdf2",{enumerable:!0,get:function(){return a.pbkdf2}});const o=r(8964);Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return o.randomBytes}});const c=r(5456);Object.defineProperty(t,"scrypt",{enumerable:!0,get:function(){return c.scrypt}}),Object.defineProperty(t,"scryptSync",{enumerable:!0,get:function(){return c.scryptSync}});const u=r(5059);Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return u.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return u.sha512}});var l=r(4534);Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return l.SigningKey}});var d=r(7005);Object.defineProperty(t,"Signature",{enumerable:!0,get:function(){return d.Signature}}),t.lock=function(){n.computeHmac.lock(),i.keccak256.lock(),a.pbkdf2.lock(),o.randomBytes.lock(),s.ripemd160.lock(),c.scrypt.lock(),c.scryptSync.lock(),u.sha256.lock(),u.sha512.lock(),o.randomBytes.lock()}},3905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keccak256=void 0;const n=r(2955),i=r(5347);let s=!1;const a=function(e){return(0,n.keccak_256)(e)};let o=a;function c(e){const t=(0,i.getBytes)(e,"data");return(0,i.hexlify)(o(t))}t.keccak256=c,c._=a,c.lock=function(){s=!0},c.register=function(e){if(s)throw new TypeError("keccak256 is locked");o=e},Object.freeze(c)},2862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2=void 0;const n=r(7155),i=r(5347);let s=!1;const a=function(e,t,r,i,s){return(0,n.pbkdf2Sync)(e,t,r,i,s)};let o=a;function c(e,t,r,n,s){const a=(0,i.getBytes)(e,"password"),c=(0,i.getBytes)(t,"salt");return(0,i.hexlify)(o(a,c,r,n,s))}t.pbkdf2=c,c._=a,c.lock=function(){s=!0},c.register=function(e){if(s)throw new Error("pbkdf2 is locked");o=e},Object.freeze(c)},8964:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=void 0;const n=r(7155);let i=!1;const s=function(e){return new Uint8Array((0,n.randomBytes)(e))};let a=s;function o(e){return a(e)}t.randomBytes=o,o._=s,o.lock=function(){i=!0},o.register=function(e){if(i)throw new Error("randomBytes is locked");a=e},Object.freeze(o)},7307:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=void 0;const n=r(3238),i=r(5347);let s=!1;const a=function(e){return(0,n.ripemd160)(e)};let o=a;function c(e){const t=(0,i.getBytes)(e,"data");return(0,i.hexlify)(o(t))}t.ripemd160=c,c._=a,c.lock=function(){s=!0},c.register=function(e){if(s)throw new TypeError("ripemd160 is locked");o=e},Object.freeze(c)},5456:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scryptSync=t.scrypt=void 0;const n=r(5663),i=r(5347);let s=!1,a=!1;const o=async function(e,t,r,i,s,a,o){return await(0,n.scryptAsync)(e,t,{N:r,r:i,p:s,dkLen:a,onProgress:o})},c=function(e,t,r,i,s,a){return(0,n.scrypt)(e,t,{N:r,r:i,p:s,dkLen:a})};let u=o,l=c;async function d(e,t,r,n,s,a,o){const c=(0,i.getBytes)(e,"passwd"),l=(0,i.getBytes)(t,"salt");return(0,i.hexlify)(await u(c,l,r,n,s,a,o))}function h(e,t,r,n,s,a){const o=(0,i.getBytes)(e,"passwd"),c=(0,i.getBytes)(t,"salt");return(0,i.hexlify)(l(o,c,r,n,s,a))}t.scrypt=d,d._=o,d.lock=function(){a=!0},d.register=function(e){if(a)throw new Error("scrypt is locked");u=e},Object.freeze(d),t.scryptSync=h,h._=c,h.lock=function(){s=!0},h.register=function(e){if(s)throw new Error("scryptSync is locked");l=e},Object.freeze(h)},5059:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha512=t.sha256=void 0;const n=r(7155),i=r(5347),s=function(e){return(0,n.createHash)("sha256").update(e).digest()},a=function(e){return(0,n.createHash)("sha512").update(e).digest()};let o=s,c=a,u=!1,l=!1;function d(e){const t=(0,i.getBytes)(e,"data");return(0,i.hexlify)(o(t))}function h(e){const t=(0,i.getBytes)(e,"data");return(0,i.hexlify)(c(t))}t.sha256=d,d._=s,d.lock=function(){u=!0},d.register=function(e){if(u)throw new Error("sha256 is locked");o=e},Object.freeze(d),t.sha512=h,h._=a,h.lock=function(){l=!0},h.register=function(e){if(l)throw new Error("sha512 is locked");c=e},Object.freeze(d)},7005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Signature=void 0;const n=r(1295),i=r(5347),s=BigInt(0),a=BigInt(1),o=BigInt(2),c=BigInt(27),u=BigInt(28),l=BigInt(35),d={};function h(e){return(0,i.zeroPadValue)((0,i.toBeArray)(e),32)}class f{#_;#P;#E;#S;get r(){return this.#_}set r(e){(0,i.assertArgument)(32===(0,i.dataLength)(e),"invalid r","value",e),this.#_=(0,i.hexlify)(e)}get s(){return this.#P}set s(e){(0,i.assertArgument)(32===(0,i.dataLength)(e),"invalid s","value",e);const t=(0,i.hexlify)(e);(0,i.assertArgument)(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#P=t}get v(){return this.#E}set v(e){const t=(0,i.getNumber)(e,"value");(0,i.assertArgument)(27===t||28===t,"invalid v","v",e),this.#E=t}get networkV(){return this.#S}get legacyChainId(){const e=this.networkV;return null==e?null:f.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=(0,i.getBytes)(this.s);return this.yParity&&(e[0]|=128),(0,i.hexlify)(e)}get compactSerialized(){return(0,i.concat)([this.r,this.yParityAndS])}get serialized(){return(0,i.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,n){(0,i.assertPrivate)(e,d,"Signature"),this.#_=t,this.#P=r,this.#E=n,this.#S=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new f(d,this.r,this.s,this.v);return this.networkV&&(e.#S=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=(0,i.getBigInt)(e,"v");return t==c||t==u?s:((0,i.assertArgument)(t>=l,"invalid EIP-155 v","v",e),(t-l)/o)}static getChainIdV(e,t){return(0,i.getBigInt)(e)*o+BigInt(35+t-27)}static getNormalizedV(e){const t=(0,i.getBigInt)(e);return t===s||t===c?27:t===a||t===u?28:((0,i.assertArgument)(t>=l,"invalid v","v",e),t&a?27:28)}static from(e){function t(t,r){(0,i.assertArgument)(t,r,"signature",e)}if(null==e)return new f(d,n.ZeroHash,n.ZeroHash,27);if("string"==typeof e){const r=(0,i.getBytes)(e,"signature");if(64===r.length){const e=(0,i.hexlify)(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new f(d,e,(0,i.hexlify)(t),n)}if(65===r.length){const e=(0,i.hexlify)(r.slice(0,32)),n=r.slice(32,64);t(!(128&n[0]),"non-canonical s");const s=f.getNormalizedV(r[64]);return new f(d,e,(0,i.hexlify)(n),s)}t(!1,"invalid raw signature length")}if(e instanceof f)return e.clone();const r=e.r;t(null!=r,"missing r");const s=h(r),a=function(e,r){if(null!=e)return h(e);if(null!=r){t((0,i.isHexString)(r,32),"invalid yParityAndS");const e=(0,i.getBytes)(r);return e[0]&=127,(0,i.hexlify)(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(!(128&(0,i.getBytes)(a)[0]),"non-canonical s");const{networkV:o,v:c}=function(e,r,n){if(null!=e){const t=(0,i.getBigInt)(e);return{networkV:t>=l?t:void 0,v:f.getNormalizedV(t)}}if(null!=r)return t((0,i.isHexString)(r,32),"invalid yParityAndS"),{v:128&(0,i.getBytes)(r)[0]?28:27};if(null!=n){switch((0,i.getNumber)(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),u=new f(d,s,a,c);return o&&(u.#S=o),t(null==e.yParity||(0,i.getNumber)(e.yParity,"sig.yParity")===u.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===u.yParityAndS,"yParityAndS mismatch"),u}}t.Signature=f},4534:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigningKey=void 0;const n=r(8510),i=r(5347),s=r(7005);class a{#x;constructor(e){(0,i.assertArgument)(32===(0,i.dataLength)(e),"invalid private key","privateKey","[REDACTED]"),this.#x=(0,i.hexlify)(e)}get privateKey(){return this.#x}get publicKey(){return a.computePublicKey(this.#x)}get compressedPublicKey(){return a.computePublicKey(this.#x,!0)}sign(e){(0,i.assertArgument)(32===(0,i.dataLength)(e),"invalid digest length","digest",e);const t=n.secp256k1.sign((0,i.getBytesCopy)(e),(0,i.getBytesCopy)(this.#x),{lowS:!0});return s.Signature.from({r:(0,i.toBeHex)(t.r,32),s:(0,i.toBeHex)(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=a.computePublicKey(e);return(0,i.hexlify)(n.secp256k1.getSharedSecret((0,i.getBytesCopy)(this.#x),(0,i.getBytes)(t),!1))}static computePublicKey(e,t){let r=(0,i.getBytes)(e,"key");if(32===r.length){const e=n.secp256k1.getPublicKey(r,!!t);return(0,i.hexlify)(e)}if(64===r.length){const e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}const s=n.secp256k1.ProjectivePoint.fromHex(r);return(0,i.hexlify)(s.toRawBytes(t))}static recoverPublicKey(e,t){(0,i.assertArgument)(32===(0,i.dataLength)(e),"invalid digest length","digest",e);const r=s.Signature.from(t);let a=n.secp256k1.Signature.fromCompact((0,i.getBytesCopy)((0,i.concat)([r.r,r.s])));a=a.addRecoveryBit(r.yParity);const o=a.recoverPublicKey((0,i.getBytesCopy)(e));return(0,i.assertArgument)(null!=o,"invalid signautre for digest","signature",t),"0x"+o.toHex(!1)}static addPoints(e,t,r){const i=n.secp256k1.ProjectivePoint.fromHex(a.computePublicKey(e).substring(2)),s=n.secp256k1.ProjectivePoint.fromHex(a.computePublicKey(t).substring(2));return"0x"+i.add(s).toHex(!!r)}}t.SigningKey=a},1752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=t.keccak256=t.randomBytes=t.computeHmac=t.UndecodedEventLog=t.EventLog=t.ContractUnknownEventPayload=t.ContractTransactionResponse=t.ContractTransactionReceipt=t.ContractEventPayload=t.ContractFactory=t.Contract=t.BaseContract=t.MessagePrefix=t.EtherSymbol=t.ZeroHash=t.N=t.MaxInt256=t.MinInt256=t.MaxUint256=t.WeiPerEther=t.ZeroAddress=t.resolveAddress=t.isAddress=t.isAddressable=t.getCreate2Address=t.getCreateAddress=t.getIcapAddress=t.getAddress=t.Typed=t.TransactionDescription=t.Result=t.LogDescription=t.Interface=t.Indexed=t.ErrorDescription=t.checkResultErrors=t.StructFragment=t.ParamType=t.NamedFragment=t.FunctionFragment=t.FallbackFragment=t.Fragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.AbiCoder=t.encodeBytes32String=t.decodeBytes32String=t.version=void 0,t.EnsPlugin=t.Network=t.EnsResolver=t.WebSocketProvider=t.SocketProvider=t.IpcSocketProvider=t.QuickNodeProvider=t.PocketProvider=t.InfuraWebSocketProvider=t.InfuraProvider=t.EtherscanProvider=t.CloudflareProvider=t.ChainstackProvider=t.AnkrProvider=t.AlchemyProvider=t.BrowserProvider=t.JsonRpcSigner=t.JsonRpcProvider=t.JsonRpcApiProvider=t.FallbackProvider=t.AbstractProvider=t.VoidSigner=t.NonceManager=t.AbstractSigner=t.TransactionResponse=t.TransactionReceipt=t.Log=t.FeeData=t.Block=t.getDefaultProvider=t.verifyTypedData=t.TypedDataEncoder=t.solidityPackedSha256=t.solidityPackedKeccak256=t.solidityPacked=t.verifyMessage=t.hashMessage=t.dnsEncode=t.namehash=t.isValidName=t.ensNormalize=t.id=t.SigningKey=t.Signature=t.lock=t.scryptSync=t.scrypt=t.pbkdf2=t.sha512=t.sha256=void 0,t.getUint=t.getNumber=t.getBigInt=t.FixedNumber=t.FetchCancelSignal=t.FetchResponse=t.FetchRequest=t.EventPayload=t.isError=t.isCallException=t.makeError=t.assertPrivate=t.assertNormalize=t.assertArgumentCount=t.assertArgument=t.assert=t.resolveProperties=t.defineProperties=t.zeroPadValue=t.zeroPadBytes=t.stripZerosLeft=t.isBytesLike=t.isHexString=t.hexlify=t.getBytesCopy=t.getBytes=t.dataSlice=t.dataLength=t.concat=t.encodeBase64=t.decodeBase64=t.encodeBase58=t.decodeBase58=t.Transaction=t.recoverAddress=t.computeAddress=t.accessListify=t.showThrottleMessage=t.copyRequest=t.UnmanagedSubscriber=t.SocketSubscriber=t.SocketPendingSubscriber=t.SocketEventSubscriber=t.SocketBlockSubscriber=t.MulticoinProviderPlugin=t.NetworkPlugin=t.GasCostPlugin=t.FetchUrlFeeDataNetworkPlugin=t.FeeDataNetworkPlugin=t.EtherscanPlugin=void 0,t.wordlists=t.WordlistOwlA=t.WordlistOwl=t.LangEn=t.Wordlist=t.encryptKeystoreJsonSync=t.encryptKeystoreJson=t.decryptKeystoreJson=t.decryptKeystoreJsonSync=t.decryptCrowdsaleJson=t.isKeystoreJson=t.isCrowdsaleJson=t.getIndexedAccountPath=t.getAccountPath=t.defaultPath=t.Wallet=t.HDNodeVoidWallet=t.HDNodeWallet=t.BaseWallet=t.Mnemonic=t.uuidV4=t.encodeRlp=t.decodeRlp=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.mask=t.toTwos=t.fromTwos=t.toQuantity=t.toNumber=t.toBeHex=t.toBigInt=t.toBeArray=void 0;var n=r(4586);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}});var i=r(8456);Object.defineProperty(t,"decodeBytes32String",{enumerable:!0,get:function(){return i.decodeBytes32String}}),Object.defineProperty(t,"encodeBytes32String",{enumerable:!0,get:function(){return i.encodeBytes32String}}),Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FallbackFragment",{enumerable:!0,get:function(){return i.FallbackFragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"NamedFragment",{enumerable:!0,get:function(){return i.NamedFragment}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"StructFragment",{enumerable:!0,get:function(){return i.StructFragment}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ErrorDescription",{enumerable:!0,get:function(){return i.ErrorDescription}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return i.Result}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}}),Object.defineProperty(t,"Typed",{enumerable:!0,get:function(){return i.Typed}});var s=r(646);Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return s.getCreateAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(t,"isAddressable",{enumerable:!0,get:function(){return s.isAddressable}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return s.isAddress}}),Object.defineProperty(t,"resolveAddress",{enumerable:!0,get:function(){return s.resolveAddress}});var a=r(1295);Object.defineProperty(t,"ZeroAddress",{enumerable:!0,get:function(){return a.ZeroAddress}}),Object.defineProperty(t,"WeiPerEther",{enumerable:!0,get:function(){return a.WeiPerEther}}),Object.defineProperty(t,"MaxUint256",{enumerable:!0,get:function(){return a.MaxUint256}}),Object.defineProperty(t,"MinInt256",{enumerable:!0,get:function(){return a.MinInt256}}),Object.defineProperty(t,"MaxInt256",{enumerable:!0,get:function(){return a.MaxInt256}}),Object.defineProperty(t,"N",{enumerable:!0,get:function(){return a.N}}),Object.defineProperty(t,"ZeroHash",{enumerable:!0,get:function(){return a.ZeroHash}}),Object.defineProperty(t,"EtherSymbol",{enumerable:!0,get:function(){return a.EtherSymbol}}),Object.defineProperty(t,"MessagePrefix",{enumerable:!0,get:function(){return a.MessagePrefix}});var o=r(9288);Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return o.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return o.Contract}}),Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return o.ContractFactory}}),Object.defineProperty(t,"ContractEventPayload",{enumerable:!0,get:function(){return o.ContractEventPayload}}),Object.defineProperty(t,"ContractTransactionReceipt",{enumerable:!0,get:function(){return o.ContractTransactionReceipt}}),Object.defineProperty(t,"ContractTransactionResponse",{enumerable:!0,get:function(){return o.ContractTransactionResponse}}),Object.defineProperty(t,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return o.ContractUnknownEventPayload}}),Object.defineProperty(t,"EventLog",{enumerable:!0,get:function(){return o.EventLog}}),Object.defineProperty(t,"UndecodedEventLog",{enumerable:!0,get:function(){return o.UndecodedEventLog}});var c=r(2291);Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return c.computeHmac}}),Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return c.randomBytes}}),Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return c.keccak256}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return c.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return c.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return c.sha512}}),Object.defineProperty(t,"pbkdf2",{enumerable:!0,get:function(){return c.pbkdf2}}),Object.defineProperty(t,"scrypt",{enumerable:!0,get:function(){return c.scrypt}}),Object.defineProperty(t,"scryptSync",{enumerable:!0,get:function(){return c.scryptSync}}),Object.defineProperty(t,"lock",{enumerable:!0,get:function(){return c.lock}}),Object.defineProperty(t,"Signature",{enumerable:!0,get:function(){return c.Signature}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return c.SigningKey}});var u=r(1181);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return u.id}}),Object.defineProperty(t,"ensNormalize",{enumerable:!0,get:function(){return u.ensNormalize}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return u.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return u.namehash}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return u.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return u.hashMessage}}),Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return u.verifyMessage}}),Object.defineProperty(t,"solidityPacked",{enumerable:!0,get:function(){return u.solidityPacked}}),Object.defineProperty(t,"solidityPackedKeccak256",{enumerable:!0,get:function(){return u.solidityPackedKeccak256}}),Object.defineProperty(t,"solidityPackedSha256",{enumerable:!0,get:function(){return u.solidityPackedSha256}}),Object.defineProperty(t,"TypedDataEncoder",{enumerable:!0,get:function(){return u.TypedDataEncoder}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return u.verifyTypedData}});var l=r(3996);Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return l.getDefaultProvider}}),Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return l.Block}}),Object.defineProperty(t,"FeeData",{enumerable:!0,get:function(){return l.FeeData}}),Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return l.Log}}),Object.defineProperty(t,"TransactionReceipt",{enumerable:!0,get:function(){return l.TransactionReceipt}}),Object.defineProperty(t,"TransactionResponse",{enumerable:!0,get:function(){return l.TransactionResponse}}),Object.defineProperty(t,"AbstractSigner",{enumerable:!0,get:function(){return l.AbstractSigner}}),Object.defineProperty(t,"NonceManager",{enumerable:!0,get:function(){return l.NonceManager}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return l.VoidSigner}}),Object.defineProperty(t,"AbstractProvider",{enumerable:!0,get:function(){return l.AbstractProvider}}),Object.defineProperty(t,"FallbackProvider",{enumerable:!0,get:function(){return l.FallbackProvider}}),Object.defineProperty(t,"JsonRpcApiProvider",{enumerable:!0,get:function(){return l.JsonRpcApiProvider}}),Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return l.JsonRpcProvider}}),Object.defineProperty(t,"JsonRpcSigner",{enumerable:!0,get:function(){return l.JsonRpcSigner}}),Object.defineProperty(t,"BrowserProvider",{enumerable:!0,get:function(){return l.BrowserProvider}}),Object.defineProperty(t,"AlchemyProvider",{enumerable:!0,get:function(){return l.AlchemyProvider}}),Object.defineProperty(t,"AnkrProvider",{enumerable:!0,get:function(){return l.AnkrProvider}}),Object.defineProperty(t,"ChainstackProvider",{enumerable:!0,get:function(){return l.ChainstackProvider}}),Object.defineProperty(t,"CloudflareProvider",{enumerable:!0,get:function(){return l.CloudflareProvider}}),Object.defineProperty(t,"EtherscanProvider",{enumerable:!0,get:function(){return l.EtherscanProvider}}),Object.defineProperty(t,"InfuraProvider",{enumerable:!0,get:function(){return l.InfuraProvider}}),Object.defineProperty(t,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return l.InfuraWebSocketProvider}}),Object.defineProperty(t,"PocketProvider",{enumerable:!0,get:function(){return l.PocketProvider}}),Object.defineProperty(t,"QuickNodeProvider",{enumerable:!0,get:function(){return l.QuickNodeProvider}}),Object.defineProperty(t,"IpcSocketProvider",{enumerable:!0,get:function(){return l.IpcSocketProvider}}),Object.defineProperty(t,"SocketProvider",{enumerable:!0,get:function(){return l.SocketProvider}}),Object.defineProperty(t,"WebSocketProvider",{enumerable:!0,get:function(){return l.WebSocketProvider}}),Object.defineProperty(t,"EnsResolver",{enumerable:!0,get:function(){return l.EnsResolver}}),Object.defineProperty(t,"Network",{enumerable:!0,get:function(){return l.Network}}),Object.defineProperty(t,"EnsPlugin",{enumerable:!0,get:function(){return l.EnsPlugin}}),Object.defineProperty(t,"EtherscanPlugin",{enumerable:!0,get:function(){return l.EtherscanPlugin}}),Object.defineProperty(t,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FeeDataNetworkPlugin}}),Object.defineProperty(t,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FetchUrlFeeDataNetworkPlugin}}),Object.defineProperty(t,"GasCostPlugin",{enumerable:!0,get:function(){return l.GasCostPlugin}}),Object.defineProperty(t,"NetworkPlugin",{enumerable:!0,get:function(){return l.NetworkPlugin}}),Object.defineProperty(t,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return l.MulticoinProviderPlugin}}),Object.defineProperty(t,"SocketBlockSubscriber",{enumerable:!0,get:function(){return l.SocketBlockSubscriber}}),Object.defineProperty(t,"SocketEventSubscriber",{enumerable:!0,get:function(){return l.SocketEventSubscriber}}),Object.defineProperty(t,"SocketPendingSubscriber",{enumerable:!0,get:function(){return l.SocketPendingSubscriber}}),Object.defineProperty(t,"SocketSubscriber",{enumerable:!0,get:function(){return l.SocketSubscriber}}),Object.defineProperty(t,"UnmanagedSubscriber",{enumerable:!0,get:function(){return l.UnmanagedSubscriber}}),Object.defineProperty(t,"copyRequest",{enumerable:!0,get:function(){return l.copyRequest}}),Object.defineProperty(t,"showThrottleMessage",{enumerable:!0,get:function(){return l.showThrottleMessage}});var d=r(7778);Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return d.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return d.computeAddress}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return d.recoverAddress}}),Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return d.Transaction}});var h=r(5347);Object.defineProperty(t,"decodeBase58",{enumerable:!0,get:function(){return h.decodeBase58}}),Object.defineProperty(t,"encodeBase58",{enumerable:!0,get:function(){return h.encodeBase58}}),Object.defineProperty(t,"decodeBase64",{enumerable:!0,get:function(){return h.decodeBase64}}),Object.defineProperty(t,"encodeBase64",{enumerable:!0,get:function(){return h.encodeBase64}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return h.concat}}),Object.defineProperty(t,"dataLength",{enumerable:!0,get:function(){return h.dataLength}}),Object.defineProperty(t,"dataSlice",{enumerable:!0,get:function(){return h.dataSlice}}),Object.defineProperty(t,"getBytes",{enumerable:!0,get:function(){return h.getBytes}}),Object.defineProperty(t,"getBytesCopy",{enumerable:!0,get:function(){return h.getBytesCopy}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return h.hexlify}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return h.isHexString}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return h.isBytesLike}}),Object.defineProperty(t,"stripZerosLeft",{enumerable:!0,get:function(){return h.stripZerosLeft}}),Object.defineProperty(t,"zeroPadBytes",{enumerable:!0,get:function(){return h.zeroPadBytes}}),Object.defineProperty(t,"zeroPadValue",{enumerable:!0,get:function(){return h.zeroPadValue}}),Object.defineProperty(t,"defineProperties",{enumerable:!0,get:function(){return h.defineProperties}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return h.resolveProperties}}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return h.assert}}),Object.defineProperty(t,"assertArgument",{enumerable:!0,get:function(){return h.assertArgument}}),Object.defineProperty(t,"assertArgumentCount",{enumerable:!0,get:function(){return h.assertArgumentCount}}),Object.defineProperty(t,"assertNormalize",{enumerable:!0,get:function(){return h.assertNormalize}}),Object.defineProperty(t,"assertPrivate",{enumerable:!0,get:function(){return h.assertPrivate}}),Object.defineProperty(t,"makeError",{enumerable:!0,get:function(){return h.makeError}}),Object.defineProperty(t,"isCallException",{enumerable:!0,get:function(){return h.isCallException}}),Object.defineProperty(t,"isError",{enumerable:!0,get:function(){return h.isError}}),Object.defineProperty(t,"EventPayload",{enumerable:!0,get:function(){return h.EventPayload}}),Object.defineProperty(t,"FetchRequest",{enumerable:!0,get:function(){return h.FetchRequest}}),Object.defineProperty(t,"FetchResponse",{enumerable:!0,get:function(){return h.FetchResponse}}),Object.defineProperty(t,"FetchCancelSignal",{enumerable:!0,get:function(){return h.FetchCancelSignal}}),Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return h.FixedNumber}}),Object.defineProperty(t,"getBigInt",{enumerable:!0,get:function(){return h.getBigInt}}),Object.defineProperty(t,"getNumber",{enumerable:!0,get:function(){return h.getNumber}}),Object.defineProperty(t,"getUint",{enumerable:!0,get:function(){return h.getUint}}),Object.defineProperty(t,"toBeArray",{enumerable:!0,get:function(){return h.toBeArray}}),Object.defineProperty(t,"toBigInt",{enumerable:!0,get:function(){return h.toBigInt}}),Object.defineProperty(t,"toBeHex",{enumerable:!0,get:function(){return h.toBeHex}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return h.toNumber}}),Object.defineProperty(t,"toQuantity",{enumerable:!0,get:function(){return h.toQuantity}}),Object.defineProperty(t,"fromTwos",{enumerable:!0,get:function(){return h.fromTwos}}),Object.defineProperty(t,"toTwos",{enumerable:!0,get:function(){return h.toTwos}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return h.mask}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return h.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return h.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return h.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return h.parseUnits}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return h.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return h.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return h.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return h.Utf8ErrorFuncs}}),Object.defineProperty(t,"decodeRlp",{enumerable:!0,get:function(){return h.decodeRlp}}),Object.defineProperty(t,"encodeRlp",{enumerable:!0,get:function(){return h.encodeRlp}}),Object.defineProperty(t,"uuidV4",{enumerable:!0,get:function(){return h.uuidV4}});var f=r(3279);Object.defineProperty(t,"Mnemonic",{enumerable:!0,get:function(){return f.Mnemonic}}),Object.defineProperty(t,"BaseWallet",{enumerable:!0,get:function(){return f.BaseWallet}}),Object.defineProperty(t,"HDNodeWallet",{enumerable:!0,get:function(){return f.HDNodeWallet}}),Object.defineProperty(t,"HDNodeVoidWallet",{enumerable:!0,get:function(){return f.HDNodeVoidWallet}}),Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return f.Wallet}}),Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return f.defaultPath}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return f.getAccountPath}}),Object.defineProperty(t,"getIndexedAccountPath",{enumerable:!0,get:function(){return f.getIndexedAccountPath}}),Object.defineProperty(t,"isCrowdsaleJson",{enumerable:!0,get:function(){return f.isCrowdsaleJson}}),Object.defineProperty(t,"isKeystoreJson",{enumerable:!0,get:function(){return f.isKeystoreJson}}),Object.defineProperty(t,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return f.decryptCrowdsaleJson}}),Object.defineProperty(t,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return f.decryptKeystoreJsonSync}}),Object.defineProperty(t,"decryptKeystoreJson",{enumerable:!0,get:function(){return f.decryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJson",{enumerable:!0,get:function(){return f.encryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return f.encryptKeystoreJsonSync}});var p=r(6591);Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return p.Wordlist}}),Object.defineProperty(t,"LangEn",{enumerable:!0,get:function(){return p.LangEn}}),Object.defineProperty(t,"WordlistOwl",{enumerable:!0,get:function(){return p.WordlistOwl}}),Object.defineProperty(t,"WordlistOwlA",{enumerable:!0,get:function(){return p.WordlistOwlA}}),Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return p.wordlists}})},1993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;const n=r(2291),i=r(5347);t.id=function(e){return(0,n.keccak256)((0,i.toUtf8Bytes)(e))}},1181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyTypedData=t.TypedDataEncoder=t.solidityPackedSha256=t.solidityPackedKeccak256=t.solidityPacked=t.verifyMessage=t.hashMessage=t.dnsEncode=t.namehash=t.isValidName=t.ensNormalize=t.id=void 0;var n=r(1993);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return n.id}});var i=r(3239);Object.defineProperty(t,"ensNormalize",{enumerable:!0,get:function(){return i.ensNormalize}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return i.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return i.namehash}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return i.dnsEncode}});var s=r(8717);Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return s.hashMessage}}),Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return s.verifyMessage}});var a=r(6065);Object.defineProperty(t,"solidityPacked",{enumerable:!0,get:function(){return a.solidityPacked}}),Object.defineProperty(t,"solidityPackedKeccak256",{enumerable:!0,get:function(){return a.solidityPackedKeccak256}}),Object.defineProperty(t,"solidityPackedSha256",{enumerable:!0,get:function(){return a.solidityPackedSha256}});var o=r(7215);Object.defineProperty(t,"TypedDataEncoder",{enumerable:!0,get:function(){return o.TypedDataEncoder}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return o.verifyTypedData}})},8717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyMessage=t.hashMessage=void 0;const n=r(2291),i=r(1295),s=r(7778),a=r(5347);function o(e){return"string"==typeof e&&(e=(0,a.toUtf8Bytes)(e)),(0,n.keccak256)((0,a.concat)([(0,a.toUtf8Bytes)(i.MessagePrefix),(0,a.toUtf8Bytes)(String(e.length)),e]))}t.hashMessage=o,t.verifyMessage=function(e,t){const r=o(e);return(0,s.recoverAddress)(r,t)}},3239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dnsEncode=t.namehash=t.isValidName=t.ensNormalize=void 0;const n=r(2291),i=r(5347),s=r(3514),a=new Uint8Array(32);function o(e){return(0,i.assertArgument)(0!==e.length,"invalid ENS name; empty component","comp",e),e}function c(e){const t=(0,i.toUtf8Bytes)(u(e)),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(o(t.slice(n,e))),n=e+1);return(0,i.assertArgument)(n<t.length,"invalid ENS name; empty component","name",e),r.push(o(t.slice(n))),r}function u(e){try{if(0===e.length)throw new Error("empty label");return(0,s.ens_normalize)(e)}catch(t){(0,i.assertArgument)(!1,`invalid ENS name (${t.message})`,"name",e)}}a.fill(0),t.ensNormalize=u,t.isValidName=function(e){try{return 0!==c(e).length}catch(e){}return!1},t.namehash=function(e){(0,i.assertArgument)("string"==typeof e,"invalid ENS name; not a string","name",e),(0,i.assertArgument)(e.length,"invalid ENS name (empty label)","name",e);let t=a;const r=c(e);for(;r.length;)t=(0,n.keccak256)((0,i.concat)([t,(0,n.keccak256)(r.pop())]));return(0,i.hexlify)(t)},t.dnsEncode=function(e,t){const r=null!=t?t:63;return(0,i.assertArgument)(r<=255,"DNS encoded label cannot exceed 255","length",r),(0,i.hexlify)((0,i.concat)(c(e).map((t=>{(0,i.assertArgument)(t.length<=r,`label ${JSON.stringify(e)} exceeds ${r} bytes`,"name",e);const n=new Uint8Array(t.length+1);return n.set(t,1),n[0]=n.length-1,n}))))+"00"}},6065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.solidityPackedSha256=t.solidityPackedKeccak256=t.solidityPacked=void 0;const n=r(646),i=r(2291),s=r(5347),a=new RegExp("^bytes([0-9]+)$"),o=new RegExp("^(u?int)([0-9]*)$"),c=new RegExp("^(.*)\\[([0-9]*)\\]$");function u(e,t,r){switch(e){case"address":return r?(0,s.getBytes)((0,s.zeroPadValue)(t,32)):(0,s.getBytes)((0,n.getAddress)(t));case"string":return(0,s.toUtf8Bytes)(t);case"bytes":return(0,s.getBytes)(t);case"bool":return t=t?"0x01":"0x00",r?(0,s.getBytes)((0,s.zeroPadValue)(t,32)):(0,s.getBytes)(t)}let i=e.match(o);if(i){let n="int"===i[1],a=parseInt(i[2]||"256");return(0,s.assertArgument)((!i[2]||i[2]===String(a))&&a%8==0&&0!==a&&a<=256,"invalid number type","type",e),r&&(a=256),n&&(t=(0,s.toTwos)(t,a)),(0,s.getBytes)((0,s.zeroPadValue)((0,s.toBeArray)(t),a/8))}if(i=e.match(a),i){const n=parseInt(i[1]);return(0,s.assertArgument)(String(n)===i[1]&&0!==n&&n<=32,"invalid bytes type","type",e),(0,s.assertArgument)((0,s.dataLength)(t)===n,`invalid value for ${e}`,"value",t),r?(0,s.getBytes)((0,s.zeroPadBytes)(t,32)):t}if(i=e.match(c),i&&Array.isArray(t)){const r=i[1],n=parseInt(i[2]||String(t.length));(0,s.assertArgument)(n===t.length,`invalid array length for ${e}`,"value",t);const a=[];return t.forEach((function(e){a.push(u(r,e,!0))})),(0,s.getBytes)((0,s.concat)(a))}(0,s.assertArgument)(!1,"invalid type","type",e)}function l(e,t){(0,s.assertArgument)(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);const r=[];return e.forEach((function(e,n){r.push(u(e,t[n]))})),(0,s.hexlify)((0,s.concat)(r))}t.solidityPacked=l,t.solidityPackedKeccak256=function(e,t){return(0,i.keccak256)(l(e,t))},t.solidityPackedSha256=function(e,t){return(0,i.sha256)(l(e,t))}},7215:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyTypedData=t.TypedDataEncoder=void 0;const n=r(646),i=r(2291),s=r(7778),a=r(5347),o=r(1993),c=new Uint8Array(32);c.fill(0);const u=BigInt(-1),l=BigInt(0),d=BigInt(1),h=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),f=(0,a.toBeHex)(d,32),p=(0,a.toBeHex)(l,32),y={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},g=["name","version","chainId","verifyingContract","salt"];function m(e){return function(t){return(0,a.assertArgument)("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const b={name:m("name"),version:m("version"),chainId:function(e){const t=(0,a.getBigInt)(e,"domain.chainId");return(0,a.assertArgument)(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):(0,a.toQuantity)(t)},verifyingContract:function(e){try{return(0,n.getAddress)(e).toLowerCase()}catch(e){}(0,a.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=(0,a.getBytes)(e,"domain.salt");return(0,a.assertArgument)(32===t.length,'invalid domain value "salt"',"domain.salt",e),(0,a.hexlify)(t)}};function w(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const r=""===t[1],n=parseInt(t[2]);(0,a.assertArgument)(n%8==0&&0!==n&&n<=256&&t[2]===String(n),"invalid numeric width","type",e);const i=(0,a.mask)(h,r?n-1:n),s=r?(i+d)*u:l;return function(t){const n=(0,a.getBigInt)(t,"value");return(0,a.assertArgument)(n>=s&&n<=i,`value out-of-bounds for ${e}`,"value",n),(0,a.toBeHex)(r?(0,a.toTwos)(n,256):n,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0,a.assertArgument)(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){const n=(0,a.getBytes)(t);return(0,a.assertArgument)(n.length===r,`invalid length for ${e}`,"value",t),function(e){const t=(0,a.getBytes)(e),r=t.length%32;return r?(0,a.concat)([t,c.slice(r)]):(0,a.hexlify)(t)}(t)}}}switch(e){case"address":return function(e){return(0,a.zeroPadValue)((0,n.getAddress)(e),32)};case"bool":return function(e){return e?f:p};case"bytes":return function(e){return(0,i.keccak256)(e)};case"string":return function(e){return(0,o.id)(e)}}return null}function v(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}function A(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class k{primaryType;#C;get types(){return JSON.parse(this.#C)}#B;#O;constructor(e){this.#B=new Map,this.#O=new Map;const t=new Map,r=new Map,n=new Map,i={};Object.keys(e).forEach((s=>{i[s]=e[s].map((({name:t,type:r})=>{let{base:n,index:i}=A(r);return"int"!==n||e.int||(n="int256"),"uint"!==n||e.uint||(n="uint256"),{name:t,type:n+(i||"")}})),t.set(s,new Set),r.set(s,[]),n.set(s,new Set)})),this.#C=JSON.stringify(i);for(const n in i){const s=new Set;for(const o of i[n]){(0,a.assertArgument)(!s.has(o.name),`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,"types",e),s.add(o.name);const i=A(o.type).base;(0,a.assertArgument)(i!==n,`circular type reference to ${JSON.stringify(i)}`,"types",e),w(i)||((0,a.assertArgument)(r.has(i),`unknown type ${JSON.stringify(i)}`,"types",e),r.get(i).push(n),t.get(n).add(i))}}const s=Array.from(r.keys()).filter((e=>0===r.get(e).length));(0,a.assertArgument)(0!==s.length,"missing primary type","types",e),(0,a.assertArgument)(1===s.length,`ambiguous primary types or unused types: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),(0,a.defineProperties)(this,{primaryType:s[0]}),function i(s,o){(0,a.assertArgument)(!o.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),o.add(s);for(const e of t.get(s))if(r.has(e)){i(e,o);for(const t of o)n.get(t).add(e)}o.delete(s)}(this.primaryType,new Set);for(const[e,t]of n){const r=Array.from(t);r.sort(),this.#B.set(e,v(e,i[e])+r.map((e=>v(e,i[e]))).join(""))}}getEncoder(e){let t=this.#O.get(e);return t||(t=this.#R(e),this.#O.set(e,t)),t}#R(e){{const t=w(e);if(t)return t}const t=A(e).array;if(t){const e=t.prefix,r=this.getEncoder(e);return n=>{(0,a.assertArgument)(-1===t.count||t.count===n.length,`array length mismatch; expected length ${t.count}`,"value",n);let s=n.map(r);return this.#B.has(e)&&(s=s.map(i.keccak256)),(0,i.keccak256)((0,a.concat)(s))}}const r=this.types[e];if(r){const t=(0,o.id)(this.#B.get(e));return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this.#B.has(r)?(0,i.keccak256)(n):n}));return n.unshift(t),(0,a.concat)(n)}}(0,a.assertArgument)(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#B.get(e);return(0,a.assertArgument)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,i.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(w(e))return r(e,t);const n=A(e).array;if(n)return(0,a.assertArgument)(-1===n.count||n.count===t.length,`array length mismatch; expected length ${n.count}`,"value",t),t.map((e=>this._visit(n.prefix,e,r)));const i=this.types[e];if(i)return i.reduce(((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e)),{});(0,a.assertArgument)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new k(e)}static getPrimaryType(e){return k.from(e).primaryType}static hashStruct(e,t,r){return k.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(null==e[r])continue;const n=y[r];(0,a.assertArgument)(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>g.indexOf(e.name)-g.indexOf(t.name))),k.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,a.concat)(["0x1901",k.hashDomain(e),k.from(t).hash(r)])}static hash(e,t,r){return(0,i.keccak256)(k.encode(e,t,r))}static async resolveNames(e,t,r,n){e=Object.assign({},e);for(const t in e)null==e[t]&&delete e[t];const i={};e.verifyingContract&&!(0,a.isHexString)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=k.from(t);s.visit(r,((e,t)=>("address"!==e||(0,a.isHexString)(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=await n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:r=s.visit(r,((e,t)=>"address"===e&&i[t]?i[t]:t))}}static getPayload(e,t,r){k.hashDomain(e);const n={},i=[];g.forEach((t=>{const r=e[t];null!=r&&(n[t]=b[t](r),i.push({name:t,type:y[t]}))}));const s=k.from(t);t=s.types;const o=Object.assign({},t);return(0,a.assertArgument)(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return(0,a.hexlify)((0,a.getBytes)(t));if(e.match(/^u?int/))return(0,a.getBigInt)(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return(0,a.assertArgument)("string"==typeof t,"invalid string","value",t),t}(0,a.assertArgument)(!1,"unsupported type","type",e)}))}}}t.TypedDataEncoder=k,t.verifyTypedData=function(e,t,r,n){return(0,s.recoverAddress)(k.hash(e,t,r),n)}},4193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethers=void 0;const n=r(5215),i=n.__importStar(r(1752));t.ethers=i,n.__exportStar(r(1752),t)},8672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractProvider=t.UnmanagedSubscriber=void 0;const n=r(646),i=r(1295),s=r(9288),a=r(1181),o=r(7778),c=r(5347),u=r(1691),l=r(5601),d=r(5317),h=r(3807),f=r(4338),p=BigInt(2);function y(e){return e&&"function"==typeof e.then}function g(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,r)=>(e[r]=t[r],e)),{})}return t}))}class m{name;constructor(e){(0,c.defineProperties)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function b(e){return(e=Array.from(new Set(e).values())).sort(),e}async function w(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if((0,c.isHexString)(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:g("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:g("orphan",t),filter:(r=t,JSON.parse(JSON.stringify(r)))}}var r;if(e.address||e.topics){const r=e,i={topics:(r.topics||[]).map((e=>null==e?null:Array.isArray(e)?b(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(r.address){const e=[],s=[],a=r=>{(0,c.isHexString)(r)?e.push(r):s.push((async()=>{e.push(await(0,n.resolveAddress)(r,t))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),s.length&&await Promise.all(s),i.address=b(e.map((e=>e.toLowerCase())))}return{filter:i,tag:g("event",i),type:"event"}}(0,c.assertArgument)(!1,"unknown ProviderEvent","event",e)}function v(){return(new Date).getTime()}t.UnmanagedSubscriber=m;const A={cacheTimeout:250,pollingInterval:4e3};function k(e,t){try{const r=_(e,t);if(r)return(0,c.toUtf8String)(r)}catch(e){}return null}function _(e,t){if("0x"===e)return null;try{const r=(0,c.getNumber)((0,c.dataSlice)(e,t,t+32)),n=(0,c.getNumber)((0,c.dataSlice)(e,r,r+32));return(0,c.dataSlice)(e,r+32,r+32+n)}catch(e){}return null}function P(e){const t=(0,c.toBeArray)(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function E(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}t.AbstractProvider=class{#I;#T;#M;#N;#D;#U;#j;#F;#K;#L;#z;#v;constructor(e,t){if(this.#v=Object.assign({},A,t||{}),"any"===e)this.#U=!0,this.#D=null;else if(e){const t=d.Network.from(e);this.#U=!1,this.#D=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#U=!1,this.#D=null;this.#F=-1,this.#j=new Map,this.#I=new Map,this.#T=new Map,this.#M=null,this.#N=!1,this.#K=1,this.#L=new Map,this.#z=!1}get pollingInterval(){return this.#v.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#T.values())}attachPlugin(e){if(this.#T.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#T.set(e.name,e.connect(this)),this}getPlugin(e){return this.#T.get(e)||null}get disableCcipRead(){return this.#z}set disableCcipRead(e){this.#z=!!e}async#q(e){const t=this.#v.cacheTimeout;if(t<0)return await this._perform(e);const r=g(e.method,e);let n=this.#j.get(r);return n||(n=this._perform(e),this.#j.set(r,n),setTimeout((()=>{this.#j.get(r)===n&&this.#j.delete(r)}),t)),await n}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;const n=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let t=0;t<r.length;t++){const a=r[t],o=a.replace("{sender}",n).replace("{data}",i),u=new c.FetchRequest(o);-1===a.indexOf("{data}")&&(u.body={data:i,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:t,urls:r});let l,d="unknown error";try{l=await u.send()}catch(e){s.push(e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:e}});continue}try{const e=l.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:e}),e.data;e.message&&(d=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:e})}catch(e){}(0,c.assert)(l.statusCode<400||l.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:a,errorMessage:d}}),s.push(d)}(0,c.assert)(!1,`error encountered during CCIP fetch: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,t){return new h.Block((0,l.formatBlock)(e),this)}_wrapLog(e,t){return new h.Log((0,l.formatLog)(e),this)}_wrapTransactionReceipt(e,t){return new h.TransactionReceipt((0,l.formatTransactionReceipt)(e),this)}_wrapTransactionResponse(e,t){return new h.TransactionResponse((0,l.formatTransactionResponse)(e),this)}_detectNetwork(){(0,c.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,c.assert)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=(0,c.getNumber)(await this.#q({method:"getBlockNumber"}),"%response");return this.#F>=0&&(this.#F=e),e}_getAddress(e){return(0,n.resolveAddress)(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return(0,c.isHexString)(e)?(0,c.isHexString)(e,32)?e:(0,c.toQuantity)(e):("bigint"==typeof e&&(e=(0,c.getNumber)(e,"blockTag")),"number"==typeof e?e>=0?(0,c.toQuantity)(e):this.#F>=0?(0,c.toQuantity)(this.#F+e):this.getBlockNumber().then((t=>(0,c.toQuantity)(t+e))):void(0,c.assertArgument)(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?b(e.map((e=>e.toLowerCase()))):e.toLowerCase())),r="blockHash"in e?e.blockHash:void 0,n=(e,n,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(r&&(null!=n||null!=i))throw new Error("invalid filter");const a={};return s&&(a.address=s),t.length&&(a.topics=t),n&&(a.fromBlock=n),i&&(a.toBlock=i),r&&(a.blockHash=r),a};let i,s,a=[];if(e.address)if(Array.isArray(e.address))for(const t of e.address)a.push(this._getAddress(t));else a.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),a.filter((e=>"string"!=typeof e)).length||null!=i&&"string"!=typeof i||null!=s&&"string"!=typeof s?Promise.all([Promise.all(a),i,s]).then((e=>n(e[0],e[1],e[2]))):n(a,i,s)}_getTransactionRequest(e){const t=(0,h.copyRequest)(e),r=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const i=(0,n.resolveAddress)(t[e],this);y(i)?r.push(async function(){t[e]=await i}()):t[e]=i})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);y(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#D){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#D===e&&(this.#D=null),t}})();return this.#D=e,(await e).clone()}const e=this.#D,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#U?(this.emit("network",r,t),this.#D===e&&(this.#D=Promise.resolve(r))):(0,c.assert)(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:r,priorityFee:n}=await(0,c.resolveProperties)({_block:this.#H("latest",!1),gasPrice:(async()=>{try{const e=await this.#q({method:"getGasPrice"});return(0,c.getBigInt)(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{const e=await this.#q({method:"getPriorityFee"});return(0,c.getBigInt)(e,"%response")}catch(e){}return null})()});let i=null,s=null;const a=this._wrapBlock(t,e);return a&&a.baseFeePerGas&&(s=null!=n?n:BigInt("1000000000"),i=a.baseFeePerGas*p+s),new h.FeeData(r,i,s)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const e=new c.FetchRequest(r.url),n=await r.processFunc(t,this,e);return new h.FeeData(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return y(t)&&(t=await t),(0,c.getBigInt)(await this.#q({method:"estimateGas",transaction:t}),"%response")}async#G(e,t,r){(0,c.assert)(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const i=(0,h.copyRequest)(e);try{return(0,c.hexlify)(await this._perform({method:"call",transaction:i,blockTag:t}))}catch(e){if(!this.disableCcipRead&&(0,c.isCallException)(e)&&e.data&&r>=0&&"latest"===t&&null!=i.to&&"0x556f1830"===(0,c.dataSlice)(e.data,0,4)){const s=e.data,a=await(0,n.resolveAddress)(i.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,c.assert)((0,c.dataLength)(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=(0,c.dataSlice)(e,0,32);(0,c.assert)((0,c.dataSlice)(r,0,12)===(0,c.dataSlice)(C,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=(0,c.dataSlice)(r,12);try{const r=[],n=(0,c.getNumber)((0,c.dataSlice)(e,32,64)),i=(0,c.getNumber)((0,c.dataSlice)(e,n,n+32)),s=(0,c.dataSlice)(e,n+32);for(let e=0;e<i;e++){const t=k(s,32*e);if(null==t)throw new Error("abort");r.push(t)}t.urls=r}catch(e){(0,c.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=_(e,64);if(null==r)throw new Error("abort");t.calldata=r}catch(e){(0,c.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,c.assert)((0,c.dataSlice)(e,100,128)===(0,c.dataSlice)(C,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=(0,c.dataSlice)(e,96,100);try{const r=_(e,128);if(null==r)throw new Error("abort");t.extraData=r}catch(e){(0,c.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}((0,c.dataSlice)(e.data,4))}catch(e){(0,c.assert)(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}(0,c.assert)(o.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const u=await this.ccipReadFetch(i,o.calldata,o.urls);(0,c.assert)(null!=u,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:e.data,errorArgs:o.errorArgs}});const l={to:a,data:(0,c.concat)([o.selector,x([u,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const e=await this.#G(l,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:e}),e}}throw e}}async#W(e){const{value:t}=await(0,c.resolveProperties)({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:r}=await(0,c.resolveProperties)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#W(this.#G(t,r,e.enableCcipRead?0:-1))}async#V(e,t,r){let n=this._getAddress(t),i=this._getBlockTag(r);return"string"==typeof n&&"string"==typeof i||([n,i]=await Promise.all([n,i])),await this.#W(this.#q(Object.assign(e,{address:n,blockTag:i})))}async getBalance(e,t){return(0,c.getBigInt)(await this.#V({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,c.getNumber)(await this.#V({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,c.hexlify)(await this.#V({method:"getCode"},e,t))}async getStorage(e,t,r){const n=(0,c.getBigInt)(t,"position");return(0,c.hexlify)(await this.#V({method:"getStorage",position:n},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:n}=await(0,c.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=o.Transaction.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,n).replaceableTransaction(t)}async#H(e,t){if((0,c.isHexString)(e,32))return await this.#q({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#q({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){const{network:r,params:n}=await(0,c.resolveProperties)({network:this.getNetwork(),params:this.#H(e,!!t)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(e){const{network:t,params:r}=await(0,c.resolveProperties)({network:this.getNetwork(),params:this.#q({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await(0,c.resolveProperties)({network:this.getNetwork(),params:this.#q({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const t=await this.#q({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await(0,c.resolveProperties)({network:this.getNetwork(),result:this.#q({method:"getTransactionResult",hash:e})});return null==t?null:(0,c.hexlify)(t)}async getLogs(e){let t=this._getFilter(e);y(t)&&(t=await t);const{network:r,params:n}=await(0,c.resolveProperties)({network:this.getNetwork(),params:this.#q({method:"getLogs",filter:t})});return n.map((e=>this._wrapLog(e,r)))}_getProvider(e){(0,c.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await u.EnsResolver.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=(0,n.getAddress)(e);const t=(0,a.namehash)(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await u.EnsResolver.getEnsAddress(this),n=new s.Contract(r,["function resolver(bytes32) view returns (address)"],this),a=await n.resolver(t);if(null==a||a===i.ZeroAddress)return null;const o=new s.Contract(a,["function name(bytes32) view returns (string)"],this),c=await o.name(t);return await this.resolveName(c)!==e?null:c}catch(e){if((0,c.isError)(e,"BAD_DATA")&&"0x"===e.value)return null;if((0,c.isError)(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,r){const n=null!=t?t:1;return 0===n?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let s=null;const a=async r=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&r-i.blockNumber+1>=n)return t(i),void(s&&(clearTimeout(s),s=null))}catch(e){console.log("EEE",e)}this.once("block",a)};null!=r&&(s=setTimeout((()=>{null!=s&&(s=null,this.off("block",a),i((0,c.makeError)("timeout","TIMEOUT",{reason:"timeout"})))}),r)),a(await this.getBlockNumber())}))}async waitForBlock(e){(0,c.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#L.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#L.delete(e))}_setTimeout(e,t){null==t&&(t=0);const r=this.#K++,n=()=>{this.#L.delete(r),e()};if(this.paused)this.#L.set(r,{timer:null,func:n,time:t});else{const e=setTimeout(n,t);this.#L.set(r,{timer:e,func:n,time:v()})}return r}_forEachSubscriber(e){for(const t of this.#I.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new m(e.type);case"block":{const e=new f.PollingBlockSubscriber(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new f.PollingBlockTagSubscriber(this,e.type);case"event":return new f.PollingEventSubscriber(this,e.filter);case"transaction":return new f.PollingTransactionSubscriber(this,e.hash);case"orphan":return new f.PollingOrphanSubscriber(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of this.#I.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#M&&t.pause(this.#M);break}}async#J(e,t){let r=await w(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await w({orphan:"drop-log",log:t[0]},this)),this.#I.get(r.tag)||null}async#Q(e){const t=await w(e,this),r=t.tag;let n=this.#I.get(r);return n||(n={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#I.set(r,n)),n}async on(e,t){const r=await this.#Q(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#M&&r.subscriber.pause(this.#M)),this}async once(e,t){const r=await this.#Q(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#M&&r.subscriber.pause(this.#M)),this}async emit(e,...t){const r=await this.#J(e,t);if(!r||0===r.listeners.length)return!1;const n=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:n})=>{const i=new c.EventPayload(this,n?null:r,e);try{r.call(this,...t,i)}catch(e){}return!n})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#I.delete(r.tag)),n>0}async listenerCount(e){if(e){const t=await this.#J(e);return t?t.listeners.length:0}let t=0;for(const{listeners:e}of this.#I.values())t+=e.length;return t}async listeners(e){if(e){const t=await this.#J(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:e}of this.#I.values())t=t.concat(e.map((({listener:e})=>e)));return t}async off(e,t){const r=await this.#J(e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#I.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:n}=await this.#Q(e);r&&n.stop(),this.#I.delete(t)}else for(const[e,{started:t,subscriber:r}]of this.#I)t&&r.stop(),this.#I.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#N}destroy(){this.removeAllListeners();for(const e of this.#L.keys())this._clearTimeout(e);this.#N=!0}get paused(){return null!=this.#M}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#F=-1,null!=this.#M){if(this.#M==!!e)return;(0,c.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#M=!!e;for(const e of this.#L.values())e.timer&&clearTimeout(e.timer),e.time=v()-e.time}resume(){if(null!=this.#M){this._forEachSubscriber((e=>e.resume())),this.#M=null;for(const e of this.#L.values()){let t=e.time;t<0&&(t=0),e.time=v(),setTimeout(e.func,t)}}}};const S=new Uint8Array([]);function x(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(S),r+=32;for(let n=0;n<e.length;n++){const i=(0,c.getBytes)(e[n]);t[n]=P(r),t.push(P(i.length)),t.push(E(i)),r+=32+32*Math.ceil(i.length/32)}return(0,c.concat)(t)}const C="0x0000000000000000000000000000000000000000000000000000000000000000"},3071:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoidSigner=t.AbstractSigner=void 0;const n=r(646),i=r(7778),s=r(5347),a=r(3807);function o(e,t){if(e.provider)return e.provider;(0,s.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function c(e,t){let r=(0,a.copyRequest)(t);if(null!=r.to&&(r.to=(0,n.resolveAddress)(r.to,e)),null!=r.from){const t=r.from;r.from=Promise.all([e.getAddress(),(0,n.resolveAddress)(t,e)]).then((([e,t])=>((0,s.assertArgument)(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else r.from=e.getAddress();return await(0,s.resolveProperties)(r)}class u{provider;constructor(e){(0,s.defineProperties)(this,{provider:e||null})}async getNonce(e){return o(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await c(this,e)}async populateTransaction(e){const t=o(this,"populateTransaction"),r=await c(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const n=await this.provider.getNetwork();if(null!=r.chainId){const t=(0,s.getBigInt)(r.chainId);(0,s.assertArgument)(t===n.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=n.chainId;const i=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!i?0!==r.type&&1!==r.type||!i||(0,s.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):(0,s.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const e=await t.getFeeData();(0,s.assert)(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?((0,s.assert)(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):(0,s.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==r.type&&3!==r.type||(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else r.type=2;return await(0,s.resolveProperties)(r)}async estimateGas(e){return o(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return o(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=o(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=o(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const n=i.Transaction.from(r);return await t.broadcastTransaction(await this.signTransaction(n))}}t.AbstractSigner=u;class l extends u{address;constructor(e,t){super(t),(0,s.defineProperties)(this,{address:e})}async getAddress(){return this.address}connect(e){return new l(this.address,e)}#$(e,t){(0,s.assert)(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#$("transactions","signTransaction")}async signMessage(e){this.#$("messages","signMessage")}async signTypedData(e,t,r){this.#$("typed-data","signTypedData")}}t.VoidSigner=l},9973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showThrottleMessage=void 0;const r=new Set;t.showThrottleMessage=function(e){r.has(e)||(r.add(e),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${e} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}},2347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultProvider=void 0;const n=r(5347),i=r(6806),s=r(7841),a=r(8907),o=r(2271),c=r(5047),u=r(5855),l=r(8817),d=r(9902),h=r(2371),f=r(5317),p=r(873),y="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");t.getDefaultProvider=function(e,t){null==t&&(t={});const r=e=>"-"!==t[e]&&("string"==typeof t.exclusive?e===t.exclusive:!Array.isArray(t.exclusive)||-1!==t.exclusive.indexOf(e));if("string"==typeof e&&e.match(/^https?:/))return new h.JsonRpcProvider(e);if("string"==typeof e&&e.match(/^wss?:/)||(g=e)&&"function"==typeof g.send&&"function"==typeof g.close)return new p.WebSocketProvider(e);var g;let m=null;try{m=f.Network.from(e)}catch(e){}const b=[];if(r("publicPolygon")&&m&&("matic"===m.name?b.push(new h.JsonRpcProvider("https://polygon-rpc.com/",m,{staticNetwork:m})):"matic-amoy"===m.name&&b.push(new h.JsonRpcProvider("https://rpc-amoy.polygon.technology/",m,{staticNetwork:m}))),r("alchemy"))try{b.push(new s.AlchemyProvider(e,t.alchemy))}catch(e){}if(r("ankr")&&null!=t.ankr)try{b.push(new i.AnkrProvider(e,t.ankr))}catch(e){}if(r("chainstack"))try{b.push(new a.ChainstackProvider(e,t.chainstack))}catch(e){}if(r("cloudflare"))try{b.push(new o.CloudflareProvider(e))}catch(e){}if(r("etherscan"))try{b.push(new c.EtherscanProvider(e,t.etherscan))}catch(e){}if(r("infura"))try{let r,n=t.infura;"object"==typeof n&&(r=n.projectSecret,n=n.projectId),b.push(new u.InfuraProvider(e,n,r))}catch(e){}if(r("quicknode"))try{let r=t.quicknode;b.push(new l.QuickNodeProvider(e,r))}catch(e){}if((0,n.assert)(b.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),1===b.length)return b[0];let w=Math.floor(b.length/2);return w>2&&(w=2),m&&-1!==y.indexOf(m.name)&&(w=1),t&&t.quorum&&(w=t.quorum),new d.FallbackProvider(b,void 0,{quorum:w})}},1691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnsResolver=t.BasicMulticoinProviderPlugin=t.MulticoinProviderPlugin=void 0;const n=r(646),i=r(1295),s=r(9288),a=r(1181),o=r(5347);function c(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):(0,o.assertArgument)(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class u{name;constructor(e){(0,o.defineProperties)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}t.MulticoinProviderPlugin=u,t.BasicMulticoinProviderPlugin=class extends u{constructor(){super("org.ethers.plugins.provider.BasicMulticoin")}};const l=new RegExp("^(ipfs)://(.*)$","i"),d=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),l,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class h{provider;address;name;#Z;#Y;constructor(e,t,r){(0,o.defineProperties)(this,{provider:e,address:t,name:r}),this.#Z=null,this.#Y=new s.Contract(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#Z&&(this.#Z=(async()=>{try{return await this.#Y.supportsInterface("0x9061b923")}catch(e){if((0,o.isError)(e,"CALL_EXCEPTION"))return!1;throw this.#Z=null,e}})()),await this.#Z}async#X(e,t){t=(t||[]).slice();const r=this.#Y.interface;t.unshift((0,a.namehash)(this.name));let n=null;await this.supportsWildcard()&&(n=r.getFunction(e),(0,o.assert)(n,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[(0,a.dnsEncode)(this.name,255),r.encodeFunctionData(n,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await this.#Y[e](...t);return n?r.decodeFunctionResult(n,i)[0]:i}catch(e){if(!(0,o.isError)(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#X("addr(bytes32)");return null==e||e===i.ZeroAddress?null:e}catch(e){if((0,o.isError)(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648;const r=await this.#X("addr(bytes32,uint)",[t]);if((0,o.isHexString)(r,20))return(0,n.getAddress)(r)}let t=null;for(const r of this.provider.plugins)if(r instanceof u&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;const r=await this.#X("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;const s=await t.decodeAddress(e,r);if(null!=s)return s;(0,o.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await this.#X("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#X("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${(0,o.encodeBase58)("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;(0,o.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<d.length;r++){const n=t.match(d[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const r=c(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{const r="erc721"===i?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});const a=await this.getAddress();if(null==a)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const u=(n[2]||"").split("/");if(2!==u.length)return e.push({type:`!${i}caip`,value:n[2]||""}),{url:null,linkage:e};const d=u[1],h=new s.Contract(u[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===i){const t=await h.ownerOf(d);if(a!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===i){const t=await h.balanceOf(a,d);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let f=await h[r](d);if(null==f||"0x"===f)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),"erc1155"===i&&(f=f.replace("{id}",(0,o.toBeHex)(d,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=c(f)),e.push({type:"metadata-url",value:f});let p={};const y=await new o.FetchRequest(f).send();y.assertOk();try{p=y.bodyJson}catch(t){try{e.push({type:"!metadata",value:y.bodyText})}catch(t){const r=y.body;return r&&e.push({type:"!metadata",value:(0,o.hexlify)(r)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let g=p.image;if("string"!=typeof g)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(g.match(/^(https:\/\/|data:)/i));else{if(null==g.match(l))return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=c(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return(0,o.assert)(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async#ee(e,t){const r=await h.getEnsAddress(e);try{const n=new s.Contract(r,["function resolver(bytes32) view returns (address)"],e),o=await n.resolver((0,a.namehash)(t),{enableCcipRead:!0});return o===i.ZeroAddress?null:o}catch(e){throw e}return null}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r)return null;if("eth"!==t&&"eth"===r)return null;const n=await h.#ee(e,r);if(null!=n){const i=new h(e,n,t);return r===t||await i.supportsWildcard()?i:null}r=r.split(".").slice(1).join(".")}}}t.EnsResolver=h},5601:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatTransactionResponse=t.formatTransactionReceipt=t.formatReceiptLog=t.formatBlock=t.formatLog=t.formatUint256=t.formatHash=t.formatData=t.formatBoolean=t.object=t.arrayOf=t.allowNull=void 0;const n=r(646),i=r(2291),s=r(7778),a=r(5347),o=BigInt(0);function c(e,t){return function(r){return null==r?t:e(r)}}function u(e,t){return r=>{if(t&&null==r)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map((t=>e(t)))}}function l(e,t){return r=>{const n={};for(const i in e){let s=i;if(t&&i in t&&!(s in r))for(const e of t[i])if(e in r){s=e;break}try{const t=e[i](r[s]);void 0!==t&&(n[i]=t)}catch(e){const t=e instanceof Error?e.message:"not-an-error";(0,a.assert)(!1,`invalid value for value.${i} (${t})`,"BAD_DATA",{value:r})}}return n}}function d(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}(0,a.assertArgument)(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}function h(e){return(0,a.assertArgument)((0,a.isHexString)(e,!0),"invalid data","value",e),e}function f(e){return(0,a.assertArgument)((0,a.isHexString)(e,32),"invalid hash","value",e),e}t.allowNull=c,t.arrayOf=u,t.object=l,t.formatBoolean=d,t.formatData=h,t.formatHash=f,t.formatUint256=function(e){if(!(0,a.isHexString)(e))throw new Error("invalid uint256");return(0,a.zeroPadValue)(e,32)};const p=l({address:n.getAddress,blockHash:f,blockNumber:a.getNumber,data:h,index:a.getNumber,removed:c(d,!1),topics:u(f),transactionHash:f,transactionIndex:a.getNumber},{index:["logIndex"]});t.formatLog=function(e){return p(e)};const y=l({hash:c(f),parentHash:f,parentBeaconBlockRoot:c(f,null),number:a.getNumber,timestamp:a.getNumber,nonce:c(h),difficulty:a.getBigInt,gasLimit:a.getBigInt,gasUsed:a.getBigInt,stateRoot:c(f,null),receiptsRoot:c(f,null),blobGasUsed:c(a.getBigInt,null),excessBlobGas:c(a.getBigInt,null),miner:c(n.getAddress),prevRandao:c(f,null),extraData:h,baseFeePerGas:c(a.getBigInt)},{prevRandao:["mixHash"]});t.formatBlock=function(e){const t=y(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:w(e))),t};const g=l({transactionIndex:a.getNumber,blockNumber:a.getNumber,transactionHash:f,address:n.getAddress,topics:u(f),data:h,index:a.getNumber,blockHash:f},{index:["logIndex"]});function m(e){return g(e)}t.formatReceiptLog=m;const b=l({to:c(n.getAddress,null),from:c(n.getAddress,null),contractAddress:c(n.getAddress,null),index:a.getNumber,root:c(a.hexlify),gasUsed:a.getBigInt,blobGasUsed:c(a.getBigInt,null),logsBloom:c(h),blockHash:f,hash:f,logs:u(m),blockNumber:a.getNumber,cumulativeGasUsed:a.getBigInt,effectiveGasPrice:c(a.getBigInt),blobGasPrice:c(a.getBigInt,null),status:c(a.getNumber),type:c(a.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function w(e){e.to&&(0,a.getBigInt)(e.to)===o&&(e.to="0x0000000000000000000000000000000000000000");const t=l({hash:f,index:c(a.getNumber,void 0),type:e=>"0x"===e||null==e?0:(0,a.getNumber)(e),accessList:c(s.accessListify,null),blobVersionedHashes:c(u(f,!0),null),blockHash:c(f,null),blockNumber:c(a.getNumber,null),transactionIndex:c(a.getNumber,null),from:n.getAddress,gasPrice:c(a.getBigInt),maxPriorityFeePerGas:c(a.getBigInt),maxFeePerGas:c(a.getBigInt),maxFeePerBlobGas:c(a.getBigInt,null),gasLimit:a.getBigInt,to:c(n.getAddress,null),value:a.getBigInt,nonce:a.getNumber,data:h,creates:c(n.getAddress,null),chainId:c(a.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=(0,n.getCreateAddress)(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=i.Signature.from(e.signature):t.signature=i.Signature.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&(0,a.getBigInt)(t.blockHash)===o&&(t.blockHash=null),t}t.formatTransactionReceipt=function(e){return b(e)},t.formatTransactionResponse=w},3996:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocketEventSubscriber=t.SocketPendingSubscriber=t.SocketBlockSubscriber=t.SocketSubscriber=t.WebSocketProvider=t.SocketProvider=t.IpcSocketProvider=t.QuickNodeProvider=t.PocketProvider=t.InfuraWebSocketProvider=t.InfuraProvider=t.EtherscanPlugin=t.EtherscanProvider=t.ChainstackProvider=t.CloudflareProvider=t.AnkrProvider=t.AlchemyProvider=t.BrowserProvider=t.JsonRpcSigner=t.JsonRpcProvider=t.JsonRpcApiProvider=t.FallbackProvider=t.copyRequest=t.TransactionResponse=t.TransactionReceipt=t.Log=t.FeeData=t.Block=t.FetchUrlFeeDataNetworkPlugin=t.FeeDataNetworkPlugin=t.EnsPlugin=t.GasCostPlugin=t.NetworkPlugin=t.NonceManager=t.Network=t.MulticoinProviderPlugin=t.EnsResolver=t.getDefaultProvider=t.showThrottleMessage=t.VoidSigner=t.AbstractSigner=t.UnmanagedSubscriber=t.AbstractProvider=void 0;var n=r(8672);Object.defineProperty(t,"AbstractProvider",{enumerable:!0,get:function(){return n.AbstractProvider}}),Object.defineProperty(t,"UnmanagedSubscriber",{enumerable:!0,get:function(){return n.UnmanagedSubscriber}});var i=r(3071);Object.defineProperty(t,"AbstractSigner",{enumerable:!0,get:function(){return i.AbstractSigner}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return i.VoidSigner}});var s=r(9973);Object.defineProperty(t,"showThrottleMessage",{enumerable:!0,get:function(){return s.showThrottleMessage}});var a=r(2347);Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return a.getDefaultProvider}});var o=r(1691);Object.defineProperty(t,"EnsResolver",{enumerable:!0,get:function(){return o.EnsResolver}}),Object.defineProperty(t,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return o.MulticoinProviderPlugin}});var c=r(5317);Object.defineProperty(t,"Network",{enumerable:!0,get:function(){return c.Network}});var u=r(9596);Object.defineProperty(t,"NonceManager",{enumerable:!0,get:function(){return u.NonceManager}});var l=r(4491);Object.defineProperty(t,"NetworkPlugin",{enumerable:!0,get:function(){return l.NetworkPlugin}}),Object.defineProperty(t,"GasCostPlugin",{enumerable:!0,get:function(){return l.GasCostPlugin}}),Object.defineProperty(t,"EnsPlugin",{enumerable:!0,get:function(){return l.EnsPlugin}}),Object.defineProperty(t,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FeeDataNetworkPlugin}}),Object.defineProperty(t,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FetchUrlFeeDataNetworkPlugin}});var d=r(3807);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return d.Block}}),Object.defineProperty(t,"FeeData",{enumerable:!0,get:function(){return d.FeeData}}),Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return d.Log}}),Object.defineProperty(t,"TransactionReceipt",{enumerable:!0,get:function(){return d.TransactionReceipt}}),Object.defineProperty(t,"TransactionResponse",{enumerable:!0,get:function(){return d.TransactionResponse}}),Object.defineProperty(t,"copyRequest",{enumerable:!0,get:function(){return d.copyRequest}});var h=r(9902);Object.defineProperty(t,"FallbackProvider",{enumerable:!0,get:function(){return h.FallbackProvider}});var f=r(2371);Object.defineProperty(t,"JsonRpcApiProvider",{enumerable:!0,get:function(){return f.JsonRpcApiProvider}}),Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return f.JsonRpcProvider}}),Object.defineProperty(t,"JsonRpcSigner",{enumerable:!0,get:function(){return f.JsonRpcSigner}});var p=r(254);Object.defineProperty(t,"BrowserProvider",{enumerable:!0,get:function(){return p.BrowserProvider}});var y=r(7841);Object.defineProperty(t,"AlchemyProvider",{enumerable:!0,get:function(){return y.AlchemyProvider}});var g=r(6806);Object.defineProperty(t,"AnkrProvider",{enumerable:!0,get:function(){return g.AnkrProvider}});var m=r(2271);Object.defineProperty(t,"CloudflareProvider",{enumerable:!0,get:function(){return m.CloudflareProvider}});var b=r(8907);Object.defineProperty(t,"ChainstackProvider",{enumerable:!0,get:function(){return b.ChainstackProvider}});var w=r(5047);Object.defineProperty(t,"EtherscanProvider",{enumerable:!0,get:function(){return w.EtherscanProvider}}),Object.defineProperty(t,"EtherscanPlugin",{enumerable:!0,get:function(){return w.EtherscanPlugin}});var v=r(5855);Object.defineProperty(t,"InfuraProvider",{enumerable:!0,get:function(){return v.InfuraProvider}}),Object.defineProperty(t,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return v.InfuraWebSocketProvider}});var A=r(2398);Object.defineProperty(t,"PocketProvider",{enumerable:!0,get:function(){return A.PocketProvider}});var k=r(8817);Object.defineProperty(t,"QuickNodeProvider",{enumerable:!0,get:function(){return k.QuickNodeProvider}});const _=r(4584);Object.defineProperty(t,"IpcSocketProvider",{enumerable:!0,get:function(){return _.IpcSocketProvider}});var P=r(4945);Object.defineProperty(t,"SocketProvider",{enumerable:!0,get:function(){return P.SocketProvider}});var E=r(873);Object.defineProperty(t,"WebSocketProvider",{enumerable:!0,get:function(){return E.WebSocketProvider}});var S=r(4945);Object.defineProperty(t,"SocketSubscriber",{enumerable:!0,get:function(){return S.SocketSubscriber}}),Object.defineProperty(t,"SocketBlockSubscriber",{enumerable:!0,get:function(){return S.SocketBlockSubscriber}}),Object.defineProperty(t,"SocketPendingSubscriber",{enumerable:!0,get:function(){return S.SocketPendingSubscriber}}),Object.defineProperty(t,"SocketEventSubscriber",{enumerable:!0,get:function(){return S.SocketEventSubscriber}})},5317:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Network=void 0;const n=r(7778),i=r(5347),s=r(4491),a=new Map;class o{#te;#re;#T;constructor(e,t){this.#te=e,this.#re=(0,i.getBigInt)(t),this.#T=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#te}set name(e){this.#te=e}get chainId(){return this.#re}set chainId(e){this.#re=(0,i.getBigInt)(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===(0,i.getBigInt)(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===(0,i.getBigInt)(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===(0,i.getBigInt)(e.chainId)}catch(e){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#T.values())}attachPlugin(e){if(this.#T.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#T.set(e.name,e.clone()),this}getPlugin(e){return this.#T.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new o(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new s.GasCostPlugin;let r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let n=2;n<e.data.length;n+=2)"00"===e.data.substring(n,n+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const i=(0,n.accessListify)(e.accessList);for(const e in i)r+=t.txAccessListAddress+t.txAccessListStorageKey*i[e].storageKeys.length}return r}static from(e){if(function(){function e(e,t,r){const n=function(){const n=new o(e,t);return null!=r.ensNetwork&&n.attachPlugin(new s.EnsPlugin(null,r.ensNetwork)),n.attachPlugin(new s.GasCostPlugin),(r.plugins||[]).forEach((e=>{n.attachPlugin(e)})),n};o.register(e,n),o.register(t,n),r.altNames&&r.altNames.forEach((e=>{o.register(e,n)}))}l||(l=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[u("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[u("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1}))}(),null==e)return o.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const t=a.get(e);if(t)return t();if("bigint"==typeof e)return new o("unknown",e);(0,i.assertArgument)(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){(0,i.assertArgument)("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const t=new o(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new s.EnsPlugin(e.ensAddress,e.ensNetwork)),t}(0,i.assertArgument)(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));const r=a.get(e);r&&(0,i.assertArgument)(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),a.set(e,t)}}function c(e,t){const r=String(e);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw new Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let e=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||e++,n[1]=e.toString()}return BigInt(n[0]+n[1])}function u(e){return new s.FetchUrlFeeDataNetworkPlugin(e,(async(e,t,r)=>{let n;r.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([r.send(),e()]);n=t;const s=n.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:c(s.maxFee,9),maxPriorityFeePerGas:c(s.maxPriorityFee,9)}}catch(e){(0,i.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:n,error:e})}}))}t.Network=o;let l=!1},4491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchUrlFeeDataNetworkPlugin=t.FeeDataNetworkPlugin=t.EnsPlugin=t.GasCostPlugin=t.NetworkPlugin=void 0;const n=r(8166),i=r(5347);class s{name;constructor(e){(0,n.defineProperties)(this,{name:e})}clone(){return new s(this.name)}}t.NetworkPlugin=s;class a extends s{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function s(e,n){let s=(t||{})[e];null==s&&(s=n),(0,i.assertArgument)("number"==typeof s,`invalud value for ${e}`,"costs",t),r[e]=s}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),(0,n.defineProperties)(this,r)}clone(){return new a(this.effectiveBlock,this)}}t.GasCostPlugin=a;class o extends s{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,n.defineProperties)(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new o(this.address,this.targetNetwork)}}t.EnsPlugin=o;class c extends s{#ne;get feeDataFunc(){return this.#ne}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#ne=e}async getFeeData(e){return await this.#ne(e)}clone(){return new c(this.#ne)}}t.FeeDataNetworkPlugin=c,t.FetchUrlFeeDataNetworkPlugin=class extends s{#ie;#se;get url(){return this.#ie}get processFunc(){return this.#se}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#ie=e,this.#se=t}clone(){return this}}},7841:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlchemyProvider=void 0;const n=r(5347),i=r(9973),s=r(5317),a=r(2371),o="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class c extends a.JsonRpcProvider{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=s.Network.from(e);null==t&&(t=o),super(c.getRequest(r,t),r,{staticNetwork:r}),(0,n.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new c(e,this.apiKey)}catch(e){}return super._getProvider(e)}async _perform(e){if("getTransactionResult"===e.method){const{trace:t,tx:r}=await(0,n.resolveProperties)({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(null==t||null==r)return null;let i,s=!1;try{i=t[0].result.output,s="Reverted"===t[0].error}catch(e){}if(i)return(0,n.assert)(!s,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:r,invocation:null,revert:null}),i;(0,n.assert)(!1,"could not parse trace result","BAD_DATA",{value:t})}return await super._perform(e)}isCommunityResource(){return this.apiKey===o}static getRequest(e,t){null==t&&(t=o);const r=new n.FetchRequest(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v2/${t}`);return r.allowGzip=!0,t===o&&(r.retryFunc=async(e,t,r)=>((0,i.showThrottleMessage)("alchemy"),!0)),r}}t.AlchemyProvider=c},6806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnkrProvider=void 0;const n=r(5347),i=r(9973),s=r(5317),a=r(2371),o="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class c extends a.JsonRpcProvider{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=s.Network.from(e);null==t&&(t=o);const i={polling:!0,staticNetwork:r};super(c.getRequest(r,t),r,i),(0,n.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new c(e,this.apiKey)}catch(e){}return super._getProvider(e)}static getRequest(e,t){null==t&&(t=o);const r=new n.FetchRequest(`https://${function(e){switch(e){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===o&&(r.retryFunc=async(e,t,r)=>((0,i.showThrottleMessage)("AnkrProvider"),!0)),r}getRpcError(e,t){return"eth_sendRawTransaction"===e.method&&t&&t.error&&"INTERNAL_ERROR: could not replace existing tx"===t.error.message&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===o}}t.AnkrProvider=c},254:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserProvider=void 0;const n=r(5347),i=r(2371);class s extends i.JsonRpcApiPollingProvider{#ae;constructor(e,t,r){const i=Object.assign({},null!=r?r:{},{batchMaxCount:1});(0,n.assertArgument)(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,i),this.#ae=async(t,r)=>{const n={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{const t=await e.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(e){const t=new Error(e.message);throw t.code=e.code,t.data=e.data,t.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){(0,n.assertArgument)(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#ae(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#ae("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(e)}}t.BrowserProvider=s},8907:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChainstackProvider=void 0;const n=r(5347),i=r(9973),s=r(5317),a=r(2371);function o(e){switch(e){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,n.assertArgument)(!1,"unsupported network","network",e)}class c extends a.JsonRpcProvider{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=s.Network.from(e);null==t&&(t=o(r.name)),super(c.getRequest(r,t),r,{staticNetwork:r}),(0,n.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new c(e,this.apiKey)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.apiKey===o(this._network.name)}static getRequest(e,t){null==t&&(t=o(e.name));const r=new n.FetchRequest(`https://${function(e){switch(e){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===o(e.name)&&(r.retryFunc=async(e,t,r)=>((0,i.showThrottleMessage)("ChainstackProvider"),!0)),r}}t.ChainstackProvider=c},2271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloudflareProvider=void 0;const n=r(5347),i=r(5317),s=r(2371);class a extends s.JsonRpcProvider{constructor(e){null==e&&(e="mainnet");const t=i.Network.from(e);(0,n.assertArgument)("mainnet"===t.name,"unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}}t.CloudflareProvider=a},5047:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EtherscanProvider=t.EtherscanPlugin=void 0;const n=r(8456),i=r(9288),s=r(7778),a=r(5347),o=r(8672),c=r(5317),u=r(4491),l=r(9973),d="org.ethers.plugins.provider.Etherscan";class h extends u.NetworkPlugin{baseUrl;constructor(e){super(d),(0,a.defineProperties)(this,{baseUrl:e})}clone(){return new h(this.baseUrl)}}t.EtherscanPlugin=h;const f=["enableCcipRead"];let p=1;class y extends o.AbstractProvider{network;apiKey;#oe;constructor(e,t){const r=null!=t?t:null;super();const n=c.Network.from(e);this.#oe=n.getPlugin(d),(0,a.defineProperties)(this,{apiKey:r,network:n}),this.getBaseUrl()}getBaseUrl(){if(this.#oe)return this.#oe.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}(0,a.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}async detectNetwork(){return this.network}async fetch(e,t,r){const n=p++,i=r?this.getPostUrl():this.getUrl(e,t),s=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:n,url:i,payload:s});const o=new a.FetchRequest(i);o.setThrottleParams({slotInterval:1e3}),o.retryFunc=(e,t,r)=>(this.isCommunityResource()&&(0,l.showThrottleMessage)("Etherscan"),Promise.resolve(!0)),o.processFunc=async(t,r)=>{const i=r.hasBody()?JSON.parse((0,a.toUtf8String)(r.body)):{},s=("string"==typeof i.result?i.result:"").toLowerCase().indexOf("rate limit")>=0;return"proxy"===e?i&&0==i.status&&"NOTOK"==i.message&&s&&(this.emit("debug",{action:"receiveError",id:n,reason:"proxy-NOTOK",error:i}),r.throwThrottleError(i.result,2e3)):s&&(this.emit("debug",{action:"receiveError",id:n,reason:"null result",error:i.result}),r.throwThrottleError(i.result,2e3)),r},s&&(o.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),o.body=Object.keys(s).map((e=>`${e}=${s[e]}`)).join("&"));const c=await o.send();try{c.assertOk()}catch(e){this.emit("debug",{action:"receiveError",id:n,error:e,reason:"assertOk"}),(0,a.assert)(!1,"response error","SERVER_ERROR",{request:o,response:c})}c.hasBody()||(this.emit("debug",{action:"receiveError",id:n,error:"missing body",reason:"null body"}),(0,a.assert)(!1,"missing response","SERVER_ERROR",{request:o,response:c}));const u=JSON.parse((0,a.toUtf8String)(c.body));return"proxy"===e?("2.0"!=u.jsonrpc&&(this.emit("debug",{action:"receiveError",id:n,result:u,reason:"invalid JSON-RPC"}),(0,a.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:o,response:c,info:{result:u}})),u.error&&(this.emit("debug",{action:"receiveError",id:n,result:u,reason:"JSON-RPC error"}),(0,a.assert)(!1,"error response","SERVER_ERROR",{request:o,response:c,info:{result:u}})),this.emit("debug",{action:"receiveRequest",id:n,result:u}),u.result):0!=u.status||"No records found"!==u.message&&"No transactions found"!==u.message?((1!=u.status||"string"==typeof u.message&&!u.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:n,result:u}),(0,a.assert)(!1,"error response","SERVER_ERROR",{request:o,response:c,info:{result:u}})),this.emit("debug",{action:"receiveRequest",id:n,result:u}),u.result):(this.emit("debug",{action:"receiveRequest",id:n,result:u}),u.result)}_getTransactionPostData(e){const t={};for(let r in e){if(f.indexOf(r)>=0)continue;if(null==e[r])continue;let n=e[r];if(!("type"===r&&0===n||"blockTag"===r&&"latest"===n)){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r])n=(0,a.toQuantity)(n);else if("accessList"===r)n="["+(0,s.accessListify)(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]";else if("blobVersionedHashes"===r){if(0===n.length)continue;(0,a.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else n=(0,a.hexlify)(n);t[r]=n}}return t}_checkError(e,t,r){let i="";if((0,a.isError)(t,"SERVER_ERROR")){try{i=t.info.result.error.message}catch(e){}if(!i)try{i=t.info.message}catch(e){}}if("estimateGas"===e.method&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&(0,a.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),("call"===e.method||"estimateGas"===e.method)&&i.match(/execution reverted/i)){let r="";try{r=t.info.result.error.data}catch(t){}const i=n.AbiCoder.getBuiltinCallException(e.method,e.transaction,r);throw i.info={request:e,error:t},i}if(i&&"broadcastTransaction"===e.method){const t=s.Transaction.from(e.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&(0,a.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t}),i.match(/insufficient funds/)&&(0,a.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,a.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:t})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if("mainnet"===this.network.name)return"1000000000";if("optimism"===this.network.name)return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch((t=>this._checkError(e,t,e.signedTransaction)));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});(0,a.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if("latest"!==e.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}case"estimateGas":{const t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return"mainnet"!==this.network.name?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let t=this._getAddress(e);var r;(r=t)&&"function"==typeof r.then&&(t=await t);try{const e=await this.fetch("contract",{action:"getabi",address:t}),r=JSON.parse(e);return new i.Contract(t,r,this)}catch(e){return null}}isCommunityResource(){return null==this.apiKey}}t.EtherscanProvider=y},9902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackProvider=void 0;const n=r(5347),i=r(8672),s=r(5317),a=BigInt("1"),o=BigInt("2");function c(){return(new Date).getTime()}function u(e){return JSON.stringify(e,((e,t)=>"bigint"==typeof t?{type:"bigint",value:t.toString()}:t))}const l={stallTimeout:400,priority:1,weight:1},d={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};function h(e){if(null==e)return"null";if(Array.isArray(e))return"["+e.map(h).join(",")+"]";if("object"==typeof e&&"function"==typeof e.toJSON)return h(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":case"number":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{"+t.map((t=>`${JSON.stringify(t)}:${h(e[t])}`)).join(",")+"}"}}throw console.log("Could not serialize",e),new Error("Hmm...")}function f(e){if("error"in e){const t=e.error;return{tag:h(t),value:t}}const t=e.result;return{tag:h(t),value:t}}function p(e,t){const r=new Map;for(const{value:e,tag:n,weight:i}of t){const t=r.get(n)||{value:e,weight:0};t.weight+=i,r.set(n,t)}let n=null;for(const t of r.values())t.weight>=e&&(!n||t.weight>n.weight)&&(n=t);if(n)return n.value}function y(e,t){let r=0;const n=new Map;let i=null;const s=[];for(const{value:e,tag:a,weight:o}of t)if(e instanceof Error){const t=n.get(a)||{value:e,weight:0};t.weight+=o,n.set(a,t),(null==i||t.weight>i.weight)&&(i=t)}else s.push(BigInt(e)),r+=o;if(r<e)return i&&i.weight>=e?i.value:void 0;s.sort(((e,t)=>e<t?-1:t>e?1:0));const c=Math.floor(s.length/2);return s.length%2?s[c]:(s[c-1]+s[c]+a)/o}function g(e,t){const r=p(e,t);if(void 0!==r)return r;for(const e of t)if(e.value)return e.value}class m extends i.AbstractProvider{quorum;eventQuorum;eventWorkers;#ce;#ue;#le;constructor(e,t,r){super(t,r),this.#ce=e.map((e=>e instanceof i.AbstractProvider?Object.assign({provider:e},l,d):Object.assign({},l,e,d))),this.#ue=-2,this.#le=null,r&&null!=r.quorum?this.quorum=r.quorum:this.quorum=Math.ceil(this.#ce.reduce(((e,t)=>e+t.weight),0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,n.assertArgument)(this.quorum<=this.#ce.reduce(((e,t)=>e+t.weight),0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#ce.map((e=>{const t=Object.assign({},e);for(const e in t)"_"===e[0]&&delete t[e];return t}))}async _detectNetwork(){return s.Network.from((0,n.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{const r="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#de(e){const t=Array.from(e).map((e=>e.config)),r=this.#ce.slice();!function(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}}(r),r.sort(((e,t)=>e.priority-t.priority));for(const e of r)if(!e._lastFatalError&&-1===t.indexOf(e))return e;return null}#he(e,t){const r=this.#de(e);if(null==r)return null;const n={config:r,result:null,didBump:!1,perform:null,staller:null},i=c();return n.perform=(async()=>{try{r.requests++;const e=await this._translatePerform(r.provider,t);n.result={result:e}}catch(e){r.errorResponses++,n.result={error:e}}const e=c()-i;r._totalTime+=e,r.rollingDuration=.95*r.rollingDuration+.05*e,n.perform=null})(),n.staller=(async()=>{var e;await(e=r.stallTimeout,new Promise((t=>{setTimeout(t,e)}))),n.staller=null})(),e.add(n),n}async#fe(){let e=this.#le;if(!e){const t=[];this.#ce.forEach((e=>{t.push((async()=>{await async function(e){for(;(e.blockNumber<0||e.blockNumber<0)&&(e._updateNumber||(e._updateNumber=(async()=>{try{const t=await e.provider.getBlockNumber();t>e.blockNumber&&(e.blockNumber=t)}catch(t){e.blockNumber=-2,e._lastFatalError=t,e._lastFatalErrorTimestamp=c()}e._updateNumber=null})()),await e._updateNumber,e.outOfSync++,!e._lastFatalError););}(e),e._lastFatalError||(e._network=await e.provider.getNetwork())})())})),this.#le=e=(async()=>{await Promise.all(t);let e=null;for(const t of this.#ce){if(t._lastFatalError)continue;const r=t._network;null==e?e=r.chainId:r.chainId!==e&&(0,n.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async#pe(e,t){const r=[];for(const t of e)if(null!=t.result){const{tag:e,value:n}=f(t.result);r.push({tag:e,value:n,weight:t.config.weight})}if(!(r.reduce(((e,t)=>e+t.weight),0)<this.quorum)){switch(t.method){case"getBlockNumber":{-2===this.#ue&&(this.#ue=Math.ceil((0,n.getNumber)(y(this.quorum,this.#ce.filter((e=>!e._lastFatalError)).map((e=>({value:e.blockNumber,tag:(0,n.getNumber)(e.blockNumber).toString(),weight:e.weight})))))));const e=function(e,t){if(1===e)return(0,n.getNumber)(y(e,t),"%internal");const r=new Map,i=(e,t)=>{const n=r.get(e)||{result:e,weight:0};n.weight+=t,r.set(e,n)};for(const{weight:e,value:r}of t){const t=(0,n.getNumber)(r);i(t-1,e),i(t,e),i(t+1,e)}let s,a=0;for(const{weight:t,result:n}of r.values())t>=e&&(t>a||null!=s&&t===a&&n>s)&&(a=t,s=n);return s}(this.quorum,r);if(void 0===e)return;return e>this.#ue&&(this.#ue=e),this.#ue}case"getGasPrice":case"getPriorityFee":case"estimateGas":return y(this.quorum,r);case"getBlock":return"blockTag"in t&&"pending"===t.blockTag?g(this.quorum,r):p(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return p(this.quorum,r);case"broadcastTransaction":return g(this.quorum,r)}(0,n.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${u(t.method)})`})}}async#ye(e,t){if(0===e.size)throw new Error("no runners?!");const r=[];let i=0;for(const t of e)t.perform&&r.push(t.perform),t.staller?r.push(t.staller):t.didBump||(t.didBump=!0,i++);const s=await this.#pe(e,t);if(void 0!==s){if(s instanceof Error)throw s;return s}for(let r=0;r<i;r++)this.#he(e,t);return(0,n.assert)(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map((e=>u(e.result)))}}),await Promise.race(r),await this.#ye(e,t)}async _perform(e){if("broadcastTransaction"===e.method){const t=this.#ce.map((e=>null)),r=this.#ce.map((async({provider:r,weight:n},i)=>{try{const s=await r._perform(e);t[i]=Object.assign(f({result:s}),{weight:n})}catch(e){t[i]=Object.assign(f({error:e}),{weight:n})}}));for(;;){const e=t.filter((e=>null!=e));for(const{value:t}of e)if(!(t instanceof Error))return t;const i=p(this.quorum,t.filter((e=>null!=e)));if((0,n.isError)(i,"INSUFFICIENT_FUNDS"))throw i;const s=r.filter(((e,r)=>null==t[r]));if(0===s.length)break;await Promise.race(s)}const i=g(this.quorum,t);if((0,n.assert)(void 0!==i,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:t.map(u)}}),i instanceof Error)throw i;return i}await this.#fe();const t=new Set;let r=0;for(;;){const n=this.#he(t,e);if(null==n)break;if(r+=n.config.weight,r>=this.quorum)break}const i=await this.#ye(t,e);for(const e of t)e.perform&&null==e.result&&e.config.lateResponses++;return i}async destroy(){for(const{provider:e}of this.#ce)e.destroy();super.destroy()}}t.FallbackProvider=m},5855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InfuraProvider=t.InfuraWebSocketProvider=void 0;const n=r(5347),i=r(9973),s=r(5317),a=r(2371),o=r(873),c="84842078b09946638c03157f83405213";class u extends o.WebSocketProvider{projectId;projectSecret;constructor(e,t){const r=new l(e,t),i=r._getConnection();(0,n.assert)(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"}),super(i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),r._network),(0,n.defineProperties)(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===c}}t.InfuraWebSocketProvider=u;class l extends a.JsonRpcProvider{projectId;projectSecret;constructor(e,t,r){null==e&&(e="mainnet");const i=s.Network.from(e);null==t&&(t=c),null==r&&(r=null),super(l.getRequest(i,t,r),i,{staticNetwork:i}),(0,n.defineProperties)(this,{projectId:t,projectSecret:r})}_getProvider(e){try{return new l(e,this.projectId,this.projectSecret)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.projectId===c}static getWebSocketProvider(e,t){return new u(e,t)}static getRequest(e,t,r){null==t&&(t=c),null==r&&(r=null);const s=new n.FetchRequest(`https://${function(e){switch(e){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v3/${t}`);return s.allowGzip=!0,r&&s.setCredentials("",r),t===c&&(s.retryFunc=async(e,t,r)=>((0,i.showThrottleMessage)("InfuraProvider"),!0)),s}}t.InfuraProvider=l},4584:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcSocketProvider=void 0,t.IpcSocketProvider=void 0},2371:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcProvider=t.JsonRpcApiPollingProvider=t.JsonRpcApiProvider=t.JsonRpcSigner=void 0;const n=r(8456),i=r(646),s=r(1181),a=r(7778),o=r(5347),c=r(8672),u=r(3071),l=r(5317),d=r(7966),h=r(4338),f="bigint,boolean,function,number,string,symbol".split(/,/g);function p(e){if(null==e||f.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(p);if("object"==typeof e)return Object.keys(e).reduce(((t,r)=>(t[r]=e[r],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function y(e){return new Promise((t=>{setTimeout(t,e)}))}function g(e){return e?e.toLowerCase():e}function m(e){return e&&"number"==typeof e.pollingInterval}const b={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class w extends u.AbstractSigner{address;constructor(e,t){super(e),t=(0,i.getAddress)(t),(0,o.defineProperties)(this,{address:t})}connect(e){(0,o.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=p(e),r=[];if(t.from){const n=t.from;r.push((async()=>{const r=await(0,i.resolveAddress)(n,this.provider);(0,o.assertArgument)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;r.push((async()=>{t.to=await(0,i.resolveAddress)(e,this.provider)})())}r.length&&await Promise.all(r);const n=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise(((e,n)=>{const i=[1e3,100];let s=0;const a=async()=>{try{const n=await this.provider.getTransaction(r);if(null!=n)return void e(n.replaceableTransaction(t))}catch(e){if((0,o.isError)(e,"CANCELLED")||(0,o.isError)(e,"BAD_DATA")||(0,o.isError)(e,"NETWORK_ERROR"))return null==e.info&&(e.info={}),e.info.sendTransactionHash=r,void n(e);if((0,o.isError)(e,"INVALID_ARGUMENT")&&(s++,null==e.info&&(e.info={}),e.info.sendTransactionHash=r,s>10))return void n(e);this.provider.emit("error",(0,o.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout((()=>{a()}),i.pop()||4e3)};a()}))}async signTransaction(e){const t=p(e);if(t.from){const r=await(0,i.resolveAddress)(t.from,this.provider);(0,o.assertArgument)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;const r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const t="string"==typeof e?(0,o.toUtf8Bytes)(e):e;return await this.provider.send("personal_sign",[(0,o.hexlify)(t),this.address.toLowerCase()])}async signTypedData(e,t,r){const n=p(r),a=await s.TypedDataEncoder.resolveNames(e,t,n,(async e=>{const t=await(0,i.resolveAddress)(e);return(0,o.assertArgument)(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(s.TypedDataEncoder.getPayload(a.domain,t,a.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?(0,o.toUtf8Bytes)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,o.hexlify)(t)])}}t.JsonRpcSigner=w;class v extends c.AbstractProvider{#v;#ge;#me;#be;#we;#ve;#Ae;#ke(){if(this.#be)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#be=setTimeout((()=>{this.#be=null;const e=this.#me;for(this.#me=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#v.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map((e=>e.payload))).length>this.#v.batchMaxSize){e.unshift(t.pop());break}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const r=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:e,reject:n,payload:i}of t){if(this.destroyed){n((0,o.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=r.filter((e=>e.id===i.id))[0];if(null!=t)"error"in t?n(this.getRpcError(i,t)):e(t.result);else{const e=(0,o.makeError)("missing response for request","BAD_DATA",{value:r,info:{payload:i}});this.emit("error",e),n(e)}}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:r}of t)r(e)}})()}}),e)}constructor(e,t){super(e,t),this.#ge=1,this.#v=Object.assign({},b,t||{}),this.#me=[],this.#be=null,this.#ve=null,this.#Ae=null;{let e=null;const t=new Promise((t=>{e=t}));this.#we={promise:t,resolve:e}}const r=this._getOption("staticNetwork");"boolean"==typeof r?((0,o.assertArgument)(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#ve=l.Network.from(e))):r&&((0,o.assertArgument)(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#ve=r)}_getOption(e){return this.#v[e]}get _network(){return(0,o.assert)(this.#ve,"network is not available yet","NETWORK_ERROR"),this.#ve}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&(0,o.getBigInt)(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#ve)return this.#ve}return this.#Ae?await this.#Ae:this.ready?(this.#Ae=(async()=>{try{const e=l.Network.from((0,o.getBigInt)(await this.send("eth_chainId",[])));return this.#Ae=null,e}catch(e){throw this.#Ae=null,e}})(),await this.#Ae):(this.#Ae=(async()=>{const e={id:this.#ge++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#Ae=null}catch(e){throw this.#Ae=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return l.Network.from((0,o.getBigInt)(t.result));throw this.getRpcError(e,t)})(),await this.#Ae)}_start(){null!=this.#we&&null!=this.#we.resolve&&(this.#we.resolve(),this.#we=null,(async()=>{for(;null==this.#ve&&!this.destroyed;)try{this.#ve=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,o.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await y(1e3)}this.#ke()})())}async _waitUntilReady(){if(null!=this.#we)return await this.#we.promise}_getSubscriber(e){return"pending"===e.type?new d.FilterIdPendingSubscriber(this):"event"===e.type?this._getOption("polling")?new h.PollingEventSubscriber(this,e.filter):new d.FilterIdEventSubscriber(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new c.UnmanagedSubscriber("orphan"):super._getSubscriber(e)}get ready(){return null==this.#we}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==e[r])return;let n=r;"gasLimit"===r&&(n="gas"),t[n]=(0,o.toQuantity)((0,o.getBigInt)(e[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=e[r]&&(t[r]=(0,o.hexlify)(e[r]))})),e.accessList&&(t.accessList=(0,a.accessListify)(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map((e=>e.toLowerCase()))),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[g(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[g(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[g(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[g(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(g):e.filter.address=g(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:r}=e,{error:i}=t;if("eth_estimateGas"===r&&i.message){const t=i.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return(0,o.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}})}if("eth_call"===r||"eth_estimateGas"===r){const t=k(i),s=n.AbiCoder.getBuiltinCallException("eth_call"===r?"call":"estimateGas",e.params[0],t?t.data:null);return s.info={error:i,payload:e},s}const s=JSON.stringify(function(e){const t=[];return _(e,t),t}(i));if("string"==typeof i.message&&i.message.match(/user denied|ethers-user-denied/i)){const t={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,o.makeError)("user rejected action","ACTION_REJECTED",{action:t[r]||"unknown",reason:"rejected",info:{payload:e,error:i}})}if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){const t=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return(0,o.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:i}});if(s.match(/nonce/i)&&s.match(/too low/i))return(0,o.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:i}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return(0,o.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:i}});if(s.match(/only replay-protected/i))return(0,o.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:t,info:{error:i}}})}let a=!!s.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?(0,o.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):(0,o.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,t){if(this.destroyed)return Promise.reject((0,o.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#ge++,n=new Promise(((n,i)=>{this.#me.push({resolve:n,reject:i,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})}));return this.#ke(),n}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"==typeof e){const r=await t;if(e>=r.length)throw new Error("no such account");return new w(this,r[e])}const{accounts:r}=await(0,o.resolveProperties)({network:this.getNetwork(),accounts:t});e=(0,i.getAddress)(e);for(const t of r)if((0,i.getAddress)(t)===e)return new w(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new w(this,e)))}destroy(){this.#be&&(clearTimeout(this.#be),this.#be=null);for(const{payload:e,reject:t}of this.#me)t((0,o.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#me=[],super.destroy()}}t.JsonRpcApiProvider=v;class A extends v{#_e;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");null==r&&(r=b.pollingInterval),this.#_e=r}_getSubscriber(e){const t=super._getSubscriber(e);return m(t)&&(t.pollingInterval=this.#_e),t}get pollingInterval(){return this.#_e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#_e=e,this._forEachSubscriber((e=>{m(e)&&(e.pollingInterval=this.#_e)}))}}function k(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&(0,o.isHexString)(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const r=k(e[t]);if(r)return r}return null}if("string"==typeof e)try{return k(JSON.parse(e))}catch(e){}return null}function _(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const r in e)_(e[r],t);if("string"==typeof e)try{return _(JSON.parse(e),t)}catch(e){}}}t.JsonRpcApiPollingProvider=A,t.JsonRpcProvider=class extends A{#Pe;constructor(e,t,r){null==e&&(e="http://localhost:8545"),super(t,r),this.#Pe="string"==typeof e?new o.FetchRequest(e):e.clone()}_getConnection(){return this.#Pe.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const r=await t.send();r.assertOk();let n=r.bodyJson;return Array.isArray(n)||(n=[n]),n}}},2398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PocketProvider=void 0;const n=r(5347),i=r(9973),s=r(5317),a=r(2371),o="62e1ad51b37b8e00394bda3b";class c extends a.JsonRpcProvider{applicationId;applicationSecret;constructor(e,t,r){null==e&&(e="mainnet");const i=s.Network.from(e);null==t&&(t=o),null==r&&(r=null);const a={staticNetwork:i};super(c.getRequest(i,t,r),i,a),(0,n.defineProperties)(this,{applicationId:t,applicationSecret:r})}_getProvider(e){try{return new c(e,this.applicationId,this.applicationSecret)}catch(e){}return super._getProvider(e)}static getRequest(e,t,r){null==t&&(t=o);const s=new n.FetchRequest(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v1/lb/${t}`);return s.allowGzip=!0,r&&s.setCredentials("",r),t===o&&(s.retryFunc=async(e,t,r)=>((0,i.showThrottleMessage)("PocketProvider"),!0)),s}isCommunityResource(){return this.applicationId===o}}t.PocketProvider=c},8817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickNodeProvider=void 0;const n=r(5347),i=r(9973),s=r(5317),a=r(2371),o="919b412a057b5e9c9b6dce193c5a60242d6efadb";class c extends a.JsonRpcProvider{token;constructor(e,t){null==e&&(e="mainnet");const r=s.Network.from(e);null==t&&(t=o),super(c.getRequest(r,t),r,{staticNetwork:r}),(0,n.defineProperties)(this,{token:t})}_getProvider(e){try{return new c(e,this.token)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.token===o}static getRequest(e,t){null==t&&(t=o);const r=new n.FetchRequest(`https://${function(e){switch(e){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===o&&(r.retryFunc=async(e,t,r)=>((0,i.showThrottleMessage)("QuickNodeProvider"),!0)),r}}t.QuickNodeProvider=c},4945:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocketProvider=t.SocketEventSubscriber=t.SocketPendingSubscriber=t.SocketBlockSubscriber=t.SocketSubscriber=void 0;const n=r(8672),i=r(5347),s=r(2371);class a{#Ee;#A;get filter(){return JSON.parse(this.#A)}#Se;#xe;#Ce;constructor(e,t){this.#Ee=e,this.#A=JSON.stringify(t),this.#Se=null,this.#xe=null,this.#Ce=null}start(){this.#Se=this.#Ee.send("eth_subscribe",this.filter).then((e=>(this.#Ee._register(e,this),e)))}stop(){this.#Se.then((e=>{this.#Ee.destroyed||this.#Ee.send("eth_unsubscribe",[e])})),this.#Se=null}pause(e){(0,i.assert)(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#xe=!!e}resume(){this.#xe=null}_handleMessage(e){if(null!=this.#Se&&null===this.#xe){let t=this.#Ce;t=null==t?this._emit(this.#Ee,e):t.then((async()=>{await this._emit(this.#Ee,e)})),this.#Ce=t.then((()=>{this.#Ce===t&&(this.#Ce=null)}))}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}}t.SocketSubscriber=a;class o extends a{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}}t.SocketBlockSubscriber=o;class c extends a{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}}t.SocketPendingSubscriber=c;class u extends a{#Be;get logFilter(){return JSON.parse(this.#Be)}constructor(e,t){super(e,["logs",t]),this.#Be=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}t.SocketEventSubscriber=u;class l extends s.JsonRpcApiProvider{#Oe;#I;#Re;constructor(e,t){const r=Object.assign({},null!=t?t:{});(0,i.assertArgument)(null==r.batchMaxCount||1===r.batchMaxCount,"sockets-based providers do not support batches","options.batchMaxCount",t),r.batchMaxCount=1,null==r.staticNetwork&&(r.staticNetwork=!0),super(e,r),this.#Oe=new Map,this.#I=new Map,this.#Re=new Map}_getSubscriber(e){switch(e.type){case"close":return new n.UnmanagedSubscriber("close");case"block":return new o(this);case"pending":return new c(this);case"event":return new u(this,e.filter);case"orphan":if("drop-log"===e.filter.orphan)return new n.UnmanagedSubscriber("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#I.set(e,t);const r=this.#Re.get(e);if(r){for(const e of r)t._handleMessage(e);this.#Re.delete(e)}}async _send(e){(0,i.assertArgument)(!Array.isArray(e),"WebSocket does not support batch send","payload",e);const t=new Promise(((t,r)=>{this.#Oe.set(e.id,{payload:e,resolve:t,reject:r})}));return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){const t=JSON.parse(e);if(t&&"object"==typeof t&&"id"in t){const e=this.#Oe.get(t.id);if(null==e)return void this.emit("error",(0,i.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));this.#Oe.delete(t.id),e.resolve(t)}else{if(!t||"eth_subscription"!==t.method)return void this.emit("error",(0,i.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));{const e=t.params.subscription,r=this.#I.get(e);if(r)r._handleMessage(t.params.result);else{let r=this.#Re.get(e);null==r&&(r=[],this.#Re.set(e,r)),r.push(t.params.result)}}}}async _write(e){throw new Error("sub-classes must override this")}}t.SocketProvider=l},873:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketProvider=void 0;const n=r(3913),i=r(4945);class s extends i.SocketProvider{#Pe;#Ie;get websocket(){if(null==this.#Ie)throw new Error("websocket closed");return this.#Ie}constructor(e,t,r){super(t,r),"string"==typeof e?(this.#Pe=()=>new n.WebSocket(e),this.#Ie=this.#Pe()):"function"==typeof e?(this.#Pe=e,this.#Ie=e()):(this.#Pe=null,this.#Ie=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(e){console.log("failed to start WebsocketProvider",e)}},this.websocket.onmessage=e=>{this._processMessage(e.data)}}async _write(e){this.websocket.send(e)}async destroy(){null!=this.#Ie&&(this.#Ie.close(),this.#Ie=null),super.destroy()}}t.WebSocketProvider=s},3807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionResponse=t.TransactionReceipt=t.Log=t.Block=t.copyRequest=t.FeeData=void 0;const n=r(5347),i=r(7778),s=BigInt(0);function a(e){return null==e?null:e}function o(e){return null==e?null:e.toString()}t.FeeData=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){(0,n.defineProperties)(this,{gasPrice:a(e),maxFeePerGas:a(t),maxPriorityFeePerGas:a(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:o(e),maxFeePerGas:o(t),maxPriorityFeePerGas:o(r)}}},t.copyRequest=function(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=(0,n.hexlify)(e.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=(0,n.getBigInt)(e[i],`request.${i}`));const s="type,nonce".split(/,/);for(const r of s)r in e&&null!=e[r]&&(t[r]=(0,n.getNumber)(e[r],`request.${r}`));return e.accessList&&(t.accessList=(0,i.accessListify)(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>(0,n.isBytesLike)(e)?(0,n.hexlify)(e):Object.assign({},e)))),t};class c{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#Te;constructor(e,t){this.#Te=e.transactions.map((e=>"string"!=typeof e?new d(e,t):e)),(0,n.defineProperties)(this,{provider:t,hash:a(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:a(e.prevRandao),extraData:e.extraData,baseFeePerGas:a(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#Te.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#Te.slice();return 0===e.length?[]:((0,n.assert)("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:n,gasUsed:i,hash:s,miner:a,prevRandao:c,nonce:u,number:l,parentHash:d,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:p,timestamp:y,transactions:g}=this;return{_type:"Block",baseFeePerGas:o(e),difficulty:o(t),extraData:r,gasLimit:o(n),gasUsed:o(i),blobGasUsed:o(this.blobGasUsed),excessBlobGas:o(this.excessBlobGas),hash:s,miner:a,prevRandao:c,nonce:u,number:l,parentHash:d,timestamp:y,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:p,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#Te.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#Te[e];else{const r=e.toLowerCase();for(const e of this.#Te){if("string"==typeof e){if(e!==r)continue;t=e;break}if(e.hash!==r){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"==typeof e)return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;(0,n.assertArgument)(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:this.hash,number:this.number}}}t.Block=c;class u{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());(0,n.defineProperties)(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:s,topics:a,transactionHash:o,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:s,topics:a,transactionHash:o,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return(0,n.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return(0,n.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return(0,n.assert)(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}t.Log=u;class l{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#Me;constructor(e,t){this.#Me=Object.freeze(e.logs.map((e=>new u(e,t))));let r=s;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),(0,n.defineProperties)(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#Me}toJSON(){const{to:e,from:t,contractAddress:r,hash:n,index:i,blockHash:s,blockNumber:a,logsBloom:c,logs:u,status:l,root:d}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:r,cumulativeGasUsed:o(this.cumulativeGasUsed),from:t,gasPrice:o(this.gasPrice),blobGasUsed:o(this.blobGasUsed),blobGasPrice:o(this.blobGasPrice),gasUsed:o(this.gasUsed),hash:n,index:i,logs:u,logsBloom:c,root:d,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return f(this)}reorderedEvent(e){return(0,n.assert)(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),h(this,e)}}t.TransactionReceipt=l;class d{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#Ne;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#Ne=-1}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:n,type:i,to:s,from:a,nonce:c,data:u,signature:l,accessList:d,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:o(this.chainId),data:u,from:a,gasLimit:o(this.gasLimit),gasPrice:o(this.gasPrice),hash:n,maxFeePerGas:o(this.maxFeePerGas),maxPriorityFeePerGas:o(this.maxPriorityFeePerGas),maxFeePerBlobGas:o(this.maxFeePerBlobGas),nonce:c,signature:l,to:s,index:r,type:i,value:o(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await(0,n.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=null==e?1:e,i=null==t?0:t;let a=this.#Ne,o=-1,c=-1===a;const u=async()=>{if(c)return null;const{blockNumber:e,nonce:t}=await(0,n.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(a=e);if(c)return null;const i=await this.getTransaction();if(!i||null==i.blockNumber)for(-1===o&&(o=a-3,o<this.#Ne&&(o=this.#Ne));o<=e;){if(c)return null;const t=await this.provider.getBlock(o,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let i=0;i<t.length;i++){const o=await t.getTransaction(i);if(o.from===this.from&&o.nonce===this.nonce){if(c)return null;const t=await this.provider.getTransactionReceipt(o.hash);if(null==t)return;if(e-t.blockNumber+1<r)return;let i="replaced";o.data===this.data&&o.to===this.to&&o.value===this.value?i="repriced":"0x"===o.data&&o.from===o.to&&o.value===s&&(i="cancelled"),(0,n.assert)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:o.replaceableTransaction(a),hash:o.hash,receipt:t})}}o++}},l=e=>{if(null==e||0!==e.status)return e;(0,n.assert)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},d=await this.provider.getTransactionReceipt(this.hash);if(0===r)return l(d);if(d){if(await d.confirmations()>=r)return l(d)}else if(await u(),0===r)return null;const h=new Promise(((e,t)=>{const s=[],o=()=>{s.forEach((e=>e()))};if(s.push((()=>{c=!0})),i>0){const e=setTimeout((()=>{o(),t((0,n.makeError)("wait for transaction timeout","TIMEOUT"))}),i);s.push((()=>{clearTimeout(e)}))}const d=async n=>{if(await n.confirmations()>=r){o();try{e(l(n))}catch(e){t(e)}}};if(s.push((()=>{this.provider.off(this.hash,d)})),this.provider.on(this.hash,d),a>=0){const e=async()=>{try{await u()}catch(e){if((0,n.isError)(e,"TRANSACTION_REPLACED"))return o(),void t(e)}c||this.provider.once("block",e)};s.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await h}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return(0,n.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),f(this)}reorderedEvent(e){return(0,n.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,n.assert)(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),h(this,e)}replaceableTransaction(e){(0,n.assertArgument)(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new d(this,this.provider);return t.#Ne=e,t}}function h(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function f(e){return{orphan:"drop-transaction",tx:e}}t.TransactionResponse=d},9596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonceManager=void 0;const n=r(5347),i=r(3071);class s extends i.AbstractSigner{signer;#De;#Ue;constructor(e){super(e.provider),(0,n.defineProperties)(this,{signer:e}),this.#De=null,this.#Ue=0}async getAddress(){return this.signer.getAddress()}connect(e){return new s(this.signer.connect(e))}async getNonce(e){if("pending"===e){null==this.#De&&(this.#De=super.getNonce("pending"));const e=this.#Ue;return await this.#De+e}return super.getNonce(e)}increment(){this.#Ue++}reset(){this.#Ue=0,this.#De=null}async sendTransaction(e){const t=this.getNonce("pending");return this.increment(),(e=await this.signer.populateTransaction(e)).nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}}t.NonceManager=s},7966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterIdPendingSubscriber=t.FilterIdEventSubscriber=t.FilterIdSubscriber=void 0;const n=r(5347),i=r(4338);class s{#Ee;#je;#Fe;#Ke;#ve;#Le;constructor(e){this.#Ee=e,this.#je=null,this.#Fe=this.#ze.bind(this),this.#Ke=!1,this.#ve=null,this.#Le=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#ze(e){try{null==this.#je&&(this.#je=this._subscribe(this.#Ee));let e=null;try{e=await this.#je}catch(e){if(!(0,n.isError)(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e)return this.#je=null,void this.#Ee._recoverSubscriber(this,this._recover(this.#Ee));const t=await this.#Ee.getNetwork();if(this.#ve||(this.#ve=t),this.#ve.chainId!==t.chainId)throw new Error("chaid changed");if(this.#Le)return;const r=await this.#Ee.send("eth_getFilterChanges",[e]);await this._emitResults(this.#Ee,r)}catch(e){console.log("@TODO",e)}this.#Ee.once("block",this.#Fe)}#qe(){const e=this.#je;e&&(this.#je=null,e.then((e=>{this.#Ee.destroyed||this.#Ee.send("eth_uninstallFilter",[e])})))}start(){this.#Ke||(this.#Ke=!0,this.#ze(-2))}stop(){this.#Ke&&(this.#Ke=!1,this.#Le=!0,this.#qe(),this.#Ee.off("block",this.#Fe))}pause(e){e&&this.#qe(),this.#Ee.off("block",this.#Fe)}resume(){this.start()}}t.FilterIdSubscriber=s,t.FilterIdEventSubscriber=class extends s{#He;constructor(e,t){var r;super(e),this.#He=(r=t,JSON.parse(JSON.stringify(r)))}_recover(e){return new i.PollingEventSubscriber(e,this.#He)}async _subscribe(e){return await e.send("eth_newFilter",[this.#He])}async _emitResults(e,t){for(const r of t)e.emit(this.#He,e._wrapLog(r,e._network))}},t.FilterIdPendingSubscriber=class extends s{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}},4338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PollingEventSubscriber=t.PollingTransactionSubscriber=t.PollingOrphanSubscriber=t.PollingBlockTagSubscriber=t.OnBlockSubscriber=t.PollingBlockSubscriber=t.getPollingSubscriber=void 0;const n=r(5347);function i(e){return JSON.parse(JSON.stringify(e))}t.getPollingSubscriber=function(e,t){return"block"===t?new s(e):(0,n.isHexString)(t,32)?new o(e,t):void(0,n.assert)(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:t}})};class s{#Ee;#Fe;#Ge;#We;constructor(e){this.#Ee=e,this.#Fe=null,this.#Ge=4e3,this.#We=-2}get pollingInterval(){return this.#Ge}set pollingInterval(e){this.#Ge=e}async#ze(){try{const e=await this.#Ee.getBlockNumber();if(-2===this.#We)return void(this.#We=e);if(e!==this.#We){for(let t=this.#We+1;t<=e;t++){if(null==this.#Fe)return;await this.#Ee.emit("block",t)}this.#We=e}}catch(e){}null!=this.#Fe&&(this.#Fe=this.#Ee._setTimeout(this.#ze.bind(this),this.#Ge))}start(){this.#Fe||(this.#Fe=this.#Ee._setTimeout(this.#ze.bind(this),this.#Ge),this.#ze())}stop(){this.#Fe&&(this.#Ee._clearTimeout(this.#Fe),this.#Fe=null)}pause(e){this.stop(),e&&(this.#We=-2)}resume(){this.start()}}t.PollingBlockSubscriber=s;class a{#Ee;#ze;#Ke;constructor(e){this.#Ee=e,this.#Ke=!1,this.#ze=e=>{this._poll(e,this.#Ee)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Ke||(this.#Ke=!0,this.#ze(-2),this.#Ee.on("block",this.#ze))}stop(){this.#Ke&&(this.#Ke=!1,this.#Ee.off("block",this.#ze))}pause(e){this.stop()}resume(){this.start()}}t.OnBlockSubscriber=a,t.PollingBlockTagSubscriber=class extends a{#Ve;#Je;constructor(e,t){super(e),this.#Ve=t,this.#Je=-2}pause(e){e&&(this.#Je=-2),super.pause(e)}async _poll(e,t){const r=await t.getBlock(this.#Ve);null!=r&&(-2===this.#Je?this.#Je=r.number:r.number>this.#Je&&(t.emit(this.#Ve,r.number),this.#Je=r.number))}},t.PollingOrphanSubscriber=class extends a{#A;constructor(e,t){super(e),this.#A=i(t)}async _poll(e,t){throw new Error("@TODO")}};class o extends a{#Qe;constructor(e,t){super(e),this.#Qe=t}async _poll(e,t){const r=await t.getTransactionReceipt(this.#Qe);r&&t.emit(this.#Qe,r)}}t.PollingTransactionSubscriber=o,t.PollingEventSubscriber=class{#Ee;#A;#Fe;#Ke;#We;constructor(e,t){this.#Ee=e,this.#A=i(t),this.#Fe=this.#ze.bind(this),this.#Ke=!1,this.#We=-2}async#ze(e){if(-2===this.#We)return;const t=i(this.#A);t.fromBlock=this.#We+1,t.toBlock=e;const r=await this.#Ee.getLogs(t);if(0!==r.length)for(const e of r)this.#Ee.emit(this.#A,e),this.#We=e.blockNumber;else this.#We<e-60&&(this.#We=e-60)}start(){this.#Ke||(this.#Ke=!0,-2===this.#We&&this.#Ee.getBlockNumber().then((e=>{this.#We=e})),this.#Ee.on("block",this.#Fe))}stop(){this.#Ke&&(this.#Ke=!1,this.#Ee.off("block",this.#Fe))}pause(e){this.stop(),e&&(this.#We=-2)}resume(){this.start()}}},3913:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocket=void 0;const n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}().WebSocket;t.WebSocket=n},7918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.accessListify=void 0;const n=r(646),i=r(5347);function s(e,t){return{address:(0,n.getAddress)(e),storageKeys:t.map(((e,t)=>((0,i.assertArgument)((0,i.isHexString)(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}t.accessListify=function(e){if(Array.isArray(e))return e.map(((t,r)=>Array.isArray(t)?((0,i.assertArgument)(2===t.length,"invalid slot set",`value[${r}]`,t),s(t[0],t[1])):((0,i.assertArgument)(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),s(t.address,t.storageKeys))));(0,i.assertArgument)(null!=e&&"object"==typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return s(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}},778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recoverAddress=t.computeAddress=void 0;const n=r(646),i=r(2291);function s(e){let t;return t="string"==typeof e?i.SigningKey.computePublicKey(e,!1):e.publicKey,(0,n.getAddress)((0,i.keccak256)("0x"+t.substring(4)).substring(26))}t.computeAddress=s,t.recoverAddress=function(e,t){return s(i.SigningKey.recoverPublicKey(e,t))}},7778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.recoverAddress=t.computeAddress=t.accessListify=void 0;var n=r(7918);Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return n.accessListify}});var i=r(778);Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return i.computeAddress}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return i.recoverAddress}});var s=r(1398);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return s.Transaction}})},1398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const n=r(646),i=r(5239),s=r(2291),a=r(5347),o=r(7918),c=r(778),u=BigInt(0),l=BigInt(2),d=BigInt(27),h=BigInt(28),f=BigInt(35),p=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),y=131072;function g(e,t){let r=e.toString(16);for(;r.length<2;)r="0"+r;return r+=(0,s.sha256)(t).substring(4),"0x"+r}function m(e){return"0x"===e?null:(0,n.getAddress)(e)}function b(e,t){try{return(0,o.accessListify)(e)}catch(r){(0,a.assertArgument)(!1,r.message,t,e)}}function w(e,t){return"0x"===e?0:(0,a.getNumber)(e,t)}function v(e,t){if("0x"===e)return u;const r=(0,a.getBigInt)(e,t);return(0,a.assertArgument)(r<=p,"value exceeds uint size",t,r),r}function A(e,t){const r=(0,a.getBigInt)(e,"value"),n=(0,a.toBeArray)(r);return(0,a.assertArgument)(n.length<=32,"value too large",`tx.${t}`,r),n}function k(e){return(0,o.accessListify)(e).map((e=>[e.address,e.storageKeys]))}function _(e,t){(0,a.assertArgument)(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)(0,a.assertArgument)((0,a.isHexString)(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}function P(e,t){let r;try{if(r=w(t[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(e){(0,a.assertArgument)(!1,"invalid yParity","yParity",t[0])}const n=(0,a.zeroPadValue)(t[1],32),i=(0,a.zeroPadValue)(t[2],32),o=s.Signature.from({r:n,s:i,yParity:r});e.signature=o}class E{#$e;#Ze;#r;#Ye;#Xe;#et;#tt;#rt;#nt;#re;#it;#st;#at;#ot;#ct;#ut;get type(){return this.#$e}set type(e){switch(e){case null:this.#$e=null;break;case 0:case"legacy":this.#$e=0;break;case 1:case"berlin":case"eip-2930":this.#$e=1;break;case 2:case"london":case"eip-1559":this.#$e=2;break;case 3:case"cancun":case"eip-4844":this.#$e=3;break;default:(0,a.assertArgument)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#Ze;return null==e&&3===this.type?i.ZeroAddress:e}set to(e){this.#Ze=null==e?null:(0,n.getAddress)(e)}get nonce(){return this.#Ye}set nonce(e){this.#Ye=(0,a.getNumber)(e,"value")}get gasLimit(){return this.#Xe}set gasLimit(e){this.#Xe=(0,a.getBigInt)(e)}get gasPrice(){const e=this.#et;return null!=e||0!==this.type&&1!==this.type?e:u}set gasPrice(e){this.#et=null==e?null:(0,a.getBigInt)(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#tt;return null==e?2===this.type||3===this.type?u:null:e}set maxPriorityFeePerGas(e){this.#tt=null==e?null:(0,a.getBigInt)(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#rt;return null==e?2===this.type||3===this.type?u:null:e}set maxFeePerGas(e){this.#rt=null==e?null:(0,a.getBigInt)(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=(0,a.hexlify)(e)}get value(){return this.#nt}set value(e){this.#nt=(0,a.getBigInt)(e,"value")}get chainId(){return this.#re}set chainId(e){this.#re=(0,a.getBigInt)(e)}get signature(){return this.#it||null}set signature(e){this.#it=null==e?null:s.Signature.from(e)}get accessList(){const e=this.#st||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#st=null==e?null:(0,o.accessListify)(e)}get maxFeePerBlobGas(){const e=this.#at;return null==e&&3===this.type?u:e}set maxFeePerBlobGas(e){this.#at=null==e?null:(0,a.getBigInt)(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#ot;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){(0,a.assertArgument)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)(0,a.assertArgument)((0,a.isHexString)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#ot=e}get blobs(){return null==this.#ut?null:this.#ut.map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void(this.#ut=null);const t=[],r=[];for(let n=0;n<e.length;n++){const i=e[n];if((0,a.isBytesLike)(i)){(0,a.assert)(this.#ct,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=(0,a.getBytes)(i);if((0,a.assertArgument)(e.length<=y,"blob is too large",`blobs[${n}]`,i),e.length!==y){const t=new Uint8Array(y);t.set(e),e=t}const s=this.#ct.blobToKzgCommitment(e),o=(0,a.hexlify)(this.#ct.computeBlobKzgProof(e,s));t.push({data:(0,a.hexlify)(e),commitment:(0,a.hexlify)(s),proof:o}),r.push(g(1,s))}else{const e=(0,a.hexlify)(i.commitment);t.push({data:(0,a.hexlify)(i.data),commitment:e,proof:(0,a.hexlify)(i.proof)}),r.push(g(1,e))}}this.#ut=t,this.#ot=r}get kzg(){return this.#ct}set kzg(e){this.#ct=e}constructor(){this.#$e=null,this.#Ze=null,this.#Ye=0,this.#Xe=u,this.#et=null,this.#tt=null,this.#rt=null,this.#r="0x",this.#nt=u,this.#re=u,this.#it=null,this.#st=null,this.#at=null,this.#ot=null,this.#ut=null,this.#ct=null}get hash(){return null==this.signature?null:(0,s.keccak256)(this.#lt(!0,!1))}get unsignedHash(){return(0,s.keccak256)(this.unsignedSerialized)}get from(){return null==this.signature?null:(0,c.recoverAddress)(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:s.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#lt(e,t){(0,a.assert)(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const r=[A(e.nonce,"nonce"),A(e.gasPrice||0,"gasPrice"),A(e.gasLimit,"gasLimit"),e.to||"0x",A(e.value,"value"),e.data];let n=u;if(e.chainId!=u)n=(0,a.getBigInt)(e.chainId,"tx.chainId"),(0,a.assertArgument)(!t||null==t.networkV||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(n=t)}if(!t)return n!==u&&(r.push((0,a.toBeArray)(n)),r.push("0x"),r.push("0x")),(0,a.encodeRlp)(r);let i=BigInt(27+t.yParity);return n!==u?i=s.Signature.getChainIdV(n,t.v):BigInt(t.v)!==i&&(0,a.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",t),r.push((0,a.toBeArray)(i)),r.push((0,a.toBeArray)(t.r)),r.push((0,a.toBeArray)(t.s)),(0,a.encodeRlp)(r)}(this,r);case 1:return function(e,t){const r=[A(e.chainId,"chainId"),A(e.nonce,"nonce"),A(e.gasPrice||0,"gasPrice"),A(e.gasLimit,"gasLimit"),e.to||"0x",A(e.value,"value"),e.data,k(e.accessList||[])];return t&&(r.push(A(t.yParity,"recoveryParam")),r.push((0,a.toBeArray)(t.r)),r.push((0,a.toBeArray)(t.s))),(0,a.concat)(["0x01",(0,a.encodeRlp)(r)])}(this,r);case 2:return function(e,t){const r=[A(e.chainId,"chainId"),A(e.nonce,"nonce"),A(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),A(e.maxFeePerGas||0,"maxFeePerGas"),A(e.gasLimit,"gasLimit"),e.to||"0x",A(e.value,"value"),e.data,k(e.accessList||[])];return t&&(r.push(A(t.yParity,"yParity")),r.push((0,a.toBeArray)(t.r)),r.push((0,a.toBeArray)(t.s))),(0,a.concat)(["0x02",(0,a.encodeRlp)(r)])}(this,r);case 3:return function(e,t,r){const n=[A(e.chainId,"chainId"),A(e.nonce,"nonce"),A(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),A(e.maxFeePerGas||0,"maxFeePerGas"),A(e.gasLimit,"gasLimit"),e.to||i.ZeroAddress,A(e.value,"value"),e.data,k(e.accessList||[]),A(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),_(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(n.push(A(t.yParity,"yParity")),n.push((0,a.toBeArray)(t.r)),n.push((0,a.toBeArray)(t.s)),r)?(0,a.concat)(["0x03",(0,a.encodeRlp)([n,r.map((e=>e.data)),r.map((e=>e.commitment)),r.map((e=>e.proof))])]):(0,a.concat)(["0x03",(0,a.encodeRlp)(n)])}(this,r,t?this.blobs:null)}(0,a.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#lt(!0,!0)}get unsignedSerialized(){return this.#lt(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,n=null!=this.#at||this.#ot;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&(0,a.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,a.assert)(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,a.assert)(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):t?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(n&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return E.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new E;if("string"==typeof e){const t=(0,a.getBytes)(e);if(t[0]>=127)return E.from(function(e){const t=(0,a.decodeRlp)(e);(0,a.assertArgument)(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const r={type:0,nonce:w(t[0],"nonce"),gasPrice:v(t[1],"gasPrice"),gasLimit:v(t[2],"gasLimit"),to:m(t[3]),value:v(t[4],"value"),data:(0,a.hexlify)(t[5]),chainId:u};if(6===t.length)return r;const n=v(t[6],"v"),i=v(t[7],"r"),o=v(t[8],"s");if(i===u&&o===u)r.chainId=n;else{let e=(n-f)/l;e<u&&(e=u),r.chainId=e,(0,a.assertArgument)(e!==u||n===d||n===h,"non-canonical legacy v","v",t[6]),r.signature=s.Signature.from({r:(0,a.zeroPadValue)(t[7],32),s:(0,a.zeroPadValue)(t[8],32),v:n})}return r}(t));switch(t[0]){case 1:return E.from(function(e){const t=(0,a.decodeRlp)((0,a.getBytes)(e).slice(1));(0,a.assertArgument)(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",(0,a.hexlify)(e));const r={type:1,chainId:v(t[0],"chainId"),nonce:w(t[1],"nonce"),gasPrice:v(t[2],"gasPrice"),gasLimit:v(t[3],"gasLimit"),to:m(t[4]),value:v(t[5],"value"),data:(0,a.hexlify)(t[6]),accessList:b(t[7],"accessList")};return 8===t.length||P(r,t.slice(8)),r}(t));case 2:return E.from(function(e){const t=(0,a.decodeRlp)((0,a.getBytes)(e).slice(1));(0,a.assertArgument)(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",(0,a.hexlify)(e));const r={type:2,chainId:v(t[0],"chainId"),nonce:w(t[1],"nonce"),maxPriorityFeePerGas:v(t[2],"maxPriorityFeePerGas"),maxFeePerGas:v(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:v(t[4],"gasLimit"),to:m(t[5]),value:v(t[6],"value"),data:(0,a.hexlify)(t[7]),accessList:b(t[8],"accessList")};return 9===t.length||P(r,t.slice(9)),r}(t));case 3:return E.from(function(e){let t=(0,a.decodeRlp)((0,a.getBytes)(e).slice(1)),r="3",n=null;if(4===t.length&&Array.isArray(t[0])){r="3 (network format)";const e=t[1],i=t[2],s=t[3];(0,a.assertArgument)(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),(0,a.assertArgument)(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),(0,a.assertArgument)(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),(0,a.assertArgument)(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),(0,a.assertArgument)(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),n=[];for(let r=0;r<t[1].length;r++)n.push({data:e[r],commitment:i[r],proof:s[r]});t=t[0]}(0,a.assertArgument)(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${r}`,"data",(0,a.hexlify)(e));const i={type:3,chainId:v(t[0],"chainId"),nonce:w(t[1],"nonce"),maxPriorityFeePerGas:v(t[2],"maxPriorityFeePerGas"),maxFeePerGas:v(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:v(t[4],"gasLimit"),to:m(t[5]),value:v(t[6],"value"),data:(0,a.hexlify)(t[7]),accessList:b(t[8],"accessList"),maxFeePerBlobGas:v(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};n&&(i.blobs=n),(0,a.assertArgument)(null!=i.to,`invalid address for transaction type: ${r}`,"data",e),(0,a.assertArgument)(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<i.blobVersionedHashes.length;t++)(0,a.assertArgument)((0,a.isHexString)(i.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||P(i,t.slice(11)),i}(t))}(0,a.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new E;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=s.Signature.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&((0,a.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,a.assertArgument)(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&((0,a.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,a.assertArgument)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}t.Transaction=E},8567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBase58=t.encodeBase58=void 0;const n=r(7415),i=r(1500),s=r(6508),a="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let o=null;function c(e){if(null==o){o={};for(let e=0;e<58;e++)o[a[e]]=BigInt(e)}const t=o[e];return(0,i.assertArgument)(null!=t,"invalid base58 value","letter",e),t}const u=BigInt(0),l=BigInt(58);t.encodeBase58=function(e){const t=(0,n.getBytes)(e);let r=(0,s.toBigInt)(t),i="";for(;r;)i=a[Number(r%l)]+i,r/=l;for(let e=0;e<t.length&&!t[e];e++)i=a[0]+i;return i},t.decodeBase58=function(e){let t=u;for(let r=0;r<e.length;r++)t*=l,t+=c(e[r]);return t}},1949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeBase64=t.decodeBase64=void 0;const n=r(7415);t.decodeBase64=function(e){e=atob(e);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return(0,n.getBytes)(t)},t.encodeBase64=function(e){const t=(0,n.getBytes)(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}},7415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zeroPadBytes=t.zeroPadValue=t.stripZerosLeft=t.dataSlice=t.dataLength=t.concat=t.hexlify=t.isBytesLike=t.isHexString=t.getBytesCopy=t.getBytes=void 0;const n=r(1500);function i(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}(0,n.assertArgument)(!1,"invalid BytesLike value",t||"value",e)}function s(e,t){return i(e,t,!1)}function a(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||"number"==typeof t&&e.length!==2+2*t||!0===t&&e.length%2!=0)}t.getBytes=s,t.getBytesCopy=function(e,t){return i(e,t,!0)},t.isHexString=a,t.isBytesLike=function(e){return a(e,!0)||e instanceof Uint8Array};const o="0123456789abcdef";function c(e){const t=s(e);let r="0x";for(let e=0;e<t.length;e++){const n=t[e];r+=o[(240&n)>>4]+o[15&n]}return r}function u(e,t,r){const i=s(e);(0,n.assert)(t>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:t,offset:t+1});const a=new Uint8Array(t);return a.fill(0),r?a.set(i,t-i.length):a.set(i,0),c(a)}t.hexlify=c,t.concat=function(e){return"0x"+e.map((e=>c(e).substring(2))).join("")},t.dataLength=function(e){return a(e,!0)?(e.length-2)/2:s(e).length},t.dataSlice=function(e,t,r){const i=s(e);return null!=r&&r>i.length&&(0,n.assert)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:r}),c(i.slice(null==t?0:t,null==r?i.length:r))},t.stripZerosLeft=function(e){let t=c(e).substring(2);for(;t.startsWith("00");)t=t.substring(2);return"0x"+t},t.zeroPadValue=function(e,t){return u(e,t,!0)},t.zeroPadBytes=function(e,t){return u(e,t,!1)}},1500:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertPrivate=t.assertNormalize=t.assertArgumentCount=t.assertArgument=t.assert=t.makeError=t.isCallException=t.isError=void 0;const n=r(4586),i=r(8166);function s(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(s).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return s(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${s(t)}: ${s(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function a(e,t){return e&&e.code===t}function o(e,t,r){let a,o=e;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${s(r)}`);for(const e in r){if("shortMessage"===e)continue;const t=r[e];i.push(e+"="+s(t))}}i.push(`code=${t}`),i.push(`version=${n.version}`),i.length&&(e+=" ("+i.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":a=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":a=new RangeError(e);break;default:a=new Error(e)}return(0,i.defineProperties)(a,{code:t}),r&&Object.assign(a,r),null==a.shortMessage&&(0,i.defineProperties)(a,{shortMessage:o}),a}function c(e,t,r,n){if(!e)throw o(t,r,n)}t.isError=a,t.isCallException=function(e){return a(e,"CALL_EXCEPTION")},t.makeError=o,t.assert=c,t.assertArgument=function(e,t,r,n){c(e,t,"INVALID_ARGUMENT",{argument:r,value:n})},t.assertArgumentCount=function(e,t,r){null==r&&(r=""),r&&(r=": "+r),c(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),c(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})};const u=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);t.assertNormalize=function(e){c(u.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})},t.assertPrivate=function(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),c(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}},7698:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventPayload=void 0;const n=r(8166);t.EventPayload=class{filter;emitter;#dt;constructor(e,t,r){this.#dt=t,(0,n.defineProperties)(this,{emitter:e,filter:r})}async removeListener(){null!=this.#dt&&await this.emitter.off(this.filter,this.#dt)}}},5191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchResponse=t.FetchRequest=t.FetchCancelSignal=void 0;const n=r(1949),i=r(7415),s=r(1500),a=r(8166),o=r(3948),c=r(3271);let u=(0,c.createGetUrl)();const l=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),d=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let h=!1;async function f(e,t){try{const t=e.match(l);if(!t)throw new Error("invalid data");return new v(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?(0,n.decodeBase64)(t[3]):(r=t[3],(0,o.toUtf8Bytes)(r.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16)))))))}catch(t){return new v(599,"BAD REQUEST (invalid data: URI)",{},null,new w(e))}var r}function p(e){return async function(t,r){try{const r=t.match(d);if(!r)throw new Error("invalid link");return new w(`${e}${r[2]}`)}catch(e){return new v(599,"BAD REQUEST (invalid IPFS URI)",{},null,new w(t))}}}const y={data:f,ipfs:p("https://gateway.ipfs.io/ipfs/")},g=new WeakMap;class m{#ht;#ft;constructor(e){this.#ht=[],this.#ft=!1,g.set(e,(()=>{if(!this.#ft){this.#ft=!0;for(const e of this.#ht)setTimeout((()=>{e()}),0);this.#ht=[]}}))}addListener(e){(0,s.assert)(!this.#ft,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#ht.push(e)}get cancelled(){return this.#ft}checkSignal(){(0,s.assert)(!this.cancelled,"cancelled","CANCELLED",{})}}function b(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}t.FetchCancelSignal=m;class w{#pt;#yt;#gt;#mt;#bt;#ie;#wt;#vt;#At;#kt;#_t;#Pt;#Et;#St;#xt;get url(){return this.#ie}set url(e){this.#ie=String(e)}get body(){return null==this.#wt?null:new Uint8Array(this.#wt)}set body(e){if(null==e)this.#wt=void 0,this.#vt=void 0;else if("string"==typeof e)this.#wt=(0,o.toUtf8Bytes)(e),this.#vt="text/plain";else if(e instanceof Uint8Array)this.#wt=e,this.#vt="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#wt=(0,o.toUtf8Bytes)(JSON.stringify(e)),this.#vt="application/json"}}hasBody(){return null!=this.#wt}get method(){return this.#mt?this.#mt:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#mt=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#gt);return this.#At&&(e.authorization=`Basic ${(0,n.encodeBase64)((0,o.toUtf8Bytes)(this.#At))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#vt&&(e["content-type"]=this.#vt),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#gt[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#gt={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#At||null}setCredentials(e,t){(0,s.assertArgument)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#At=`${e}:${t}`}get allowGzip(){return this.#yt}set allowGzip(e){this.#yt=!!e}get allowInsecureAuthentication(){return!!this.#pt}set allowInsecureAuthentication(e){this.#pt=!!e}get timeout(){return this.#bt}set timeout(e){(0,s.assertArgument)(e>=0,"timeout must be non-zero","timeout",e),this.#bt=e}get preflightFunc(){return this.#kt||null}set preflightFunc(e){this.#kt=e}get processFunc(){return this.#_t||null}set processFunc(e){this.#_t=e}get retryFunc(){return this.#Pt||null}set retryFunc(e){this.#Pt=e}get getUrlFunc(){return this.#xt||u}set getUrlFunc(e){this.#xt=e}constructor(e){this.#ie=String(e),this.#pt=!1,this.#yt=!0,this.#gt={},this.#mt="",this.#bt=3e5,this.#St={slotInterval:250,maxAttempts:12},this.#xt=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#wt?(0,i.hexlify)(this.#wt):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#St.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#St.maxAttempts=e.maxAttempts)}async#Ct(e,t,r,n,i){if(e>=this.#St.maxAttempts)return i.makeServerError("exceeded maximum retry limit");(0,s.assert)(A()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(r);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in y){const e=await y[o](a.url,b(n.#Et));if(e instanceof v){let t=e;if(this.processFunc){b(n.#Et);try{t=await this.processFunc(a,t)}catch(e){null!=e.throttle&&"number"==typeof e.stall||t.makeServerError("error in post-processing function",e).assertOk()}}return t}a=e}this.preflightFunc&&(a=await this.preflightFunc(a));const c=await this.getUrlFunc(a,b(n.#Et));let u=new v(c.statusCode,c.statusMessage,c.headers,c.body,n);if(301===u.statusCode||302===u.statusCode){try{const r=u.headers.location||"";return a.redirect(r).#Ct(e+1,t,0,n,u)}catch(e){}return u}if(429===u.statusCode&&(null==this.retryFunc||await this.retryFunc(a,u,e))){const r=u.headers["retry-after"];let i=this.#St.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(i=parseInt(r)),a.clone().#Ct(e+1,t,i,n,u)}if(this.processFunc){b(n.#Et);try{u=await this.processFunc(a,u)}catch(r){null!=r.throttle&&"number"==typeof r.stall||u.makeServerError("error in post-processing function",r).assertOk();let i=this.#St.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return r.stall>=0&&(i=r.stall),a.clone().#Ct(e+1,t,i,n,u)}}return u}send(){return(0,s.assert)(null==this.#Et,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#Et=new m(this),this.#Ct(0,A()+this.timeout,0,this,new v(0,"",{},null,this))}cancel(){(0,s.assert)(null!=this.#Et,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=g.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();(0,s.assert)("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const n=new w(e);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#gt=Object.assign({},this.#gt),this.#wt&&(n.#wt=new Uint8Array(this.#wt)),n.#vt=this.#vt,n}clone(){const e=new w(this.url);return e.#mt=this.#mt,this.#wt&&(e.#wt=this.#wt),e.#vt=this.#vt,e.#gt=Object.assign({},this.#gt),e.#At=this.#At,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#kt=this.#kt,e.#_t=this.#_t,e.#Pt=this.#Pt,e.#St=Object.assign({},this.#St),e.#xt=this.#xt,e}static lockConfig(){h=!0}static getGateway(e){return y[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(h)throw new Error("gateways locked");y[e]=t}static registerGetUrl(e){if(h)throw new Error("gateways locked");u=e}static createGetUrlFunc(e){return(0,c.createGetUrl)(e)}static createDataGateway(){return f}static createIpfsGatewayFunc(e){return p(e)}}t.FetchRequest=w;class v{#Bt;#Ot;#gt;#wt;#ae;#Rt;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#wt?(0,i.hexlify)(this.#wt):"null"}>`}get statusCode(){return this.#Bt}get statusMessage(){return this.#Ot}get headers(){return Object.assign({},this.#gt)}get body(){return null==this.#wt?null:new Uint8Array(this.#wt)}get bodyText(){try{return null==this.#wt?"":(0,o.toUtf8String)(this.#wt)}catch(e){(0,s.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){(0,s.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,n,i){this.#Bt=e,this.#Ot=t,this.#gt=Object.keys(r).reduce(((e,t)=>(e[t.toLowerCase()]=String(r[t]),e)),{}),this.#wt=null==n?null:new Uint8Array(n),this.#ae=i||null,this.#Rt={message:""}}makeServerError(e,t){let r;r=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const n=new v(599,r,this.headers,this.body,this.#ae||void 0);return n.#Rt={message:e,error:t},n}throwThrottleError(e,t){null==t?t=-1:(0,s.assertArgument)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw(0,a.defineProperties)(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#wt}get request(){return this.#ae}ok(){return""===this.#Rt.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#Rt;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let n=null;try{this.#wt&&(n=(0,o.toUtf8String)(this.#wt))}catch(e){}(0,s.assert)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:n,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function A(){return(new Date).getTime()}t.FetchResponse=v},9412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedNumber=void 0;const n=r(7415),i=r(1500),s=r(6508),a=r(8166),o=BigInt(-1),c=BigInt(0),u=BigInt(1),l=BigInt(5),d={};let h="0000";for(;h.length<80;)h+=h;function f(e){let t=h;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function p(e,t,r){const n=BigInt(t.width);if(t.signed){const t=u<<n-u;(0,i.assert)(null==r||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=e>c?(0,s.fromTwos)((0,s.mask)(e,n),n):-(0,s.fromTwos)((0,s.mask)(-e,n),n)}else{const t=u<<n;(0,i.assert)(null==r||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=(e%t+t)%t&t-u}return e}function y(e){"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,i.assertArgument)(s,"invalid fixed format","format",e),t="u"!==s[1],r=parseInt(s[2]),n=parseInt(s[3])}else if(e){const s=e,a=(e,t,r)=>null==s[e]?r:((0,i.assertArgument)(typeof s[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,s[e]),s[e]);t=a("signed","boolean",t),r=a("width","number",r),n=a("decimals","number",n)}return(0,i.assertArgument)(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),(0,i.assertArgument)(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n),{signed:t,width:r,decimals:n,name:(t?"":"u")+"fixed"+String(r)+"x"+String(n)}}class g{format;#It;#Tt;#Mt;_value;constructor(e,t,r){(0,i.assertPrivate)(e,d,"FixedNumber"),this.#Tt=t,this.#It=r;const n=function(e,t){let r="";e<c&&(r="-",e*=o);let n=e.toString();if(0===t)return r+n;for(;n.length<=t;)n=h+n;const i=n.length-t;for(n=n.substring(0,i)+"."+n.substring(i);"0"===n[0]&&"."!==n[1];)n=n.substring(1);for(;"0"===n[n.length-1]&&"."!==n[n.length-2];)n=n.substring(0,n.length-1);return r+n}(t,r.decimals);(0,a.defineProperties)(this,{format:r.name,_value:n}),this.#Mt=f(r.decimals)}get signed(){return this.#It.signed}get width(){return this.#It.width}get decimals(){return this.#It.decimals}get value(){return this.#Tt}#Nt(e){(0,i.assertArgument)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#Dt(e,t){return e=p(e,this.#It,t),new g(d,e,this.#It)}#Ut(e,t){return this.#Nt(e),this.#Dt(this.#Tt+e.#Tt,t)}addUnsafe(e){return this.#Ut(e)}add(e){return this.#Ut(e,"add")}#jt(e,t){return this.#Nt(e),this.#Dt(this.#Tt-e.#Tt,t)}subUnsafe(e){return this.#jt(e)}sub(e){return this.#jt(e,"sub")}#Ft(e,t){return this.#Nt(e),this.#Dt(this.#Tt*e.#Tt/this.#Mt,t)}mulUnsafe(e){return this.#Ft(e)}mul(e){return this.#Ft(e,"mul")}mulSignal(e){this.#Nt(e);const t=this.#Tt*e.#Tt;return(0,i.assert)(t%this.#Mt===c,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#Dt(t/this.#Mt,"mulSignal")}#Kt(e,t){return(0,i.assert)(e.#Tt!==c,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#Nt(e),this.#Dt(this.#Tt*this.#Mt/e.#Tt,t)}divUnsafe(e){return this.#Kt(e)}div(e){return this.#Kt(e,"div")}divSignal(e){(0,i.assert)(e.#Tt!==c,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#Nt(e);const t=this.#Tt*this.#Mt;return(0,i.assert)(t%e.#Tt===c,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#Dt(t/e.#Tt,"divSignal")}cmp(e){let t=this.value,r=e.value;const n=this.decimals-e.decimals;return n>0?r*=f(n):n<0&&(t*=f(-n)),t<r?-1:t>r?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#Tt;return this.#Tt<c&&(e-=this.#Mt-u),e=this.#Tt/this.#Mt*this.#Mt,this.#Dt(e,"floor")}ceiling(){let e=this.#Tt;return this.#Tt>c&&(e+=this.#Mt-u),e=this.#Tt/this.#Mt*this.#Mt,this.#Dt(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=l*f(t-1);let n=this.value+r;const i=f(t);return n=n/i*i,p(n,this.#It,"round"),new g(d,n,this.#It)}isZero(){return this.#Tt===c}isNegative(){return this.#Tt<c}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return g.fromString(this.toString(),e)}static fromValue(e,t,r){const n=null==t?0:(0,s.getNumber)(t),a=y(r);let o=(0,s.getBigInt)(e,"value");const u=n-a.decimals;if(u>0){const t=f(u);(0,i.assert)(o%t===c,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=t}else u<0&&(o*=f(-u));return p(o,a,"fromValue"),new g(d,o,a)}static fromString(e,t){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,i.assertArgument)(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const n=y(t);let s=r[2]||"0",a=r[3]||"";for(;a.length<n.decimals;)a+=h;(0,i.assert)(a.substring(n.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,n.decimals);const o=BigInt(r[1]+s+a);return p(o,n,"fromString"),new g(d,o,n)}static fromBytes(e,t){let r=(0,s.toBigInt)((0,n.getBytes)(e,"value"));const i=y(t);return i.signed&&(r=(0,s.fromTwos)(r,i.width)),p(r,i,"fromBytes"),new g(d,r,i)}}t.FixedNumber=g},3271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrl=t.createGetUrl=void 0;const n=r(1500);function i(e){return async function(e,t){(0,n.assert)(null==t||!t.cancelled,"request cancelled before sending","CANCELLED");const r=e.url.split(":")[0].toLowerCase();(0,n.assert)("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),(0,n.assert)("https"===r||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const s=new AbortController,a=setTimeout((()=>{i=(0,n.makeError)("request timeout","TIMEOUT"),s.abort()}),e.timeout);t&&t.addListener((()=>{i=(0,n.makeError)("request cancelled","CANCELLED"),s.abort()}));const o={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:s.signal};let c;try{c=await fetch(e.url,o)}catch(e){if(clearTimeout(a),i)throw i;throw e}clearTimeout(a);const u={};c.headers.forEach(((e,t)=>{u[t.toLowerCase()]=e}));const l=await c.arrayBuffer(),d=null==l?null:new Uint8Array(l);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:d}}}t.createGetUrl=i;const s=i();t.getUrl=async function(e,t){return s(e,t)}},5347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.encodeRlp=t.decodeRlp=t.defineProperties=t.resolveProperties=t.toQuantity=t.toBeArray=t.toBeHex=t.toNumber=t.toBigInt=t.getUint=t.getNumber=t.getBigInt=t.mask=t.toTwos=t.fromTwos=t.FixedNumber=t.FetchCancelSignal=t.FetchResponse=t.FetchRequest=t.EventPayload=t.makeError=t.assertNormalize=t.assertPrivate=t.assertArgumentCount=t.assertArgument=t.assert=t.isError=t.isCallException=t.zeroPadBytes=t.zeroPadValue=t.stripZerosLeft=t.dataSlice=t.dataLength=t.concat=t.hexlify=t.isBytesLike=t.isHexString=t.getBytesCopy=t.getBytes=t.encodeBase64=t.decodeBase64=t.encodeBase58=t.decodeBase58=void 0,t.uuidV4=t.Utf8ErrorFuncs=void 0;var n=r(8567);Object.defineProperty(t,"decodeBase58",{enumerable:!0,get:function(){return n.decodeBase58}}),Object.defineProperty(t,"encodeBase58",{enumerable:!0,get:function(){return n.encodeBase58}});var i=r(1949);Object.defineProperty(t,"decodeBase64",{enumerable:!0,get:function(){return i.decodeBase64}}),Object.defineProperty(t,"encodeBase64",{enumerable:!0,get:function(){return i.encodeBase64}});var s=r(7415);Object.defineProperty(t,"getBytes",{enumerable:!0,get:function(){return s.getBytes}}),Object.defineProperty(t,"getBytesCopy",{enumerable:!0,get:function(){return s.getBytesCopy}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return s.isBytesLike}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return s.hexlify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return s.concat}}),Object.defineProperty(t,"dataLength",{enumerable:!0,get:function(){return s.dataLength}}),Object.defineProperty(t,"dataSlice",{enumerable:!0,get:function(){return s.dataSlice}}),Object.defineProperty(t,"stripZerosLeft",{enumerable:!0,get:function(){return s.stripZerosLeft}}),Object.defineProperty(t,"zeroPadValue",{enumerable:!0,get:function(){return s.zeroPadValue}}),Object.defineProperty(t,"zeroPadBytes",{enumerable:!0,get:function(){return s.zeroPadBytes}});var a=r(1500);Object.defineProperty(t,"isCallException",{enumerable:!0,get:function(){return a.isCallException}}),Object.defineProperty(t,"isError",{enumerable:!0,get:function(){return a.isError}}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return a.assert}}),Object.defineProperty(t,"assertArgument",{enumerable:!0,get:function(){return a.assertArgument}}),Object.defineProperty(t,"assertArgumentCount",{enumerable:!0,get:function(){return a.assertArgumentCount}}),Object.defineProperty(t,"assertPrivate",{enumerable:!0,get:function(){return a.assertPrivate}}),Object.defineProperty(t,"assertNormalize",{enumerable:!0,get:function(){return a.assertNormalize}}),Object.defineProperty(t,"makeError",{enumerable:!0,get:function(){return a.makeError}});var o=r(7698);Object.defineProperty(t,"EventPayload",{enumerable:!0,get:function(){return o.EventPayload}});var c=r(5191);Object.defineProperty(t,"FetchRequest",{enumerable:!0,get:function(){return c.FetchRequest}}),Object.defineProperty(t,"FetchResponse",{enumerable:!0,get:function(){return c.FetchResponse}}),Object.defineProperty(t,"FetchCancelSignal",{enumerable:!0,get:function(){return c.FetchCancelSignal}});var u=r(9412);Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return u.FixedNumber}});var l=r(6508);Object.defineProperty(t,"fromTwos",{enumerable:!0,get:function(){return l.fromTwos}}),Object.defineProperty(t,"toTwos",{enumerable:!0,get:function(){return l.toTwos}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return l.mask}}),Object.defineProperty(t,"getBigInt",{enumerable:!0,get:function(){return l.getBigInt}}),Object.defineProperty(t,"getNumber",{enumerable:!0,get:function(){return l.getNumber}}),Object.defineProperty(t,"getUint",{enumerable:!0,get:function(){return l.getUint}}),Object.defineProperty(t,"toBigInt",{enumerable:!0,get:function(){return l.toBigInt}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return l.toNumber}}),Object.defineProperty(t,"toBeHex",{enumerable:!0,get:function(){return l.toBeHex}}),Object.defineProperty(t,"toBeArray",{enumerable:!0,get:function(){return l.toBeArray}}),Object.defineProperty(t,"toQuantity",{enumerable:!0,get:function(){return l.toQuantity}});var d=r(8166);Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return d.resolveProperties}}),Object.defineProperty(t,"defineProperties",{enumerable:!0,get:function(){return d.defineProperties}});var h=r(7780);Object.defineProperty(t,"decodeRlp",{enumerable:!0,get:function(){return h.decodeRlp}});var f=r(5212);Object.defineProperty(t,"encodeRlp",{enumerable:!0,get:function(){return f.encodeRlp}});var p=r(436);Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return p.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return p.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return p.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return p.parseUnits}});var y=r(3948);Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return y.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return y.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return y.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return y.Utf8ErrorFuncs}});var g=r(7744);Object.defineProperty(t,"uuidV4",{enumerable:!0,get:function(){return g.uuidV4}})},6508:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toQuantity=t.toBeArray=t.toBeHex=t.toNumber=t.getNumber=t.toBigInt=t.getUint=t.getBigInt=t.mask=t.toTwos=t.fromTwos=void 0;const n=r(7415),i=r(1500),s=BigInt(0),a=BigInt(1),o=9007199254740991;function c(e,t){switch(typeof e){case"bigint":return e;case"number":return(0,i.assertArgument)(Number.isInteger(e),"underflow",t||"value",e),(0,i.assertArgument)(e>=-o&&e<=o,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(r){(0,i.assertArgument)(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}(0,i.assertArgument)(!1,"invalid BigNumberish value",t||"value",e)}function u(e,t){const r=c(e,t);return(0,i.assert)(r>=s,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}t.fromTwos=function(e,t){const r=u(e,"value"),n=BigInt(h(t,"width"));return(0,i.assert)(r>>n===s,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-a?-((~r&(a<<n)-a)+a):r},t.toTwos=function(e,t){let r=c(e,"value");const n=BigInt(h(t,"width")),o=a<<n-a;return r<s?(r=-r,(0,i.assert)(r<=o,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(a<<n)-a)+a):((0,i.assert)(r<o,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)},t.mask=function(e,t){const r=u(e,"value"),n=BigInt(h(t,"bits"));return r&(a<<n)-a},t.getBigInt=c,t.getUint=u;const l="0123456789abcdef";function d(e){if(e instanceof Uint8Array){let t="0x0";for(const r of e)t+=l[r>>4],t+=l[15&r];return BigInt(t)}return c(e)}function h(e,t){switch(typeof e){case"bigint":return(0,i.assertArgument)(e>=-o&&e<=o,"overflow",t||"value",e),Number(e);case"number":return(0,i.assertArgument)(Number.isInteger(e),"underflow",t||"value",e),(0,i.assertArgument)(e>=-o&&e<=o,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return h(BigInt(e),t)}catch(r){(0,i.assertArgument)(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}(0,i.assertArgument)(!1,"invalid numeric value",t||"value",e)}function f(e){const t=u(e,"value");if(t===s)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=2*e;n[e]=parseInt(r.substring(t,t+2),16)}return n}t.toBigInt=d,t.getNumber=h,t.toNumber=function(e){return h(d(e))},t.toBeHex=function(e,t){let r=u(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{const n=h(t,"width");for((0,i.assert)(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r},t.toBeArray=f,t.toQuantity=function(e){let t=(0,n.hexlify)((0,n.isBytesLike)(e)?e:f(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}},8166:(e,t)=>{"use strict";function r(e,t,r){const n=t.split("|").map((e=>e.trim()));for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}Object.defineProperty(t,"__esModule",{value:!0}),t.defineProperties=t.resolveProperties=void 0,t.resolveProperties=async function(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,r,n)=>(e[t[n]]=r,e)),{})},t.defineProperties=function(e,t,n){for(let i in t){let s=t[i];const a=n?n[i]:null;a&&r(s,a,i),Object.defineProperty(e,i,{enumerable:!0,value:s,writable:!1})}}},7780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeRlp=void 0;const n=r(7415),i=r(1500),s=r(7415);function a(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function o(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function c(e,t,r,n){const s=[];for(;r<t+1+n;){const a=u(e,r);s.push(a.result),r+=a.consumed,(0,i.assert)(r<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:s}}function u(e,t){(0,i.assert)(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const r=t=>{(0,i.assert)(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const n=e[t]-247;r(t+1+n);const i=o(e,t+1,n);return r(t+1+n+i),c(e,t,t+1+n,n+i)}if(e[t]>=192){const n=e[t]-192;return r(t+1+n),c(e,t,t+1,n)}if(e[t]>=184){const i=e[t]-183;r(t+1+i);const s=o(e,t+1,i);return r(t+1+i+s),{consumed:1+i+s,result:(0,n.hexlify)(e.slice(t+1+i,t+1+i+s))}}if(e[t]>=128){const i=e[t]-128;return r(t+1+i),{consumed:1+i,result:(0,n.hexlify)(e.slice(t+1,t+1+i))}}return{consumed:1,result:a(e[t])}}t.decodeRlp=function(e){const t=(0,s.getBytes)(e,"data"),r=u(t,0);return(0,i.assertArgument)(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}},5212:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeRlp=void 0;const n=r(7415);function i(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function s(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(s(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=i(t.length);return r.unshift(247+r.length),r.concat(t)}const t=Array.prototype.slice.call((0,n.getBytes)(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=i(t.length);return r.unshift(183+r.length),r.concat(t)}const a="0123456789abcdef";t.encodeRlp=function(e){let t="0x";for(const r of s(e))t+=a[r>>4],t+=a[15&r];return t}},436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEther=t.formatEther=t.parseUnits=t.formatUnits=void 0;const n=r(1500),i=r(9412),s=r(6508),a=["wei","kwei","mwei","gwei","szabo","finney","ether"];function o(e,t){let r=18;if("string"==typeof t){const e=a.indexOf(t);(0,n.assertArgument)(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=(0,s.getNumber)(t,"unit"));return i.FixedNumber.fromValue(e,r,{decimals:r,width:512}).toString()}function c(e,t){(0,n.assertArgument)("string"==typeof e,"value must be a string","value",e);let r=18;if("string"==typeof t){const e=a.indexOf(t);(0,n.assertArgument)(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=(0,s.getNumber)(t,"unit"));return i.FixedNumber.fromString(e,{decimals:r,width:512}).value}t.formatUnits=o,t.parseUnits=c,t.formatEther=function(e){return o(e,18)},t.parseEther=function(e){return c(e,18)}},3948:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8CodePoints=t.toUtf8String=t.toUtf8Bytes=t.Utf8ErrorFuncs=void 0;const n=r(7415),i=r(1500);function s(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}function a(e,r){null==r&&(r=t.Utf8ErrorFuncs.error);const i=(0,n.getBytes)(e,"bytes"),s=[];let a=0;for(;a<i.length;){const e=i[a++];if(!(e>>7)){s.push(e);continue}let t=null,n=null;if(192==(224&e))t=1,n=127;else if(224==(240&e))t=2,n=2047;else{if(240!=(248&e)){a+=r(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",a-1,i,s);continue}t=3,n=65535}if(a-1+t>=i.length){a+=r("OVERRUN",a-1,i,s);continue}let o=e&(1<<8-t-1)-1;for(let e=0;e<t;e++){let e=i[a];if(128!=(192&e)){a+=r("MISSING_CONTINUE",a,i,s),o=null;break}o=o<<6|63&e,a++}null!==o&&(o>1114111?a+=r("OUT_OF_RANGE",a-1-t,i,s,o):o>=55296&&o<=57343?a+=r("UTF16_SURROGATE",a-1-t,i,s,o):o<=n?a+=r("OVERLONG",a-1-t,i,s,o):s.push(o))}return s}function o(e,t){(0,i.assertArgument)("string"==typeof e,"invalid string value","str",e),null!=t&&((0,i.assertNormalize)(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const s=e.charCodeAt(t);(0,i.assertArgument)(t<e.length&&56320==(64512&s),"invalid surrogate pair","str",e);const a=65536+((1023&n)<<10)+(1023&s);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}t.Utf8ErrorFuncs=Object.freeze({error:function(e,t,r,n,s){(0,i.assertArgument)(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:s,replace:function(e,t,r,n,a){return"OVERLONG"===e?((0,i.assertArgument)("number"==typeof a,"invalid bad code point for replacement","badCodepoint",a),n.push(a),0):(n.push(65533),s(e,t,r))}}),t.toUtf8Bytes=o,t.toUtf8String=function(e,t){return a(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")},t.toUtf8CodePoints=function(e,t){return a(o(e,t))}},7744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuidV4=void 0;const n=r(7415);t.uuidV4=function(e){const t=(0,n.getBytes)(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=(0,n.hexlify)(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}},8394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseWallet=void 0;const n=r(646),i=r(1181),s=r(3996),a=r(7778),o=r(5347);class c extends s.AbstractSigner{address;#Lt;constructor(e,t){super(t),(0,o.assertArgument)(e&&"function"==typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#Lt=e;const r=(0,a.computeAddress)(this.signingKey.publicKey);(0,o.defineProperties)(this,{address:r})}get signingKey(){return this.#Lt}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new c(this.#Lt,e)}async signTransaction(e){e=(0,s.copyRequest)(e);const{to:t,from:r}=await(0,o.resolveProperties)({to:e.to?(0,n.resolveAddress)(e.to,this.provider):void 0,from:e.from?(0,n.resolveAddress)(e.from,this.provider):void 0});null!=t&&(e.to=t),null!=r&&(e.from=r),null!=e.from&&((0,o.assertArgument)((0,n.getAddress)(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);const i=a.Transaction.from(e);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign((0,i.hashMessage)(e)).serialized}async signTypedData(e,t,r){const n=await i.TypedDataEncoder.resolveNames(e,t,r,(async e=>{(0,o.assert)(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});const t=await this.provider.resolveName(e);return(0,o.assert)(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t}));return this.signingKey.sign(i.TypedDataEncoder.hash(n.domain,t,n.value)).serialized}}t.BaseWallet=c},22:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIndexedAccountPath=t.getAccountPath=t.HDNodeVoidWallet=t.HDNodeWallet=t.defaultPath=void 0;const n=r(2291),i=r(3996),s=r(7778),a=r(5347),o=r(9943),c=r(8394),u=r(2931),l=r(1650);t.defaultPath="m/44'/60'/0'/0/0";const d=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),h=2147483648,f=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function p(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function y(e){const t=(0,a.getBytes)(e),r=(0,a.dataSlice)((0,n.sha256)((0,n.sha256)(t)),0,4),i=(0,a.concat)([t,r]);return(0,a.encodeBase58)(i)}const g={};function m(e,t,r,i){const s=new Uint8Array(37);e&h?((0,a.assert)(null!=i,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set((0,a.getBytes)(i),1)):s.set((0,a.getBytes)(r));for(let t=24;t>=0;t-=8)s[33+(t>>3)]=e>>24-t&255;const o=(0,a.getBytes)((0,n.computeHmac)("sha512",t,s));return{IL:o.slice(0,32),IR:o.slice(32)}}function b(e,t){const r=t.split("/");(0,a.assertArgument)(r.length>0,"invalid path","path",t),"m"===r[0]&&((0,a.assertArgument)(0===e.depth,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t),r.shift());let n=e;for(let e=0;e<r.length;e++){const t=r[e];if(t.match(/^[0-9]+'$/)){const r=parseInt(t.substring(0,t.length-1));(0,a.assertArgument)(r<h,"invalid path index",`path[${e}]`,t),n=n.deriveChild(h+r)}else if(t.match(/^[0-9]+$/)){const r=parseInt(t);(0,a.assertArgument)(r<h,"invalid path index",`path[${e}]`,t),n=n.deriveChild(r)}else(0,a.assertArgument)(!1,"invalid path component",`path[${e}]`,t)}return n}class w extends c.BaseWallet{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,r,i,s,o,c,u,l){super(t,l),(0,a.assertPrivate)(e,g,"HDNodeWallet"),(0,a.defineProperties)(this,{publicKey:t.compressedPublicKey});const d=(0,a.dataSlice)((0,n.ripemd160)((0,n.sha256)(this.publicKey)),0,4);(0,a.defineProperties)(this,{parentFingerprint:r,fingerprint:d,chainCode:i,path:s,index:o,depth:c}),(0,a.defineProperties)(this,{mnemonic:u})}connect(e){return new w(g,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#zt(){const e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await(0,l.encryptKeystoreJson)(this.#zt(),e,{progressCallback:t})}encryptSync(e){return(0,l.encryptKeystoreJsonSync)(this.#zt(),e)}get extendedKey(){return(0,a.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),y((0,a.concat)(["0x0488ADE4",p(this.depth,1),this.parentFingerprint,p(this.index,4),this.chainCode,(0,a.concat)(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new v(g,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const t=(0,a.getNumber)(e,"index");(0,a.assertArgument)(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(2147483647&t),t&h&&(r+="'"));const{IR:i,IL:s}=m(t,this.chainCode,this.publicKey,this.privateKey),o=new n.SigningKey((0,a.toBeHex)(((0,a.toBigInt)(s)+BigInt(this.privateKey))%f,32));return new w(g,o,this.fingerprint,(0,a.hexlify)(i),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return b(this,e)}static#qt(e,t){(0,a.assertArgument)((0,a.isBytesLike)(e),"invalid seed","seed","[REDACTED]");const r=(0,a.getBytes)(e,"seed");(0,a.assertArgument)(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");const i=(0,a.getBytes)((0,n.computeHmac)("sha512",d,r)),s=new n.SigningKey((0,a.hexlify)(i.slice(0,32)));return new w(g,s,"0x00000000",(0,a.hexlify)(i.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){const t=(0,a.toBeArray)((0,a.decodeBase58)(e));(0,a.assertArgument)(82===t.length||y(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const r=t[4],i=(0,a.hexlify)(t.slice(5,9)),o=parseInt((0,a.hexlify)(t.slice(9,13)).substring(2),16),c=(0,a.hexlify)(t.slice(13,45)),u=t.slice(45,78);switch((0,a.hexlify)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const e=(0,a.hexlify)(u);return new v(g,(0,s.computeAddress)(e),e,i,c,null,o,r,null)}case"0x0488ade4":case"0x04358394 ":if(0!==u[0])break;return new w(g,new n.SigningKey(u.slice(1)),i,c,null,o,r,null,null)}(0,a.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,r,i){null==e&&(e=""),null==r&&(r=t.defaultPath),null==i&&(i=o.LangEn.wordlist());const s=u.Mnemonic.fromEntropy((0,n.randomBytes)(16),e,i);return w.#qt(s.computeSeed(),s).derivePath(r)}static fromMnemonic(e,r){return r||(r=t.defaultPath),w.#qt(e.computeSeed(),e).derivePath(r)}static fromPhrase(e,r,n,i){null==r&&(r=""),null==n&&(n=t.defaultPath),null==i&&(i=o.LangEn.wordlist());const s=u.Mnemonic.fromPhrase(e,r,i);return w.#qt(s.computeSeed(),s).derivePath(n)}static fromSeed(e){return w.#qt(e,null)}}t.HDNodeWallet=w;class v extends i.VoidSigner{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,r,i,s,o,c,u,l){super(t,l),(0,a.assertPrivate)(e,g,"HDNodeVoidWallet"),(0,a.defineProperties)(this,{publicKey:r});const d=(0,a.dataSlice)((0,n.ripemd160)((0,n.sha256)(r)),0,4);(0,a.defineProperties)(this,{publicKey:r,fingerprint:d,parentFingerprint:i,chainCode:s,path:o,index:c,depth:u})}connect(e){return new v(g,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return(0,a.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),y((0,a.concat)(["0x0488B21E",p(this.depth,1),this.parentFingerprint,p(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){const t=(0,a.getNumber)(e,"index");(0,a.assertArgument)(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(2147483647&t),t&h&&(r+="'"));const{IR:i,IL:o}=m(t,this.chainCode,this.publicKey,null),c=n.SigningKey.addPoints(o,this.publicKey,!0),u=(0,s.computeAddress)(c);return new v(g,u,c,this.fingerprint,(0,a.hexlify)(i),r,t,this.depth+1,this.provider)}derivePath(e){return b(this,e)}}t.HDNodeVoidWallet=v,t.getAccountPath=function(e){const t=(0,a.getNumber)(e,"index");return(0,a.assertArgument)(t>=0&&t<h,"invalid account index","index",t),`m/44'/60'/${t}'/0/0`},t.getIndexedAccountPath=function(e){const t=(0,a.getNumber)(e,"index");return(0,a.assertArgument)(t>=0&&t<h,"invalid account index","index",t),`m/44'/60'/0'/0/${t}`}},3279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wallet=t.Mnemonic=t.encryptKeystoreJsonSync=t.encryptKeystoreJson=t.decryptKeystoreJson=t.decryptKeystoreJsonSync=t.isKeystoreJson=t.decryptCrowdsaleJson=t.isCrowdsaleJson=t.HDNodeVoidWallet=t.HDNodeWallet=t.getIndexedAccountPath=t.getAccountPath=t.defaultPath=t.BaseWallet=void 0;var n=r(8394);Object.defineProperty(t,"BaseWallet",{enumerable:!0,get:function(){return n.BaseWallet}});var i=r(22);Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return i.defaultPath}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return i.getAccountPath}}),Object.defineProperty(t,"getIndexedAccountPath",{enumerable:!0,get:function(){return i.getIndexedAccountPath}}),Object.defineProperty(t,"HDNodeWallet",{enumerable:!0,get:function(){return i.HDNodeWallet}}),Object.defineProperty(t,"HDNodeVoidWallet",{enumerable:!0,get:function(){return i.HDNodeVoidWallet}});var s=r(7570);Object.defineProperty(t,"isCrowdsaleJson",{enumerable:!0,get:function(){return s.isCrowdsaleJson}}),Object.defineProperty(t,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return s.decryptCrowdsaleJson}});var a=r(1650);Object.defineProperty(t,"isKeystoreJson",{enumerable:!0,get:function(){return a.isKeystoreJson}}),Object.defineProperty(t,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return a.decryptKeystoreJsonSync}}),Object.defineProperty(t,"decryptKeystoreJson",{enumerable:!0,get:function(){return a.decryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJson",{enumerable:!0,get:function(){return a.encryptKeystoreJson}}),Object.defineProperty(t,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return a.encryptKeystoreJsonSync}});var o=r(2931);Object.defineProperty(t,"Mnemonic",{enumerable:!0,get:function(){return o.Mnemonic}});var c=r(6930);Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return c.Wallet}})},7570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decryptCrowdsaleJson=t.isCrowdsaleJson=void 0;const n=r(8165),i=r(646),s=r(2291),a=r(1181),o=r(5347),c=r(8634);t.isCrowdsaleJson=function(e){try{if(JSON.parse(e).encseed)return!0}catch(e){}return!1},t.decryptCrowdsaleJson=function(e,t){const r=JSON.parse(e),u=(0,c.getPassword)(t),l=(0,i.getAddress)((0,c.spelunk)(r,"ethaddr:string!")),d=(0,c.looseArrayify)((0,c.spelunk)(r,"encseed:string!"));(0,o.assertArgument)(d&&d.length%16==0,"invalid encseed","json",e);const h=(0,o.getBytes)((0,s.pbkdf2)(u,u,2e3,32,"sha256")).slice(0,16),f=d.slice(0,16),p=d.slice(16),y=new n.CBC(h,f),g=(0,n.pkcs7Strip)((0,o.getBytes)(y.decrypt(p)));let m="";for(let e=0;e<g.length;e++)m+=String.fromCharCode(g[e]);return{address:l,privateKey:(0,a.id)(m)}}},1650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptKeystoreJson=t.encryptKeystoreJsonSync=t.decryptKeystoreJson=t.decryptKeystoreJsonSync=t.isKeystoreJson=void 0;const n=r(8165),i=r(646),s=r(2291),a=r(7778),o=r(5347),c=r(8634),u=r(4586),l="m/44'/60'/0'/0/0";function d(e,t){const r=(0,o.getBytes)(t),u=(0,c.spelunk)(e,"crypto.ciphertext:data!"),d=(0,o.hexlify)((0,s.keccak256)((0,o.concat)([r.slice(16,32),u]))).substring(2);(0,o.assertArgument)(d===(0,c.spelunk)(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const h=function(e,t,r){if("aes-128-ctr"===(0,c.spelunk)(e,"crypto.cipher:string")){const i=(0,c.spelunk)(e,"crypto.cipherparams.iv:data!"),s=new n.CTR(t,i);return(0,o.hexlify)(s.decrypt(r))}(0,o.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,r.slice(0,16),u),f=(0,a.computeAddress)(h);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),(0,o.assertArgument)((0,i.getAddress)(t)===f,"keystore address/privateKey mismatch","address",e.address)}const p={address:f,privateKey:h};if("0.1"===(0,c.spelunk)(e,"x-ethers.version:string")){const t=r.slice(32,64),i=(0,c.spelunk)(e,"x-ethers.mnemonicCiphertext:data!"),s=(0,c.spelunk)(e,"x-ethers.mnemonicCounter:data!"),a=new n.CTR(t,s);p.mnemonic={path:(0,c.spelunk)(e,"x-ethers.path:string")||l,locale:(0,c.spelunk)(e,"x-ethers.locale:string")||"en",entropy:(0,o.hexlify)((0,o.getBytes)(a.decrypt(i)))}}return p}function h(e){const t=(0,c.spelunk)(e,"crypto.kdf:string");if(t&&"string"==typeof t){if("scrypt"===t.toLowerCase()){const r=(0,c.spelunk)(e,"crypto.kdfparams.salt:data!"),n=(0,c.spelunk)(e,"crypto.kdfparams.n:int!"),i=(0,c.spelunk)(e,"crypto.kdfparams.r:int!"),s=(0,c.spelunk)(e,"crypto.kdfparams.p:int!");(0,o.assertArgument)(n>0&&!(n&n-1),"invalid kdf.N","kdf.N",n),(0,o.assertArgument)(i>0&&s>0,"invalid kdf","kdf",t);const a=(0,c.spelunk)(e,"crypto.kdfparams.dklen:int!");return(0,o.assertArgument)(32===a,"invalid kdf.dklen","kdf.dflen",a),{name:"scrypt",salt:r,N:n,r:i,p:s,dkLen:64}}if("pbkdf2"===t.toLowerCase()){const t=(0,c.spelunk)(e,"crypto.kdfparams.salt:data!"),r=(0,c.spelunk)(e,"crypto.kdfparams.prf:string!"),n=r.split("-").pop();(0,o.assertArgument)("sha256"===n||"sha512"===n,"invalid kdf.pdf","kdf.pdf",r);const i=(0,c.spelunk)(e,"crypto.kdfparams.c:int!"),s=(0,c.spelunk)(e,"crypto.kdfparams.dklen:int!");return(0,o.assertArgument)(32===s,"invalid kdf.dklen","kdf.dklen",s),{name:"pbkdf2",salt:t,count:i,dkLen:s,algorithm:n}}}(0,o.assertArgument)(!1,"unsupported key-derivation function","kdf",t)}function f(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}function p(e){const t=null!=e.salt?(0,o.getBytes)(e.salt,"options.salt"):(0,s.randomBytes)(32);let r=1<<17,n=8,i=1;return e.scrypt&&(e.scrypt.N&&(r=e.scrypt.N),e.scrypt.r&&(n=e.scrypt.r),e.scrypt.p&&(i=e.scrypt.p)),(0,o.assertArgument)("number"==typeof r&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),(0,o.assertArgument)("number"==typeof n&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),(0,o.assertArgument)("number"==typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:t,N:r,r:n,p:i}}function y(e,t,r,i){const a=(0,o.getBytes)(r.privateKey,"privateKey"),d=null!=i.iv?(0,o.getBytes)(i.iv,"options.iv"):(0,s.randomBytes)(16);(0,o.assertArgument)(16===d.length,"invalid options.iv length","options.iv",i.iv);const h=null!=i.uuid?(0,o.getBytes)(i.uuid,"options.uuid"):(0,s.randomBytes)(16);(0,o.assertArgument)(16===h.length,"invalid options.uuid length","options.uuid",i.iv);const f=e.slice(0,16),p=e.slice(16,32),y=new n.CTR(f,d),g=(0,o.getBytes)(y.encrypt(a)),m=(0,s.keccak256)((0,o.concat)([p,g])),b={address:r.address.substring(2).toLowerCase(),id:(0,o.uuidV4)(h),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,o.hexlify)(d).substring(2)},ciphertext:(0,o.hexlify)(g).substring(2),kdf:"scrypt",kdfparams:{salt:(0,o.hexlify)(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:m.substring(2)}};if(r.mnemonic){const t=null!=i.client?i.client:`ethers/${u.version}`,a=r.mnemonic.path||l,d=r.mnemonic.locale||"en",h=e.slice(32,64),f=(0,o.getBytes)(r.mnemonic.entropy,"account.mnemonic.entropy"),p=(0,s.randomBytes)(16),y=new n.CTR(h,p),g=(0,o.getBytes)(y.encrypt(f)),m=new Date,w="UTC--"+m.getUTCFullYear()+"-"+(0,c.zpad)(m.getUTCMonth()+1,2)+"-"+(0,c.zpad)(m.getUTCDate(),2)+"T"+(0,c.zpad)(m.getUTCHours(),2)+"-"+(0,c.zpad)(m.getUTCMinutes(),2)+"-"+(0,c.zpad)(m.getUTCSeconds(),2)+".0Z--"+b.address;b["x-ethers"]={client:t,gethFilename:w,path:a,locale:d,mnemonicCounter:(0,o.hexlify)(p).substring(2),mnemonicCiphertext:(0,o.hexlify)(g).substring(2),version:"0.1"}}return JSON.stringify(b)}t.isKeystoreJson=function(e){try{const t=JSON.parse(e);if(3===(null!=t.version?parseInt(t.version):0))return!0}catch(e){}return!1},t.decryptKeystoreJsonSync=function(e,t){const r=JSON.parse(e),n=(0,c.getPassword)(t),i=h(r);if("pbkdf2"===i.name){const{salt:e,count:t,dkLen:a,algorithm:o}=i;return d(r,(0,s.pbkdf2)(n,e,t,a,o))}(0,o.assert)("scrypt"===i.name,"cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:a,N:u,r:l,p:f,dkLen:p}=i;return d(r,(0,s.scryptSync)(n,a,u,l,f,p))},t.decryptKeystoreJson=async function(e,t,r){const n=JSON.parse(e),i=(0,c.getPassword)(t),a=h(n);if("pbkdf2"===a.name){r&&(r(0),await f(0));const{salt:e,count:t,dkLen:o,algorithm:c}=a,u=(0,s.pbkdf2)(i,e,t,o,c);return r&&(r(1),await f(0)),d(n,u)}(0,o.assert)("scrypt"===a.name,"cannot be reached","UNKNOWN_ERROR",{params:a});const{salt:u,N:l,r:p,p:y,dkLen:g}=a;return d(n,await(0,s.scrypt)(i,u,l,p,y,g,r))},t.encryptKeystoreJsonSync=function(e,t,r){null==r&&(r={});const n=(0,c.getPassword)(t),i=p(r),a=(0,s.scryptSync)(n,i.salt,i.N,i.r,i.p,64);return y((0,o.getBytes)(a),i,e,r)},t.encryptKeystoreJson=async function(e,t,r){null==r&&(r={});const n=(0,c.getPassword)(t),i=p(r),a=await(0,s.scrypt)(n,i.salt,i.N,i.r,i.p,64,r.progressCallback);return y((0,o.getBytes)(a),i,e,r)}},2931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mnemonic=void 0;const n=r(2291),i=r(5347),s=r(9943);function a(e){return(1<<e)-1<<8-e&255}function o(e,t){(0,i.assertNormalize)("NFKD"),null==t&&(t=s.LangEn.wordlist());const r=t.split(e);(0,i.assertArgument)(r.length%3==0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const o=new Uint8Array(Math.ceil(11*r.length/8));let c=0;for(let e=0;e<r.length;e++){let n=t.getWordIndex(r[e].normalize("NFKD"));(0,i.assertArgument)(n>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++)n&1<<10-e&&(o[c>>3]|=1<<7-c%8),c++}const u=32*r.length/3,l=a(r.length/3),d=(0,i.getBytes)((0,n.sha256)(o.slice(0,u/8)))[0]&l;return(0,i.assertArgument)(d===(o[o.length-1]&l),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,i.hexlify)(o.slice(0,u/8))}function c(e,t){(0,i.assertArgument)(e.length%4==0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=s.LangEn.wordlist());const r=[0];let o=11;for(let t=0;t<e.length;t++)o>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],o-=8):(r[r.length-1]<<=o,r[r.length-1]|=e[t]>>8-o,r.push(e[t]&(1<<8-o)-1&255),o+=3);const c=e.length/4,u=parseInt((0,n.sha256)(e).substring(2,4),16)&a(c);return r[r.length-1]<<=c,r[r.length-1]|=u>>8-c,t.join(r.map((e=>t.getWord(e))))}const u={};class l{phrase;password;wordlist;entropy;constructor(e,t,r,n,a){null==n&&(n=""),null==a&&(a=s.LangEn.wordlist()),(0,i.assertPrivate)(e,u,"Mnemonic"),(0,i.defineProperties)(this,{phrase:r,password:n,wordlist:a,entropy:t})}computeSeed(){const e=(0,i.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,n.pbkdf2)((0,i.toUtf8Bytes)(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){const n=o(e,r);return e=c((0,i.getBytes)(n),r),new l(u,n,e,t,r)}static fromEntropy(e,t,r){const n=(0,i.getBytes)(e,"entropy"),s=c(n,r);return new l(u,(0,i.hexlify)(n),s,t,r)}static entropyToPhrase(e,t){return c((0,i.getBytes)(e,"entropy"),t)}static phraseToEntropy(e,t){return o(e,t)}static isValidMnemonic(e,t){try{return o(e,t),!0}catch(e){}return!1}}t.Mnemonic=l},8634:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spelunk=t.getPassword=t.zpad=t.looseArrayify=void 0;const n=r(5347);function i(e){return"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),(0,n.getBytesCopy)(e)}t.looseArrayify=i,t.zpad=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e},t.getPassword=function(e){return"string"==typeof e?(0,n.toUtf8Bytes)(e,"NFKC"):(0,n.getBytesCopy)(e)},t.spelunk=function(e,t){const r=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,n.assertArgument)(null!=r,"invalid path","path",t);const s=r[1],a=r[3],o="!"===r[4];let c=e;for(const e of s.toLowerCase().split(".")){if(Array.isArray(c)){if(!e.match(/^[0-9]+$/))break;c=c[parseInt(e)]}else if("object"==typeof c){let t=null;for(const r in c)if(r.toLowerCase()===e){t=c[r];break}c=t}else c=null;if(null==c)break}if((0,n.assertArgument)(!o||null!=c,"missing required value","path",s),a&&null!=c){if("int"===a){if("string"==typeof c&&c.match(/^-?[0-9]+$/))return parseInt(c);if(Number.isSafeInteger(c))return c}if("number"===a&&"string"==typeof c&&c.match(/^-?[0-9.]*$/))return parseFloat(c);if("data"===a&&"string"==typeof c)return i(c);if("array"===a&&Array.isArray(c))return c;if(a===typeof c)return c;(0,n.assertArgument)(!1,`wrong type found for ${a} `,"path",s)}return c}},6930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wallet=void 0;const n=r(2291),i=r(5347),s=r(8394),a=r(22),o=r(7570),c=r(1650),u=r(2931);function l(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}class d extends s.BaseWallet{constructor(e,t){"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),super("string"==typeof e?new n.SigningKey(e):e,t)}connect(e){return new d(this.signingKey,e)}async encrypt(e,t){const r={address:this.address,privateKey:this.privateKey};return await(0,c.encryptKeystoreJson)(r,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return(0,c.encryptKeystoreJsonSync)(t,e)}static#Ht(e){if((0,i.assertArgument)(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){const t=u.Mnemonic.fromEntropy(e.mnemonic.entropy),r=a.HDNodeWallet.fromMnemonic(t,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new d(e.privateKey);return(0,i.assertArgument)(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,r){let n=null;return(0,c.isKeystoreJson)(e)?n=await(0,c.decryptKeystoreJson)(e,t,r):(0,o.isCrowdsaleJson)(e)&&(r&&(r(0),await l(0)),n=(0,o.decryptCrowdsaleJson)(e,t),r&&(r(1),await l(0))),d.#Ht(n)}static fromEncryptedJsonSync(e,t){let r=null;return(0,c.isKeystoreJson)(e)?r=(0,c.decryptKeystoreJsonSync)(e,t):(0,o.isCrowdsaleJson)(e)?r=(0,o.decryptCrowdsaleJson)(e,t):(0,i.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),d.#Ht(r)}static createRandom(e){const t=a.HDNodeWallet.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const r=a.HDNodeWallet.fromPhrase(e);return t?r.connect(t):r}}t.Wallet=d},9610:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBits=void 0,t.decodeBits=function(e,t){const r=(1<<e)-1,n=[];let i=0,s=0,a=0;for(let o=0;o<t.length;o++)for(i=i<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(t[o]),s+=6;s>=e;){const t=i>>s-e;i&=(1<<s-e)-1,s-=e,0===t?a+=r:(n.push(t+a),a=0)}return n}},2426:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeOwl=t.decode=void 0;const n=r(5347),i=/^[a-z]*$/i;function s(e,t){let r=97;return e.reduce(((e,n)=>(n===t?r++:n.match(i)?e.push(String.fromCharCode(r)+n):(r=97,e.push(n)),e)),[])}function a(e,t){for(let r=28;r>=0;r--)e=e.split(" !#$%&'()*+,-./<=>?@[]^_`{|}~"[r]).join(t.substring(2*r,2*r+2));const r=[],n=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,((e,t,n,i)=>{if(n)for(let e=parseInt(n);e>=0;e--)r.push(";");else r.push(t.toLowerCase());return""}));if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return s(s(r,";"),":")}t.decode=a,t.decodeOwl=function(e){return(0,n.assertArgument)("0"===e[0],"unsupported auwl data","data",e),a(e.substring(59),e.substring(1,59))}},7703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeOwlA=void 0;const n=r(5347),i=r(9610),s=r(2426);t.decodeOwlA=function(e,t){let r=(0,s.decodeOwl)(e).join(",");return t.split(/,/g).forEach((e=>{const s=e.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,n.assertArgument)(null!==s,"internal error parsing accents","accents",t);let a=0;const o=(0,i.decodeBits)(parseInt(s[3]),s[4]),c=parseInt(s[2]),u=new RegExp(`([${s[1]}])`,"g");r=r.replace(u,((e,t)=>(0==--o[a]&&(t=String.fromCharCode(t.charCodeAt(0),c),a++),t)))})),r.split(",")}},6591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wordlists=t.WordlistOwlA=t.WordlistOwl=t.LangEn=t.Wordlist=void 0;var n=r(9011);Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return n.Wordlist}});var i=r(9943);Object.defineProperty(t,"LangEn",{enumerable:!0,get:function(){return i.LangEn}});var s=r(2684);Object.defineProperty(t,"WordlistOwl",{enumerable:!0,get:function(){return s.WordlistOwl}});var a=r(8725);Object.defineProperty(t,"WordlistOwlA",{enumerable:!0,get:function(){return a.WordlistOwlA}});var o=r(2431);Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return o.wordlists}})},9943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LangEn=void 0;const n=r(2684);let i=null;class s extends n.WordlistOwl{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==i&&(i=new s),i}}t.LangEn=s},2684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WordlistOwl=void 0;const n=r(1181),i=r(5347),s=r(2426),a=r(9011);class o extends a.Wordlist{#r;#Gt;constructor(e,t,r){super(e),this.#r=t,this.#Gt=r,this.#Wt=null}get _data(){return this.#r}_decodeWords(){return(0,s.decodeOwl)(this.#r)}#Wt;#Vt(){if(null==this.#Wt){const e=this._decodeWords();if((0,n.id)(e.join("\n")+"\n")!==this.#Gt)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#Wt=e}return this.#Wt}getWord(e){const t=this.#Vt();return(0,i.assertArgument)(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#Vt().indexOf(e)}}t.WordlistOwl=o},8725:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WordlistOwlA=void 0;const n=r(2684),i=r(7703);class s extends n.WordlistOwl{#Jt;constructor(e,t,r,n){super(e,t,n),this.#Jt=r}get _accent(){return this.#Jt}_decodeWords(){return(0,i.decodeOwlA)(this._data,this._accent)}}t.WordlistOwlA=s},9011:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wordlist=void 0;const n=r(5347);t.Wordlist=class{locale;constructor(e){(0,n.defineProperties)(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}},2431:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wordlists=void 0;const n=r(9943);t.wordlists={en:n.LangEn.wordlist()}},5604:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AEADEncryptedDataPacket:()=>_o,CleartextMessage:()=>Bc,CompressedDataPacket:()=>ho,LiteralDataPacket:()=>ro,MarkerPacket:()=>Ro,Message:()=>_c,OnePassSignaturePacket:()=>oo,PacketList:()=>uo,PrivateKey:()=>hc,PublicKey:()=>dc,PublicKeyEncryptedSessionKeyPacket:()=>Po,PublicKeyPacket:()=>Co,PublicSubkeyPacket:()=>Io,SecretKeyPacket:()=>Mo,SecretSubkeyPacket:()=>jo,Signature:()=>Lo,SignaturePacket:()=>so,Subkey:()=>ac,SymEncryptedIntegrityProtectedDataPacket:()=>Ao,SymEncryptedSessionKeyPacket:()=>xo,SymmetricallyEncryptedDataPacket:()=>Oo,TrustPacket:()=>Fo,UnparseablePacket:()=>si,UserAttributePacket:()=>To,UserIDPacket:()=>Uo,armor:()=>ye,config:()=>ae,createCleartextMessage:()=>Rc,createMessage:()=>xc,decrypt:()=>jc,decryptKey:()=>Nc,decryptSessionKeys:()=>qc,encrypt:()=>Uc,encryptKey:()=>Dc,encryptSessionKey:()=>zc,enums:()=>$,generateKey:()=>Ic,generateSessionKey:()=>Lc,readCleartextMessage:()=>Oc,readKey:()=>gc,readKeys:()=>bc,readMessage:()=>Sc,readPrivateKey:()=>mc,readPrivateKeys:()=>wc,readSignature:()=>zo,reformatKey:()=>Tc,revokeKey:()=>Mc,sign:()=>Fc,unarmor:()=>pe,verify:()=>Kc});const n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=Symbol("doneWritingPromise"),s=Symbol("doneWritingResolve"),a=Symbol("doneWritingReject"),o=Symbol("readingIndex");class c extends Array{constructor(){super(),this[i]=new Promise(((e,t)=>{this[s]=e,this[a]=t})),this[i].catch((()=>{}))}}function u(e){return e&&e.getReader&&Array.isArray(e)}function l(e){if(!u(e)){const t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch((function(){})),r.call(t)},t}this.stream=e}c.prototype.getReader=function(){return void 0===this[o]&&(this[o]=0),{read:async()=>(await this[i],this[o]===this.length?{value:void 0,done:!0}:{value:this[this[o]++],done:!1})}},c.prototype.readToEnd=async function(e){await this[i];const t=e(this.slice(this[o]));return this.length=0,t},c.prototype.clone=function(){const e=new c;return e[i]=this[i].then((()=>{e.push(...this)})),e},l.prototype.write=async function(e){this.stream.push(e)},l.prototype.close=async function(){this.stream[s]()},l.prototype.abort=async function(e){return this.stream[a](e),e},l.prototype.releaseLock=function(){};const d="object"==typeof n.process&&"object"==typeof n.process.versions,h=d&&void 0;function f(e){return u(e)?"array":n.ReadableStream&&n.ReadableStream.prototype.isPrototypeOf(e)?"web":E&&E.prototype.isPrototypeOf(e)?"ponyfill":h&&h.prototype.isPrototypeOf(e)?"node":!(!e||!e.getReader)&&"web-like"}function p(e){return Uint8Array.prototype.isPrototypeOf(e)}function y(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!p(e[r]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[r].length}const r=new Uint8Array(t);let n=0;return e.forEach((function(e){r.set(e,n),n+=e.length})),r}const g=d&&void 0,m=d&&void 0;let b,w;if(m){b=function(e){let t=!1;return new E({start(r){e.pause(),e.on("data",(n=>{t||(g.isBuffer(n)&&(n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),r.enqueue(n),e.pause())})),e.on("end",(()=>{t||r.close()})),e.on("error",(e=>r.error(e)))},pull(){e.resume()},cancel(r){t=!0,e.destroy(r)}})};class e extends m{constructor(e,t){super(t),this._reader=T(e)}async _read(e){try{for(;;){const{done:e,value:t}=await this._reader.read();if(e){this.push(null);break}if(!this.push(t))break}}catch(e){this.destroy(e)}}async _destroy(e,t){this._reader.cancel(e).then(t,t)}}w=function(t,r){return new e(t,r)}}const v=new WeakSet,A=Symbol("externalBuffer");function k(e){if(this.stream=e,e[A]&&(this[A]=e[A].slice()),u(e)){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{},void(this._cancel=async()=>{})}let t=f(e);if("node"===t&&(e=b(e)),t){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{t.closed.catch((function(){})),t.releaseLock()},void(this._cancel=t.cancel.bind(t))}let r=!1;this._read=async()=>r||v.has(e)?{value:void 0,done:!0}:(r=!0,{value:e,done:!1}),this._releaseLock=()=>{if(r)try{v.add(e)}catch(e){}}}k.prototype.read=async function(){return this[A]&&this[A].length?{done:!1,value:this[A].shift()}:this._read()},k.prototype.releaseLock=function(){this[A]&&(this.stream[A]=this[A]),this._releaseLock()},k.prototype.cancel=function(e){return this._cancel(e)},k.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?I(t):void 0;const i=n.indexOf("\n")+1;i&&(e=I(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e},k.prototype.readByte=async function(){const{done:e,value:t}=await this.read();if(e)return;const r=t[0];return this.unshift(H(t,1)),r},k.prototype.readBytes=async function(e){const t=[];let r=0;for(;;){const{done:n,value:i}=await this.read();if(n)return t.length?I(t):void 0;if(t.push(i),r+=i.length,r>=e){const r=I(t);return this.unshift(H(r,e)),H(r,0,e)}}},k.prototype.peekBytes=async function(e){const t=await this.readBytes(e);return this.unshift(t),t},k.prototype.unshift=function(...e){this[A]||(this[A]=[]),1===e.length&&p(e[0])&&this[A].length&&e[0].length&&this[A][0].byteOffset>=e[0].length?this[A][0]=new Uint8Array(this[A][0].buffer,this[A][0].byteOffset-e[0].length,this[A][0].byteLength+e[0].length):this[A].unshift(...e.filter((e=>e&&e.length)))},k.prototype.readToEnd=async function(e=I){const t=[];for(;;){const{done:e,value:r}=await this.read();if(e)break;t.push(r)}return e(t)};let _,P,{ReadableStream:E,WritableStream:S,TransformStream:x}=n;async function C(){if(x)return;const[e,t]=await Promise.all([Promise.resolve().then((function(){return Rh})),Promise.resolve().then((function(){return Yh}))]);({ReadableStream:E,WritableStream:S,TransformStream:x}=e);const{createReadableStreamWrapper:r}=t;n.ReadableStream&&E!==n.ReadableStream&&(_=r(E),P=r(n.ReadableStream))}const B=d&&void 0;function O(e){let t=f(e);return"node"===t?b(e):"web"===t&&_?_(e):t?e:new E({start(t){t.enqueue(e),t.close()}})}function R(e){if(f(e))return e;const t=new c;return(async()=>{const r=M(t);await r.write(e),await r.close()})(),t}function I(e){return e.some((e=>f(e)&&!u(e)))?function(e){e=e.map(O);const t=U((async function(e){await Promise.all(n.map((t=>W(t,e))))}));let r=Promise.resolve();const n=e.map(((n,i)=>F(n,((n,s)=>(r=r.then((()=>N(n,t.writable,{preventClose:i!==e.length-1}))),r)))));return t.readable}(e):e.some((e=>u(e)))?function(e){const t=new c;let r=Promise.resolve();return e.forEach(((n,i)=>(r=r.then((()=>N(n,t,{preventClose:i!==e.length-1}))),r))),t}(e):"string"==typeof e[0]?e.join(""):B&&B.isBuffer(e[0])?B.concat(e):y(e)}function T(e){return new k(e)}function M(e){return new l(e)}async function N(e,t,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(f(e)&&!u(e)){e=O(e);try{if(e[A]){const r=M(t);for(let t=0;t<e[A].length;t++)await r.ready,await r.write(e[A][t]);r.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:n,preventCancel:i})}catch(e){}return}const s=T(e=R(e)),a=M(t);try{for(;;){await a.ready;const{done:e,value:t}=await s.read();if(e){r||await a.close();break}await a.write(t)}}catch(e){n||await a.abort(e)}finally{s.releaseLock(),a.releaseLock()}}function D(e,t){const r=new x(t);return N(e,r.writable),r.readable}function U(e){let t,r,n,i=!1,s=!1;return{readable:new E({start(e){n=e},pull(){t?t():i=!0},async cancel(t){s=!0,e&&await e(t),r&&r(t)}},{highWaterMark:0}),writable:new S({write:async function(e){if(s)throw Error("Stream is cancelled");n.enqueue(e),i?i=!1:(await new Promise(((e,n)=>{t=e,r=n})),t=null,r=null)},close:n.close.bind(n),abort:n.error.bind(n)})}}function j(e,t=()=>{},r=()=>{}){if(u(e)){const n=new c;return(async()=>{const i=M(n);try{const n=await G(e),s=t(n),a=r();let o;o=void 0!==s&&void 0!==a?I([s,a]):void 0!==s?s:a,await i.write(o),await i.close()}catch(e){await i.abort(e)}})(),n}if(f(e))return D(e,{async transform(e,r){try{const n=await t(e);void 0!==n&&r.enqueue(n)}catch(e){r.error(e)}},async flush(e){try{const t=await r();void 0!==t&&e.enqueue(t)}catch(t){e.error(t)}}});const n=t(e),i=r();return void 0!==n&&void 0!==i?I([n,i]):void 0!==n?n:i}function F(e,t){if(f(e)&&!u(e)){let r;const n=new x({start(e){r=e}}),i=N(e,n.writable),s=U((async function(e){r.error(e),await i,await new Promise(setTimeout)}));return t(n.readable,s.writable),s.readable}e=R(e);const r=new c;return t(e,r),r}function K(e,t){let r;const n=F(e,((e,i)=>{const s=T(e);s.remainder=()=>(s.releaseLock(),N(e,i),n),r=t(s)}));return r}function L(e){if(u(e))return e.clone();if(f(e)){const t=function(e){if(u(e))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(f(e)){const t=O(e).tee();return t[0][A]=t[1][A]=e[A],t}return[H(e),H(e)]}(e);return q(e,t[0]),t[1]}return H(e)}function z(e){return u(e)?L(e):f(e)?new E({start(t){const r=F(e,(async(e,r)=>{const n=T(e),i=M(r);try{for(;;){await i.ready;const{done:r,value:s}=await n.read();if(r){try{t.close()}catch(e){}return void await i.close()}try{t.enqueue(s)}catch(e){}await i.write(s)}}catch(e){t.error(e),await i.abort(e)}}));q(e,r)}}):H(e)}function q(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach((([r,n])=>{"constructor"!==r&&(n.value?n.value=n.value.bind(t):n.get=n.get.bind(t),Object.defineProperty(e,r,n))}))}function H(e,t=0,r=1/0){if(u(e))throw Error("Not implemented");if(f(e)){if(t>=0&&r>=0){let n=0;return D(e,{transform(e,i){n<r?(n+e.length>=t&&i.enqueue(H(e,Math.max(t-n,0),r-n)),n+=e.length):i.terminate()}})}if(t<0&&(r<0||r===1/0)){let n=[];return j(e,(e=>{e.length>=-t?n=[e]:n.push(e)}),(()=>H(I(n),t,r)))}if(0===t&&r<0){let n;return j(e,(e=>{const i=n?I([n,e]):e;if(i.length>=-r)return n=H(i,r),H(i,t,r);n=i}))}return console.warn(`stream.slice(input, ${t}, ${r}) not implemented efficiently.`),V((async()=>H(await G(e),t,r)))}return e[A]&&(e=I(e[A].concat([e]))),!p(e)||B&&B.isBuffer(e)?e.slice(t,r):(r===1/0&&(r=e.length),e.subarray(t,r))}async function G(e,t=I){return u(e)?e.readToEnd(t):f(e)?T(e).readToEnd(t):e}async function W(e,t){if(f(e)){if(e.cancel)return e.cancel(t);if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function V(e){const t=new c;return(async()=>{const r=M(t);try{await r.write(await e()),await r.close()}catch(e){await r.abort(e)}})(),t}class J{constructor(e){if(void 0===e)throw Error("Invalid BigInteger input");if(e instanceof Uint8Array){const t=e,r=Array(t.length);for(let e=0;e<t.length;e++){const n=t[e].toString(16);r[e]=t[e]<=15?"0"+n:n}this.value=BigInt("0x0"+r.join(""))}else this.value=BigInt(e)}clone(){return new J(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(e){return this.value+=e.value,this}add(e){return this.clone().iadd(e)}isub(e){return this.value-=e.value,this}sub(e){return this.clone().isub(e)}imul(e){return this.value*=e.value,this}mul(e){return this.clone().imul(e)}imod(e){return this.value%=e.value,this.isNegative()&&this.iadd(e),this}mod(e){return this.clone().imod(e)}modExp(e,t){if(t.isZero())throw Error("Modulo cannot be zero");if(t.isOne())return new J(0);if(e.isNegative())throw Error("Unsopported negative exponent");let r=e.value,n=this.value;n%=t.value;let i=BigInt(1);for(;r>BigInt(0);){const e=r&BigInt(1);r>>=BigInt(1);const s=i*n%t.value;i=e?s:i,n=n*n%t.value}return new J(i)}modInv(e){const{gcd:t,x:r}=this._egcd(e);if(!t.isOne())throw Error("Inverse does not exist");return r.add(e).mod(e)}_egcd(e){let t=BigInt(0),r=BigInt(1),n=BigInt(1),i=BigInt(0),s=this.value;for(e=e.value;e!==BigInt(0);){const a=s/e;let o=t;t=n-a*t,n=o,o=r,r=i-a*r,i=o,o=e,e=s%e,s=o}return{x:new J(n),y:new J(i),gcd:new J(s)}}gcd(e){let t=this.value;for(e=e.value;e!==BigInt(0);){const r=e;e=t%e,t=r}return new J(t)}ileftShift(e){return this.value<<=e.value,this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value>>=e.value,this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value===e.value}lt(e){return this.value<e.value}lte(e){return this.value<=e.value}gt(e){return this.value>e.value}gte(e){return this.value>=e.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const e=this.clone();return this.isNegative()&&(e.value=-e.value),e}toString(){return this.value.toString()}toNumber(){const e=Number(this.value);if(e>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return e}getBit(e){return(this.value>>BigInt(e)&BigInt(1))===BigInt(0)?0:1}bitLength(){const e=new J(0),t=new J(1),r=new J(-1),n=this.isNegative()?r:e;let i=1;const s=this.clone();for(;!s.irightShift(t).equal(n);)i++;return i}byteLength(){const e=new J(0),t=new J(-1),r=this.isNegative()?t:e,n=new J(8);let i=1;const s=this.clone();for(;!s.irightShift(n).equal(r);)i++;return i}toUint8Array(e="be",t){let r=this.value.toString(16);r.length%2==1&&(r="0"+r);const n=r.length/2,i=new Uint8Array(t||n),s=t?t-n:0;let a=0;for(;a<n;)i[a+s]=parseInt(r.slice(2*a,2*a+2),16),a++;return"be"!==e&&i.reverse(),i}}const Q=Symbol("byValue");var $={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ed25519Legacy:"ed25519",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",curve25519Legacy:"curve25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsaLegacy:22,ed25519Legacy:22,eddsa:22,aedh:23,aedsa:24,x25519:25,x448:26,ed25519:27,ed448:28},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(e,t){if("number"==typeof t&&(t=this.read(e,t)),void 0!==e[t])return e[t];throw Error("Invalid enum value.")},read:function(e,t){if(e[Q]||(e[Q]=[],Object.entries(e).forEach((([t,r])=>{e[Q][r]=t}))),void 0!==e[Q][t])return e[Q][t];throw Error("Invalid enum value.")}};const Z=(()=>{try{return!1}catch(e){}return!1})(),Y={isString:function(e){return"string"==typeof e||e instanceof String},isArray:function(e){return e instanceof Array},isUint8Array:p,isStream:f,readNumber:function(e){let t=0;for(let r=0;r<e.length;r++)t+=256**r*e[e.length-1-r];return t},writeNumber:function(e,t){const r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e>>8*(t-n-1)&255;return r},readDate:function(e){const t=Y.readNumber(e);return new Date(1e3*t)},writeDate:function(e){const t=Math.floor(e.getTime()/1e3);return Y.writeNumber(t,4)},normalizeDate:function(e=Date.now()){return null===e||e===1/0?e:new Date(1e3*Math.floor(+e/1e3))},readMPI:function(e){const t=7+(e[0]<<8|e[1])>>>3;return e.subarray(2,2+t)},leftPad(e,t){const r=new Uint8Array(t),n=t-e.length;return r.set(e,n),r},uint8ArrayToMPI:function(e){const t=Y.uint8ArrayBitLength(e);if(0===t)throw Error("Zero MPI");const r=e.subarray(e.length-Math.ceil(t/8)),n=new Uint8Array([(65280&t)>>8,255&t]);return Y.concatUint8Array([n,r])},uint8ArrayBitLength:function(e){let t;for(t=0;t<e.length&&0===e[t];t++);if(t===e.length)return 0;const r=e.subarray(t);return 8*(r.length-1)+Y.nbits(r[0])},hexToUint8Array:function(e){const t=new Uint8Array(e.length>>1);for(let r=0;r<e.length>>1;r++)t[r]=parseInt(e.substr(r<<1,2),16);return t},uint8ArrayToHex:function(e){const t=[],r=e.length;let n,i=0;for(;i<r;){for(n=e[i++].toString(16);n.length<2;)n="0"+n;t.push(""+n)}return t.join("")},stringToUint8Array:function(e){return j(e,(e=>{if(!Y.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}))},uint8ArrayToString:function(e){const t=[],r=16384,n=(e=new Uint8Array(e)).length;for(let i=0;i<n;i+=r)t.push(String.fromCharCode.apply(String,e.subarray(i,i+r<n?i+r:n)));return t.join("")},encodeUTF8:function(e){const t=new TextEncoder("utf-8");function r(e,r=!1){return t.encode(e,{stream:!r})}return j(e,r,(()=>r("",!0)))},decodeUTF8:function(e){const t=new TextDecoder("utf-8");function r(e,r=!1){return t.decode(e,{stream:!r})}return j(e,r,(()=>r(new Uint8Array,!0)))},concat:I,concatUint8Array:y,equalsUint8Array:function(e,t){if(!Y.isUint8Array(e)||!Y.isUint8Array(t))throw Error("Data must be in the form of a Uint8Array");if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},writeChecksum:function(e){let t=0;for(let r=0;r<e.length;r++)t=t+e[r]&65535;return Y.writeNumber(t,2)},printDebug:function(e){Z&&console.log("[OpenPGP.js debug]",e)},printDebugError:function(e){Z&&console.error("[OpenPGP.js debug]",e)},nbits:function(e){let t=1,r=e>>>16;return 0!==r&&(e=r,t+=16),r=e>>8,0!==r&&(e=r,t+=8),r=e>>4,0!==r&&(e=r,t+=4),r=e>>2,0!==r&&(e=r,t+=2),r=e>>1,0!==r&&(e=r,t+=1),t},double:function(e){const t=new Uint8Array(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1^e[n+1]>>7;return t[r]=e[r]<<1^135*(e[0]>>7),t},shiftRight:function(e,t){if(t)for(let r=e.length-1;r>=0;r--)e[r]>>=t,r>0&&(e[r]|=e[r-1]<<8-t);return e},getWebCrypto:function(){return void 0!==n&&n.crypto&&n.crypto.subtle},getBigInteger:async function(){if("undefined"!=typeof BigInt)return J;{const{default:e}=await Promise.resolve().then((function(){return nf}));return e}},getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getHardwareConcurrency:function(){return"undefined"!=typeof navigator?navigator.hardwareConcurrency||1:(void 0).cpus().length},isEmailAddress:function(e){return!!Y.isString(e)&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}[0-9]*|xn--[a-zA-Z\-0-9]+)))$/.test(e)},canonicalizeEOL:function(e){let t=!1;return j(e,(e=>{let r;t&&(e=Y.concatUint8Array([new Uint8Array([13]),e])),13===e[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;const n=[];for(let t=0;r=e.indexOf(10,t)+1,r;t=r)13!==e[r-2]&&n.push(r);if(!n.length)return e;const i=new Uint8Array(e.length+n.length);let s=0;for(let t=0;t<n.length;t++){const r=e.subarray(n[t-1]||0,n[t]);i.set(r,s),s+=r.length,i[s-1]=13,i[s]=10,s++}return i.set(e.subarray(n[n.length-1]||0),s),i}),(()=>t?new Uint8Array([13]):void 0))},nativeEOL:function(e){let t=!1;return j(e,(e=>{let r;13===(e=t&&10!==e[0]?Y.concatUint8Array([new Uint8Array([13]),e]):new Uint8Array(e))[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;let n=0;for(let t=0;t!==e.length;t=r){r=e.indexOf(13,t)+1,r||(r=e.length);const i=r-(10===e[r]?1:0);t&&e.copyWithin(n,t,i),n+=i-t}return e.subarray(0,n)}),(()=>t?new Uint8Array([13]):void 0))},removeTrailingSpaces:function(e){return e.split("\n").map((e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"\t"===e[t]||"\r"===e[t]);t--);return e.substr(0,t+1)})).join("\n")},wrapError:function(e,t){if(!t)return Error(e);try{t.message=e+": "+t.message}catch(e){}return t},constructAllowedPackets:function(e){const t={};return e.forEach((e=>{if(!e.tag)throw Error("Invalid input: expected a packet class");t[e.tag]=e})),t},anyPromise:function(e){return new Promise((async(t,r)=>{let n;await Promise.all(e.map((async e=>{try{t(await e)}catch(e){n=e}}))),r(n)}))},selectUint8Array:function(e,t,r){const n=Math.max(t.length,r.length),i=new Uint8Array(n);let s=0;for(let n=0;n<i.length;n++)i[n]=t[n]&256-e|r[n]&255+e,s+=e&n<t.length|1-e&n<r.length;return i.subarray(0,s)},selectUint8:function(e,t,r){return t&256-e|r&255+e},isAES:function(e){return e===$.symmetric.aes128||e===$.symmetric.aes192||e===$.symmetric.aes256}},X=Y.getNodeBuffer();let ee,te;function re(e){let t=new Uint8Array;return j(e,(e=>{t=Y.concatUint8Array([t,e]);const r=[],n=Math.floor(t.length/45),i=45*n,s=ee(t.subarray(0,i));for(let e=0;e<n;e++)r.push(s.substr(60*e,60)),r.push("\n");return t=t.subarray(i),r.join("")}),(()=>t.length?ee(t)+"\n":""))}function ne(e){let t="";return j(e,(e=>{t+=e;let r=0;const n=[" ","\t","\r","\n"];for(let e=0;e<n.length;e++){const i=n[e];for(let e=t.indexOf(i);-1!==e;e=t.indexOf(i,e+1))r++}let i=t.length;for(;i>0&&(i-r)%4!=0;i--)n.includes(t[i])&&r--;const s=te(t.substr(0,i));return t=t.substr(i),s}),(()=>te(t)))}function ie(e){return ne(e.replace(/-/g,"+").replace(/_/g,"/"))}function se(e,t){let r=re(e).replace(/[\r\n]/g,"");return t&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}X?(ee=e=>X.from(e).toString("base64"),te=e=>{const t=X.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}):(ee=e=>btoa(Y.uint8ArrayToString(e)),te=e=>Y.stringToUint8Array(atob(e)));var ae={preferredHashAlgorithm:$.hash.sha256,preferredSymmetricAlgorithm:$.symmetric.aes256,preferredCompressionAlgorithm:$.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:$.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([$.symmetric.aes128,$.symmetric.aes192,$.symmetric.aes256]),minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,additionalAllowedPackets:[],showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.11.2",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:[],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([$.hash.md5,$.hash.ripemd]),rejectMessageHashAlgorithms:new Set([$.hash.md5,$.hash.ripemd,$.hash.sha1]),rejectPublicKeyAlgorithms:new Set([$.publicKey.elgamal,$.publicKey.dsa]),rejectCurves:new Set([$.curve.secp256k1])};function oe(e){const t=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!t)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(t[1])?$.armor.multipartSection:/MESSAGE, PART \d+/.test(t[1])?$.armor.multipartLast:/SIGNED MESSAGE/.test(t[1])?$.armor.signed:/MESSAGE/.test(t[1])?$.armor.message:/PUBLIC KEY BLOCK/.test(t[1])?$.armor.publicKey:/PRIVATE KEY BLOCK/.test(t[1])?$.armor.privateKey:/SIGNATURE/.test(t[1])?$.armor.signature:void 0}function ce(e,t){let r="";return t.showVersion&&(r+="Version: "+t.versionString+"\n"),t.showComment&&(r+="Comment: "+t.commentString+"\n"),e&&(r+="Comment: "+e+"\n"),r+="\n",r}function ue(e){return re(function(e){let t=13501623;return j(e,(e=>{const r=de?Math.floor(e.length/4):0,n=new Uint32Array(e.buffer,e.byteOffset,r);for(let e=0;e<r;e++)t^=n[e],t=le[0][t>>24&255]^le[1][t>>16&255]^le[2][t>>8&255]^le[3][255&t];for(let n=4*r;n<e.length;n++)t=t>>8^le[0][255&t^e[n]]}),(()=>new Uint8Array([t,t>>8,t>>16])))}(e))}const le=[Array(255),Array(255),Array(255),Array(255)];for(let e=0;e<=255;e++){let t=e<<16;for(let e=0;e<8;e++)t=t<<1^(8388608&t?8801531:0);le[0][e]=(16711680&t)>>16|65280&t|(255&t)<<16}for(let e=0;e<=255;e++)le[1][e]=le[0][e]>>8^le[0][255&le[0][e]];for(let e=0;e<=255;e++)le[2][e]=le[1][e]>>8^le[0][255&le[1][e]];for(let e=0;e<=255;e++)le[3][e]=le[2][e]>>8^le[0][255&le[2][e]];const de=function(){const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,255,!0),255===new Int16Array(e)[0]}();function he(e){for(let t=0;t<e.length;t++)/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[t])||Y.printDebugError(Error("Improperly formatted armor header: "+e[t])),/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[t])||Y.printDebugError(Error("Unknown header: "+e[t]))}function fe(e){let t=e,r="";const n=e.lastIndexOf("=");return n>=0&&n!==e.length-1&&(t=e.slice(0,n),r=e.slice(n+1).substr(0,4)),{body:t,checksum:r}}function pe(e,t=ae){return new Promise((async(r,n)=>{try{const i=/^-----[^-]+-----$/m,s=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let a;const o=[];let c,u,l,d=o,h=[],f=ne(F(e,(async(e,t)=>{const p=T(e);try{for(;;){let e=await p.readLine();if(void 0===e)throw Error("Misformed armored text");if(e=Y.removeTrailingSpaces(e.replace(/[\r\n]/g,"")),a)if(c)u||2!==a||(i.test(e)?(h=h.join("\r\n"),u=!0,he(d),d=[],c=!1):h.push(e.replace(/^- /,"")));else if(i.test(e)&&n(Error("Mandatory blank line missing between armor headers and armor data")),s.test(e)){if(he(d),c=!0,u||2!==a){r({text:h,data:f,headers:o,type:a});break}}else d.push(e);else i.test(e)&&(a=oe(e))}}catch(e){return void n(e)}const y=M(t);try{for(;;){await y.ready;const{done:e,value:t}=await p.read();if(e)throw Error("Misformed armored text");const r=t+"";if(-1!==r.indexOf("=")||-1!==r.indexOf("-")){let e=await p.readToEnd();e.length||(e=""),e=r+e,e=Y.removeTrailingSpaces(e.replace(/\r/g,""));const t=e.split(i);if(1===t.length)throw Error("Misformed armored text");const n=fe(t[0].slice(0,-1));l=n.checksum,await y.write(n.body);break}await y.write(r)}await y.ready,await y.close()}catch(e){await y.abort(e)}})));f=F(f,(async(e,r)=>{const n=G(ue(z(e)));n.catch((()=>{})),await N(e,r,{preventClose:!0});const i=M(r);try{const e=(await n).replace("\n","");if(l!==e&&(l||t.checksumRequired))throw Error("Ascii armor integrity check failed");await i.ready,await i.close()}catch(e){await i.abort(e)}}))}catch(e){n(e)}})).then((async e=>(u(e.data)&&(e.data=await G(e.data)),e)))}function ye(e,t,r,n,i,s=ae){let a,o;e===$.armor.signed&&(a=t.text,o=t.hash,t=t.data);const c=z(t),u=[];switch(e){case $.armor.multipartSection:u.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+"-----\n"),u.push(ce(i,s)),u.push(re(t)),u.push("=",ue(c)),u.push("-----END PGP MESSAGE, PART "+r+"/"+n+"-----\n");break;case $.armor.multipartLast:u.push("-----BEGIN PGP MESSAGE, PART "+r+"-----\n"),u.push(ce(i,s)),u.push(re(t)),u.push("=",ue(c)),u.push("-----END PGP MESSAGE, PART "+r+"-----\n");break;case $.armor.signed:u.push("-----BEGIN PGP SIGNED MESSAGE-----\n"),u.push("Hash: "+o+"\n\n"),u.push(a.replace(/^-/gm,"- -")),u.push("\n-----BEGIN PGP SIGNATURE-----\n"),u.push(ce(i,s)),u.push(re(t)),u.push("=",ue(c)),u.push("-----END PGP SIGNATURE-----\n");break;case $.armor.message:u.push("-----BEGIN PGP MESSAGE-----\n"),u.push(ce(i,s)),u.push(re(t)),u.push("=",ue(c)),u.push("-----END PGP MESSAGE-----\n");break;case $.armor.publicKey:u.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),u.push(ce(i,s)),u.push(re(t)),u.push("=",ue(c)),u.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case $.armor.privateKey:u.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),u.push(ce(i,s)),u.push(re(t)),u.push("=",ue(c)),u.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case $.armor.signature:u.push("-----BEGIN PGP SIGNATURE-----\n"),u.push(ce(i,s)),u.push(re(t)),u.push("=",ue(c)),u.push("-----END PGP SIGNATURE-----\n")}return Y.concat(u)}class ge{constructor(){this.bytes=""}read(e){return this.bytes=Y.uint8ArrayToString(e.subarray(0,8)),this.bytes.length}write(){return Y.stringToUint8Array(this.bytes)}toHex(){return Y.uint8ArrayToHex(Y.stringToUint8Array(this.bytes))}equals(e,t=!1){return t&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){const t=new ge;return t.read(Y.hexToUint8Array(e)),t}static wildcard(){const e=new ge;return e.read(new Uint8Array(8)),e}}var me=function(){var e,t,r=!1;function n(r,n){var i=e[(t[r]+t[n])%255];return 0!==r&&0!==n||(i=0),i}var i,s,a,o,c=!1;function u(){function u(r){var n,i,s;for(i=s=function(r){var n=e[255-t[r]];return 0===r&&(n=0),n}(r),n=0;n<4;n++)s^=i=255&(i<<1|i>>>7);return 99^s}r||function(){e=[],t=[];var n,i,s=1;for(n=0;n<255;n++)e[n]=s,i=128&s,s<<=1,s&=255,128===i&&(s^=27),s^=e[n],t[e[n]]=n;e[255]=e[0],t[0]=0,r=!0}(),i=[],s=[],a=[[],[],[],[]],o=[[],[],[],[]];for(var l=0;l<256;l++){var d=u(l);i[l]=d,s[d]=l,a[0][l]=n(2,d)<<24|d<<16|d<<8|n(3,d),o[0][d]=n(14,l)<<24|n(9,l)<<16|n(13,l)<<8|n(11,l);for(var h=1;h<4;h++)a[h][l]=a[h-1][l]>>>8|a[h-1][l]<<24,o[h][d]=o[h-1][d]>>>8|o[h-1][d]<<24}c=!0}var l=function(e,t){c||u();var r=new Uint32Array(t);r.set(i,512),r.set(s,768);for(var n=0;n<4;n++)r.set(a[n],4096+1024*n>>2),r.set(o[n],8192+1024*n>>2);var l=function(e,t,r){"use asm";var n=0,i=0,s=0,a=0,o=0,c=0,u=0,l=0,d=0,h=0,f=0,p=0,y=0,g=0,m=0,b=0,w=0,v=0,A=0,k=0,_=0;var P=new e.Uint32Array(r),E=new e.Uint8Array(r);function S(e,t,r,o,c,u,l,d){e=e|0;t=t|0;r=r|0;o=o|0;c=c|0;u=u|0;l=l|0;d=d|0;var h=0,f=0,p=0,y=0,g=0,m=0,b=0,w=0;h=r|0x400,f=r|0x800,p=r|0xc00;c=c^P[(e|0)>>2],u=u^P[(e|4)>>2],l=l^P[(e|8)>>2],d=d^P[(e|12)>>2];for(w=16;(w|0)<=o<<4;w=w+16|0){y=P[(r|c>>22&1020)>>2]^P[(h|u>>14&1020)>>2]^P[(f|l>>6&1020)>>2]^P[(p|d<<2&1020)>>2]^P[(e|w|0)>>2],g=P[(r|u>>22&1020)>>2]^P[(h|l>>14&1020)>>2]^P[(f|d>>6&1020)>>2]^P[(p|c<<2&1020)>>2]^P[(e|w|4)>>2],m=P[(r|l>>22&1020)>>2]^P[(h|d>>14&1020)>>2]^P[(f|c>>6&1020)>>2]^P[(p|u<<2&1020)>>2]^P[(e|w|8)>>2],b=P[(r|d>>22&1020)>>2]^P[(h|c>>14&1020)>>2]^P[(f|u>>6&1020)>>2]^P[(p|l<<2&1020)>>2]^P[(e|w|12)>>2];c=y,u=g,l=m,d=b}n=P[(t|c>>22&1020)>>2]<<24^P[(t|u>>14&1020)>>2]<<16^P[(t|l>>6&1020)>>2]<<8^P[(t|d<<2&1020)>>2]^P[(e|w|0)>>2],i=P[(t|u>>22&1020)>>2]<<24^P[(t|l>>14&1020)>>2]<<16^P[(t|d>>6&1020)>>2]<<8^P[(t|c<<2&1020)>>2]^P[(e|w|4)>>2],s=P[(t|l>>22&1020)>>2]<<24^P[(t|d>>14&1020)>>2]<<16^P[(t|c>>6&1020)>>2]<<8^P[(t|u<<2&1020)>>2]^P[(e|w|8)>>2],a=P[(t|d>>22&1020)>>2]<<24^P[(t|c>>14&1020)>>2]<<16^P[(t|u>>6&1020)>>2]<<8^P[(t|l<<2&1020)>>2]^P[(e|w|12)>>2]}function x(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;S(0x0000,0x0800,0x1000,_,e,t,r,n)}function C(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var s=0;S(0x0400,0x0c00,0x2000,_,e,n,r,t);s=i,i=a,a=s}function B(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;S(0x0000,0x0800,0x1000,_,o^e,c^t,u^r,l^d);o=n,c=i,u=s,l=a}function O(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;var h=0;S(0x0400,0x0c00,0x2000,_,e,d,r,t);h=i,i=a,a=h;n=n^o,i=i^c,s=s^u,a=a^l;o=e,c=t,u=r,l=d}function R(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;S(0x0000,0x0800,0x1000,_,o,c,u,l);o=n=n^e,c=i=i^t,u=s=s^r,l=a=a^d}function I(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;S(0x0000,0x0800,0x1000,_,o,c,u,l);n=n^e,i=i^t,s=s^r,a=a^d;o=e,c=t,u=r,l=d}function T(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;S(0x0000,0x0800,0x1000,_,o,c,u,l);o=n,c=i,u=s,l=a;n=n^e,i=i^t,s=s^r,a=a^d}function M(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;S(0x0000,0x0800,0x1000,_,d,h,f,p);p=~b&p|b&p+1;f=~m&f|m&f+((p|0)==0);h=~g&h|g&h+((f|0)==0);d=~y&d|y&d+((h|0)==0);n=n^e;i=i^t;s=s^r;a=a^o}function N(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,s=0,a=0,d=0,h=0,f=0,p=0,y=0,g=0,m=0;e=e^o,t=t^c,r=r^u,n=n^l;i=w|0,s=v|0,a=A|0,d=k|0;for(;(g|0)<128;g=g+1|0){if(i>>>31){h=h^e,f=f^t,p=p^r,y=y^n}i=i<<1|s>>>31,s=s<<1|a>>>31,a=a<<1|d>>>31,d=d<<1;m=n&1;n=n>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(m)e=e^0xe1000000}o=h,c=f,u=p,l=y}function D(e){e=e|0;_=e}function U(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;n=e,i=t,s=r,a=o}function j(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;o=e,c=t,u=r,l=n}function F(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;d=e,h=t,f=r,p=n}function K(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;y=e,g=t,m=r,b=n}function L(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;p=~b&p|b&n,f=~m&f|m&r,h=~g&h|g&t,d=~y&d|y&e}function z(e){e=e|0;if(e&15)return-1;E[e|0]=n>>>24,E[e|1]=n>>>16&255,E[e|2]=n>>>8&255,E[e|3]=n&255,E[e|4]=i>>>24,E[e|5]=i>>>16&255,E[e|6]=i>>>8&255,E[e|7]=i&255,E[e|8]=s>>>24,E[e|9]=s>>>16&255,E[e|10]=s>>>8&255,E[e|11]=s&255,E[e|12]=a>>>24,E[e|13]=a>>>16&255,E[e|14]=a>>>8&255,E[e|15]=a&255;return 16}function q(e){e=e|0;if(e&15)return-1;E[e|0]=o>>>24,E[e|1]=o>>>16&255,E[e|2]=o>>>8&255,E[e|3]=o&255,E[e|4]=c>>>24,E[e|5]=c>>>16&255,E[e|6]=c>>>8&255,E[e|7]=c&255,E[e|8]=u>>>24,E[e|9]=u>>>16&255,E[e|10]=u>>>8&255,E[e|11]=u&255,E[e|12]=l>>>24,E[e|13]=l>>>16&255,E[e|14]=l>>>8&255,E[e|15]=l&255;return 16}function H(){x(0,0,0,0);w=n,v=i,A=s,k=a}function G(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;if(t&15)return-1;while((r|0)>=16){V[e&7](E[t|0]<<24|E[t|1]<<16|E[t|2]<<8|E[t|3],E[t|4]<<24|E[t|5]<<16|E[t|6]<<8|E[t|7],E[t|8]<<24|E[t|9]<<16|E[t|10]<<8|E[t|11],E[t|12]<<24|E[t|13]<<16|E[t|14]<<8|E[t|15]);E[t|0]=n>>>24,E[t|1]=n>>>16&255,E[t|2]=n>>>8&255,E[t|3]=n&255,E[t|4]=i>>>24,E[t|5]=i>>>16&255,E[t|6]=i>>>8&255,E[t|7]=i&255,E[t|8]=s>>>24,E[t|9]=s>>>16&255,E[t|10]=s>>>8&255,E[t|11]=s&255,E[t|12]=a>>>24,E[t|13]=a>>>16&255,E[t|14]=a>>>8&255,E[t|15]=a&255;o=o+16|0,t=t+16|0,r=r-16|0}return o|0}function W(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){J[e&1](E[t|0]<<24|E[t|1]<<16|E[t|2]<<8|E[t|3],E[t|4]<<24|E[t|5]<<16|E[t|6]<<8|E[t|7],E[t|8]<<24|E[t|9]<<16|E[t|10]<<8|E[t|11],E[t|12]<<24|E[t|13]<<16|E[t|14]<<8|E[t|15]);n=n+16|0,t=t+16|0,r=r-16|0}return n|0}var V=[x,C,B,O,R,I,T,M];var J=[B,N];return{set_rounds:D,set_state:U,set_iv:j,set_nonce:F,set_mask:K,set_counter:L,get_state:z,get_iv:q,gcm_init:H,cipher:G,mac:W}}({Uint8Array,Uint32Array},0,t);return l.set_key=function(e,t,n,s,a,c,u,d,h){var f=r.subarray(0,60),p=r.subarray(256,316);f.set([t,n,s,a,c,u,d,h]);for(var y=e,g=1;y<4*e+28;y++){var m=f[y-1];(y%e==0||8===e&&y%e==4)&&(m=i[m>>>24]<<24^i[m>>>16&255]<<16^i[m>>>8&255]<<8^i[255&m]),y%e==0&&(m=m<<8^m>>>24^g<<24,g=g<<1^(128&g?27:0)),f[y]=f[y-e]^m}for(var b=0;b<y;b+=4)for(var w=0;w<4;w++)m=f[y-(4+b)+(4-w)%4],p[b+w]=b<4||b>=y-4?m:o[0][i[m>>>24]]^o[1][i[m>>>16&255]]^o[2][i[m>>>8&255]]^o[3][i[255&m]];l.set_rounds(e+5)},l};return l.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},l.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},l.MAC={CBC:0,GCM:1},l.HEAP_DATA=16384,l}();function be(e){return e instanceof Uint8Array}function we(e,t){const r=e?e.byteLength:t||65536;if(4095&r||r<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return e||new Uint8Array(new ArrayBuffer(r))}function ve(e,t,r,n,i){const s=e.length-t,a=s<i?s:i;return e.set(r.subarray(n,n+a),t),a}function Ae(...e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(let t=0;t<e.length;t++)r.set(e[t],n),n+=e[t].length;return r}class ke extends Error{constructor(...e){super(...e)}}class _e extends Error{constructor(...e){super(...e)}}class Pe extends Error{constructor(...e){super(...e)}}const Ee=[],Se=[];class xe{constructor(e,t,r=!0,n,i,s){this.pos=0,this.len=0,this.mode=n,this.pos=0,this.len=0,this.key=e,this.iv=t,this.padding=r,this.acquire_asm(i,s)}acquire_asm(e,t){return void 0!==this.heap&&void 0!==this.asm||(this.heap=e||Ee.pop()||we().subarray(me.HEAP_DATA),this.asm=t||Se.pop()||new me(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Ee.push(this.heap),Se.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,t){const{asm:r}=this.acquire_asm(),n=e.length;if(16!==n&&24!==n&&32!==n)throw new _e("illegal key size");const i=new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.set_key(n>>2,i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12),n>16?i.getUint32(16):0,n>16?i.getUint32(20):0,n>24?i.getUint32(24):0,n>24?i.getUint32(28):0),void 0!==t){if(16!==t.length)throw new _e("illegal iv size");let e=new DataView(t.buffer,t.byteOffset,t.byteLength);r.set_iv(e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12))}else r.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!be(e))throw new TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),n=me.ENC[this.mode],i=me.HEAP_DATA,s=this.pos,a=this.len,o=0,c=e.length||0,u=0,l=0,d=new Uint8Array(a+c&-16);for(;c>0;)l=ve(t,s+a,e,o,c),a+=l,o+=l,c-=l,l=r.cipher(n,i+s,a),l&&d.set(t.subarray(s,s+l),u),u+=l,l<a?(s+=l,a-=l):(s=0,a=0);return this.pos=s,this.len=a,d}AES_Encrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=me.ENC[this.mode],n=me.HEAP_DATA,i=this.pos,s=this.len,a=16-s%16,o=s;if(this.hasOwnProperty("padding")){if(this.padding){for(let t=0;t<a;++t)e[i+s+t]=a;s+=a,o=s}else if(s%16)throw new _e("data length must be a multiple of the block size")}else s+=a;const c=new Uint8Array(o);return s&&t.cipher(r,n+i,s),o&&c.set(e.subarray(i,i+o)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(e){if(!be(e))throw new TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),n=me.DEC[this.mode],i=me.HEAP_DATA,s=this.pos,a=this.len,o=0,c=e.length||0,u=0,l=a+c&-16,d=0,h=0;this.padding&&(d=a+c-l||16,l-=d);const f=new Uint8Array(l);for(;c>0;)h=ve(t,s+a,e,o,c),a+=h,o+=h,c-=h,h=r.cipher(n,i+s,a-(c?0:d)),h&&f.set(t.subarray(s,s+h),u),u+=h,h<a?(s+=h,a-=h):(s=0,a=0);return this.pos=s,this.len=a,f}AES_Decrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=me.DEC[this.mode],n=me.HEAP_DATA,i=this.pos,s=this.len,a=s;if(s>0){if(s%16){if(this.hasOwnProperty("padding"))throw new _e("data length must be a multiple of the block size");s+=16-s%16}if(t.cipher(r,n+i,s),this.hasOwnProperty("padding")&&this.padding){let t=e[i+a-1];if(t<1||t>16||t>a)throw new Pe("bad padding");let r=0;for(let n=t;n>1;n--)r|=t^e[i+a-n];if(r)throw new Pe("bad padding");a-=t}}const o=new Uint8Array(a);return a>0&&o.set(e.subarray(i,i+a)),this.pos=0,this.len=0,this.release_asm(),o}}class Ce{static encrypt(e,t,r=!1){return new Ce(t,r).encrypt(e)}static decrypt(e,t,r=!1){return new Ce(t,r).decrypt(e)}constructor(e,t=!1,r){this.aes=r||new xe(e,void 0,t,"ECB")}encrypt(e){return Ae(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Ae(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function Be(e){const t=function(e){const t=new Ce(e);this.encrypt=function(e){return t.encrypt(e)},this.decrypt=function(e){return t.decrypt(e)}};return t.blockSize=t.prototype.blockSize=16,t.keySize=t.prototype.keySize=e/8,t}function Oe(e,t,r,n,i,s){const a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],d=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],h=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let p,y,g,m,b,w,v,A,k,_,P,E,S,x,C=0,B=t.length;const O=32===e.length?3:9;A=3===O?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(t=function(e,t){const r=8-e.length%8;let n;if(2===t&&r<8)n=32;else if(1===t)n=r;else{if(t||!(r<8)){if(8===r)return e;throw Error("des: invalid padding")}n=0}const i=new Uint8Array(e.length+r);for(let t=0;t<e.length;t++)i[t]=e[t];for(let t=0;t<r;t++)i[e.length+t]=n;return i}(t,s),B=t.length);let R=new Uint8Array(B),I=0;for(1===n&&(k=i[C++]<<24|i[C++]<<16|i[C++]<<8|i[C++],P=i[C++]<<24|i[C++]<<16|i[C++]<<8|i[C++],C=0);C<B;){for(w=t[C++]<<24|t[C++]<<16|t[C++]<<8|t[C++],v=t[C++]<<24|t[C++]<<16|t[C++]<<8|t[C++],1===n&&(r?(w^=k,v^=P):(_=k,E=P,k=w,P=v)),g=252645135&(w>>>4^v),v^=g,w^=g<<4,g=65535&(w>>>16^v),v^=g,w^=g<<16,g=858993459&(v>>>2^w),w^=g,v^=g<<2,g=16711935&(v>>>8^w),w^=g,v^=g<<8,g=1431655765&(w>>>1^v),v^=g,w^=g<<1,w=w<<1|w>>>31,v=v<<1|v>>>31,y=0;y<O;y+=3){for(S=A[y+1],x=A[y+2],p=A[y];p!==S;p+=x)m=v^e[p],b=(v>>>4|v<<28)^e[p+1],g=w,w=v,v=g^(o[m>>>24&63]|u[m>>>16&63]|d[m>>>8&63]|f[63&m]|a[b>>>24&63]|c[b>>>16&63]|l[b>>>8&63]|h[63&b]);g=w,w=v,v=g}w=w>>>1|w<<31,v=v>>>1|v<<31,g=1431655765&(w>>>1^v),v^=g,w^=g<<1,g=16711935&(v>>>8^w),w^=g,v^=g<<8,g=858993459&(v>>>2^w),w^=g,v^=g<<2,g=65535&(w>>>16^v),v^=g,w^=g<<16,g=252645135&(w>>>4^v),v^=g,w^=g<<4,1===n&&(r?(k=w,P=v):(w^=_,v^=E)),R[I++]=w>>>24,R[I++]=w>>>16&255,R[I++]=w>>>8&255,R[I++]=255&w,R[I++]=v>>>24,R[I++]=v>>>16&255,R[I++]=v>>>8&255,R[I++]=255&v}return r||(R=function(e,t){let r,n=null;if(2===t)r=32;else if(1===t)n=e[e.length-1];else{if(t)throw Error("des: invalid padding");r=0}if(!n){for(n=1;e[e.length-n]===r;)n++;n--}return e.subarray(0,e.length-n)}(R,s)),R}function Re(e){const t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],f=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length>8?3:1,g=Array(32*y),m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let b,w,v,A=0,k=0;for(let _=0;_<y;_++){let y=e[A++]<<24|e[A++]<<16|e[A++]<<8|e[A++],_=e[A++]<<24|e[A++]<<16|e[A++]<<8|e[A++];v=252645135&(y>>>4^_),_^=v,y^=v<<4,v=65535&(_>>>-16^y),y^=v,_^=v<<-16,v=858993459&(y>>>2^_),_^=v,y^=v<<2,v=65535&(_>>>-16^y),y^=v,_^=v<<-16,v=1431655765&(y>>>1^_),_^=v,y^=v<<1,v=16711935&(_>>>8^y),y^=v,_^=v<<8,v=1431655765&(y>>>1^_),_^=v,y^=v<<1,v=y<<8|_>>>20&240,y=_<<24|_<<8&16711680|_>>>8&65280|_>>>24&240,_=v;for(let e=0;e<16;e++)m[e]?(y=y<<2|y>>>26,_=_<<2|_>>>26):(y=y<<1|y>>>27,_=_<<1|_>>>27),y&=-15,_&=-15,b=t[y>>>28]|r[y>>>24&15]|n[y>>>20&15]|i[y>>>16&15]|s[y>>>12&15]|a[y>>>8&15]|o[y>>>4&15],w=c[_>>>28]|u[_>>>24&15]|l[_>>>20&15]|d[_>>>16&15]|h[_>>>12&15]|f[_>>>8&15]|p[_>>>4&15],v=65535&(w>>>16^b),g[k++]=b^v,g[k++]=w^v<<16}return g}function Ie(e){this.key=[];for(let t=0;t<3;t++)this.key.push(new Uint8Array(e.subarray(8*t,8*t+8)));this.encrypt=function(e){return Oe(Re(this.key[2]),Oe(Re(this.key[1]),Oe(Re(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function Te(){this.BlockSize=8,this.KeySize=16,this.setKey=function(e){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),e.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(e),!0},this.reset=function(){for(let e=0;e<16;e++)this.masking[e]=0,this.rotate[e]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(e){const t=Array(e.length);for(let s=0;s<e.length;s+=8){let a,o=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],c=e[s+4]<<24|e[s+5]<<16|e[s+6]<<8|e[s+7];a=c,c=o^r(c,this.masking[0],this.rotate[0]),o=a,a=c,c=o^n(c,this.masking[1],this.rotate[1]),o=a,a=c,c=o^i(c,this.masking[2],this.rotate[2]),o=a,a=c,c=o^r(c,this.masking[3],this.rotate[3]),o=a,a=c,c=o^n(c,this.masking[4],this.rotate[4]),o=a,a=c,c=o^i(c,this.masking[5],this.rotate[5]),o=a,a=c,c=o^r(c,this.masking[6],this.rotate[6]),o=a,a=c,c=o^n(c,this.masking[7],this.rotate[7]),o=a,a=c,c=o^i(c,this.masking[8],this.rotate[8]),o=a,a=c,c=o^r(c,this.masking[9],this.rotate[9]),o=a,a=c,c=o^n(c,this.masking[10],this.rotate[10]),o=a,a=c,c=o^i(c,this.masking[11],this.rotate[11]),o=a,a=c,c=o^r(c,this.masking[12],this.rotate[12]),o=a,a=c,c=o^n(c,this.masking[13],this.rotate[13]),o=a,a=c,c=o^i(c,this.masking[14],this.rotate[14]),o=a,a=c,c=o^r(c,this.masking[15],this.rotate[15]),o=a,t[s]=c>>>24&255,t[s+1]=c>>>16&255,t[s+2]=c>>>8&255,t[s+3]=255&c,t[s+4]=o>>>24&255,t[s+5]=o>>>16&255,t[s+6]=o>>>8&255,t[s+7]=255&o}return t},this.decrypt=function(e){const t=Array(e.length);for(let s=0;s<e.length;s+=8){let a,o=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],c=e[s+4]<<24|e[s+5]<<16|e[s+6]<<8|e[s+7];a=c,c=o^r(c,this.masking[15],this.rotate[15]),o=a,a=c,c=o^i(c,this.masking[14],this.rotate[14]),o=a,a=c,c=o^n(c,this.masking[13],this.rotate[13]),o=a,a=c,c=o^r(c,this.masking[12],this.rotate[12]),o=a,a=c,c=o^i(c,this.masking[11],this.rotate[11]),o=a,a=c,c=o^n(c,this.masking[10],this.rotate[10]),o=a,a=c,c=o^r(c,this.masking[9],this.rotate[9]),o=a,a=c,c=o^i(c,this.masking[8],this.rotate[8]),o=a,a=c,c=o^n(c,this.masking[7],this.rotate[7]),o=a,a=c,c=o^r(c,this.masking[6],this.rotate[6]),o=a,a=c,c=o^i(c,this.masking[5],this.rotate[5]),o=a,a=c,c=o^n(c,this.masking[4],this.rotate[4]),o=a,a=c,c=o^r(c,this.masking[3],this.rotate[3]),o=a,a=c,c=o^i(c,this.masking[2],this.rotate[2]),o=a,a=c,c=o^n(c,this.masking[1],this.rotate[1]),o=a,a=c,c=o^r(c,this.masking[0],this.rotate[0]),o=a,t[s]=c>>>24&255,t[s+1]=c>>>16&255,t[s+2]=c>>>8&255,t[s+3]=255&c,t[s+4]=o>>>24&255,t[s+5]=o>>16&255,t[s+6]=o>>8&255,t[s+7]=255&o}return t};const e=[,,,,];e[0]=[,,,,],e[0][0]=[4,0,13,15,12,14,8],e[0][1]=[5,2,16,18,17,19,10],e[0][2]=[6,3,23,22,21,20,9],e[0][3]=[7,1,26,25,27,24,11],e[1]=[,,,,],e[1][0]=[0,6,21,23,20,22,16],e[1][1]=[1,4,0,2,1,3,18],e[1][2]=[2,5,7,6,5,4,17],e[1][3]=[3,7,10,9,11,8,19],e[2]=[,,,,],e[2][0]=[4,0,13,15,12,14,8],e[2][1]=[5,2,16,18,17,19,10],e[2][2]=[6,3,23,22,21,20,9],e[2][3]=[7,1,26,25,27,24,11],e[3]=[,,,,],e[3][0]=[0,6,21,23,20,22,16],e[3][1]=[1,4,0,2,1,3,18],e[3][2]=[2,5,7,6,5,4,17],e[3][3]=[3,7,10,9,11,8,19];const t=[,,,,];function r(e,t,r){const n=t+e,i=n<<r|n>>>32-r;return(s[0][i>>>24]^s[1][i>>>16&255])-s[2][i>>>8&255]+s[3][255&i]}function n(e,t,r){const n=t^e,i=n<<r|n>>>32-r;return s[0][i>>>24]-s[1][i>>>16&255]+s[2][i>>>8&255]^s[3][255&i]}function i(e,t,r){const n=t-e,i=n<<r|n>>>32-r;return(s[0][i>>>24]+s[1][i>>>16&255]^s[2][i>>>8&255])-s[3][255&i]}t[0]=[,,,,],t[0][0]=[24,25,23,22,18],t[0][1]=[26,27,21,20,22],t[0][2]=[28,29,19,18,25],t[0][3]=[30,31,17,16,28],t[1]=[,,,,],t[1][0]=[3,2,12,13,8],t[1][1]=[1,0,14,15,13],t[1][2]=[7,6,8,9,3],t[1][3]=[5,4,10,11,7],t[2]=[,,,,],t[2][0]=[19,18,28,29,25],t[2][1]=[17,16,30,31,28],t[2][2]=[23,22,24,25,18],t[2][3]=[21,20,26,27,22],t[3]=[,,,,],t[3][0]=[8,9,7,6,3],t[3][1]=[10,11,5,4,7],t[3][2]=[12,13,3,2,8],t[3][3]=[14,15,1,0,13],this.keySchedule=function(r){const n=[,,,,,,,,],i=Array(32);let a;for(let e=0;e<4;e++)a=4*e,n[e]=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3];const o=[6,7,4,5];let c,u=0;for(let r=0;r<2;r++)for(let r=0;r<4;r++){for(a=0;a<4;a++){const t=e[r][a];c=n[t[1]],c^=s[4][n[t[2]>>>2]>>>24-8*(3&t[2])&255],c^=s[5][n[t[3]>>>2]>>>24-8*(3&t[3])&255],c^=s[6][n[t[4]>>>2]>>>24-8*(3&t[4])&255],c^=s[7][n[t[5]>>>2]>>>24-8*(3&t[5])&255],c^=s[o[a]][n[t[6]>>>2]>>>24-8*(3&t[6])&255],n[t[0]]=c}for(a=0;a<4;a++){const e=t[r][a];c=s[4][n[e[0]>>>2]>>>24-8*(3&e[0])&255],c^=s[5][n[e[1]>>>2]>>>24-8*(3&e[1])&255],c^=s[6][n[e[2]>>>2]>>>24-8*(3&e[2])&255],c^=s[7][n[e[3]>>>2]>>>24-8*(3&e[3])&255],c^=s[4+a][n[e[4]>>>2]>>>24-8*(3&e[4])&255],i[u]=c,u++}}for(let e=0;e<16;e++)this.masking[e]=i[e],this.rotate[e]=31&i[16+e]};const s=[,,,,,,,,];s[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],s[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],s[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],s[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],s[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],s[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],s[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],s[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function Me(e){this.cast5=new Te,this.cast5.setKey(e),this.encrypt=function(e){return this.cast5.encrypt(e)}}Ie.keySize=Ie.prototype.keySize=24,Ie.blockSize=Ie.prototype.blockSize=8,Me.blockSize=Me.prototype.blockSize=8,Me.keySize=Me.prototype.keySize=16;const Ne=4294967295;function De(e,t){return(e<<t|e>>>32-t)&Ne}function Ue(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function je(e,t,r){e.splice(t,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function Fe(e,t){return e>>>8*t&255}function Ke(e){this.tf=function(){let e=null,t=null,r=-1,n=[],i=[[],[],[],[]];function s(e){return i[0][Fe(e,0)]^i[1][Fe(e,1)]^i[2][Fe(e,2)]^i[3][Fe(e,3)]}function a(e){return i[0][Fe(e,3)]^i[1][Fe(e,0)]^i[2][Fe(e,1)]^i[3][Fe(e,2)]}function o(e,t){let r=s(t[0]),i=a(t[1]);t[2]=De(t[2]^r+i+n[4*e+8]&Ne,31),t[3]=De(t[3],1)^r+2*i+n[4*e+9]&Ne,r=s(t[2]),i=a(t[3]),t[0]=De(t[0]^r+i+n[4*e+10]&Ne,31),t[1]=De(t[1],1)^r+2*i+n[4*e+11]&Ne}function c(e,t){let r=s(t[0]),i=a(t[1]);t[2]=De(t[2],1)^r+i+n[4*e+10]&Ne,t[3]=De(t[3]^r+2*i+n[4*e+11]&Ne,31),r=s(t[2]),i=a(t[3]),t[0]=De(t[0],1)^r+i+n[4*e+8]&Ne,t[1]=De(t[1]^r+2*i+n[4*e+9]&Ne,31)}return{name:"twofish",blocksize:16,open:function(t){let r,s,a,o,c;e=t;const u=[],l=[],d=[];let h;const f=[];let p,y,g;const m=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],b=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],w=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],v=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],A=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],k=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],_=[[],[]],P=[[],[],[],[]];function E(e){return e^e>>2^[0,90,180,238][3&e]}function S(e){return e^e>>1^e>>2^[0,238,180,90][3&e]}function x(e,t){let r,n,i;for(r=0;r<8;r++)n=t>>>24,t=t<<8&Ne|e>>>24,e=e<<8&Ne,i=n<<1,128&n&&(i^=333),t^=n^i<<16,i^=n>>>1,1&n&&(i^=166),t^=i<<24|i<<8;return t}function C(e,t){const r=t>>4,n=15&t,i=m[e][r^n],s=b[e][A[n]^k[r]];return v[e][A[s]^k[i]]<<4|w[e][i^s]}function B(e,t){let r=Fe(e,0),n=Fe(e,1),i=Fe(e,2),s=Fe(e,3);switch(h){case 4:r=_[1][r]^Fe(t[3],0),n=_[0][n]^Fe(t[3],1),i=_[0][i]^Fe(t[3],2),s=_[1][s]^Fe(t[3],3);case 3:r=_[1][r]^Fe(t[2],0),n=_[1][n]^Fe(t[2],1),i=_[0][i]^Fe(t[2],2),s=_[0][s]^Fe(t[2],3);case 2:r=_[0][_[0][r]^Fe(t[1],0)]^Fe(t[0],0),n=_[0][_[1][n]^Fe(t[1],1)]^Fe(t[0],1),i=_[1][_[0][i]^Fe(t[1],2)]^Fe(t[0],2),s=_[1][_[1][s]^Fe(t[1],3)]^Fe(t[0],3)}return P[0][r]^P[1][n]^P[2][i]^P[3][s]}for(e=e.slice(0,32),r=e.length;16!==r&&24!==r&&32!==r;)e[r++]=0;for(r=0;r<e.length;r+=4)d[r>>2]=Ue(e,r);for(r=0;r<256;r++)_[0][r]=C(0,r),_[1][r]=C(1,r);for(r=0;r<256;r++)p=_[1][r],y=E(p),g=S(p),P[0][r]=p+(y<<8)+(g<<16)+(g<<24),P[2][r]=y+(g<<8)+(p<<16)+(g<<24),p=_[0][r],y=E(p),g=S(p),P[1][r]=g+(g<<8)+(y<<16)+(p<<24),P[3][r]=y+(p<<8)+(g<<16)+(y<<24);for(h=d.length/2,r=0;r<h;r++)s=d[r+r],u[r]=s,a=d[r+r+1],l[r]=a,f[h-r-1]=x(s,a);for(r=0;r<40;r+=2)s=16843009*r,a=s+16843009,s=B(s,u),a=De(B(a,l),8),n[r]=s+a&Ne,n[r+1]=De(s+2*a,9);for(r=0;r<256;r++)switch(s=a=o=c=r,h){case 4:s=_[1][s]^Fe(f[3],0),a=_[0][a]^Fe(f[3],1),o=_[0][o]^Fe(f[3],2),c=_[1][c]^Fe(f[3],3);case 3:s=_[1][s]^Fe(f[2],0),a=_[1][a]^Fe(f[2],1),o=_[0][o]^Fe(f[2],2),c=_[0][c]^Fe(f[2],3);case 2:i[0][r]=P[0][_[0][_[0][s]^Fe(f[1],0)]^Fe(f[0],0)],i[1][r]=P[1][_[0][_[1][a]^Fe(f[1],1)]^Fe(f[0],1)],i[2][r]=P[2][_[1][_[0][o]^Fe(f[1],2)]^Fe(f[0],2)],i[3][r]=P[3][_[1][_[1][c]^Fe(f[1],3)]^Fe(f[0],3)]}},close:function(){n=[],i=[[],[],[],[]]},encrypt:function(e,i){t=e,r=i;const s=[Ue(t,r)^n[0],Ue(t,r+4)^n[1],Ue(t,r+8)^n[2],Ue(t,r+12)^n[3]];for(let e=0;e<8;e++)o(e,s);return je(t,r,s[2]^n[4]),je(t,r+4,s[3]^n[5]),je(t,r+8,s[0]^n[6]),je(t,r+12,s[1]^n[7]),r+=16,t},decrypt:function(e,i){t=e,r=i;const s=[Ue(t,r)^n[4],Ue(t,r+4)^n[5],Ue(t,r+8)^n[6],Ue(t,r+12)^n[7]];for(let e=7;e>=0;e--)c(e,s);je(t,r,s[2]^n[0]),je(t,r+4,s[3]^n[1]),je(t,r+8,s[0]^n[2]),je(t,r+12,s[1]^n[3]),r+=16},finalize:function(){return t}}}(),this.tf.open(Array.from(e),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function Le(){}function ze(e){this.bf=new Le,this.bf.init(e),this.encrypt=function(e){return this.bf.encryptBlock(e)}}Ke.keySize=Ke.prototype.keySize=32,Ke.blockSize=Ke.prototype.blockSize=16,Le.prototype.BLOCKSIZE=8,Le.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],Le.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Le.prototype.NN=16,Le.prototype._clean=function(e){return e<0&&(e=2147483648+(2147483647&e)),e},Le.prototype._F=function(e){let t;const r=255&e,n=255&(e>>>=8),i=255&(e>>>=8),s=255&(e>>>=8);return t=this.sboxes[0][s]+this.sboxes[1][i],t^=this.sboxes[2][n],t+=this.sboxes[3][r],t},Le.prototype._encryptBlock=function(e){let t,r=e[0],n=e[1];for(t=0;t<this.NN;++t){r^=this.parray[t],n=this._F(r)^n;const e=r;r=n,n=e}r^=this.parray[this.NN+0],n^=this.parray[this.NN+1],e[0]=this._clean(n),e[1]=this._clean(r)},Le.prototype.encryptBlock=function(e){let t;const r=[0,0],n=this.BLOCKSIZE/2;for(t=0;t<this.BLOCKSIZE/2;++t)r[0]=r[0]<<8|255&e[t+0],r[1]=r[1]<<8|255&e[t+n];this._encryptBlock(r);const i=[];for(t=0;t<this.BLOCKSIZE/2;++t)i[t+0]=r[0]>>>24-8*t&255,i[t+n]=r[1]>>>24-8*t&255;return i},Le.prototype._decryptBlock=function(e){let t,r=e[0],n=e[1];for(t=this.NN+1;t>1;--t){r^=this.parray[t],n=this._F(r)^n;const e=r;r=n,n=e}r^=this.parray[1],n^=this.parray[0],e[0]=this._clean(n),e[1]=this._clean(r)},Le.prototype.init=function(e){let t,r=0;for(this.parray=[],t=0;t<this.NN+2;++t){let n=0;for(let t=0;t<4;++t)n=n<<8|255&e[r],++r>=e.length&&(r=0);this.parray[t]=this.PARRAY[t]^n}for(this.sboxes=[],t=0;t<4;++t)for(this.sboxes[t]=[],r=0;r<256;++r)this.sboxes[t][r]=this.SBOXES[t][r];const n=[0,0];for(t=0;t<this.NN+2;t+=2)this._encryptBlock(n),this.parray[t+0]=n[0],this.parray[t+1]=n[1];for(t=0;t<4;++t)for(r=0;r<256;r+=2)this._encryptBlock(n),this.sboxes[t][r+0]=n[0],this.sboxes[t][r+1]=n[1]},ze.keySize=ze.prototype.keySize=16,ze.blockSize=ze.prototype.blockSize=8;const qe=Be(128),He=Be(192),Ge=Be(256);var We=Object.freeze({__proto__:null,aes128:qe,aes192:He,aes256:Ge,des:function(e){this.key=e,this.encrypt=function(e,t){return Oe(Re(this.key),e,!0,0,null,t)},this.decrypt=function(e,t){return Oe(Re(this.key),e,!1,0,null,t)}},tripledes:Ie,cast5:Me,twofish:Ke,blowfish:ze,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),Ve=function(e,t,r){"use asm";var n=0,i=0,s=0,a=0,o=0,c=0,u=0;var l=0,d=0,h=0,f=0,p=0,y=0,g=0,m=0,b=0,w=0;var v=new e.Uint8Array(r);function A(e,t,r,c,u,l,d,h,f,p,y,g,m,b,w,v){e=e|0;t=t|0;r=r|0;c=c|0;u=u|0;l=l|0;d=d|0;h=h|0;f=f|0;p=p|0;y=y|0;g=g|0;m=m|0;b=b|0;w=w|0;v=v|0;var A=0,k=0,_=0,P=0,E=0,S=0,x=0,C=0,B=0,O=0,R=0,I=0,T=0,M=0,N=0,D=0,U=0,j=0,F=0,K=0,L=0,z=0,q=0,H=0,G=0,W=0,V=0,J=0,Q=0,$=0,Z=0,Y=0,X=0,ee=0,te=0,re=0,ne=0,ie=0,se=0,ae=0,oe=0,ce=0,ue=0,le=0,de=0,he=0,fe=0,pe=0,ye=0,ge=0,me=0,be=0,we=0,ve=0,Ae=0,ke=0,_e=0,Pe=0,Ee=0,Se=0,xe=0,Ce=0,Be=0,Oe=0,Re=0,Ie=0,Te=0,Me=0,Ne=0,De=0,Ue=0;A=n;k=i;_=s;P=a;E=o;x=e+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=t+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=r+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=c+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=u+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=l+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=d+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=h+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=f+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=p+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=y+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=g+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=m+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=b+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=w+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;x=v+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=b^f^r^e;C=S<<1|S>>>31;x=C+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=w^p^c^t;B=S<<1|S>>>31;x=B+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=v^y^u^r;O=S<<1|S>>>31;x=O+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=C^g^l^c;R=S<<1|S>>>31;x=R+(A<<5|A>>>27)+E+(k&_|~k&P)+0x5a827999|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=B^m^d^u;I=S<<1|S>>>31;x=I+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=O^b^h^l;T=S<<1|S>>>31;x=T+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=R^w^f^d;M=S<<1|S>>>31;x=M+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=I^v^p^h;N=S<<1|S>>>31;x=N+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=T^C^y^f;D=S<<1|S>>>31;x=D+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=M^B^g^p;U=S<<1|S>>>31;x=U+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=N^O^m^y;j=S<<1|S>>>31;x=j+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=D^R^b^g;F=S<<1|S>>>31;x=F+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=U^I^w^m;K=S<<1|S>>>31;x=K+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=j^T^v^b;L=S<<1|S>>>31;x=L+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=F^M^C^w;z=S<<1|S>>>31;x=z+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=K^N^B^v;q=S<<1|S>>>31;x=q+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=L^D^O^C;H=S<<1|S>>>31;x=H+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=z^U^R^B;G=S<<1|S>>>31;x=G+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=q^j^I^O;W=S<<1|S>>>31;x=W+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=H^F^T^R;V=S<<1|S>>>31;x=V+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=G^K^M^I;J=S<<1|S>>>31;x=J+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=W^L^N^T;Q=S<<1|S>>>31;x=Q+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=V^z^D^M;$=S<<1|S>>>31;x=$+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=J^q^U^N;Z=S<<1|S>>>31;x=Z+(A<<5|A>>>27)+E+(k^_^P)+0x6ed9eba1|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Q^H^j^D;Y=S<<1|S>>>31;x=Y+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=$^G^F^U;X=S<<1|S>>>31;x=X+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Z^W^K^j;ee=S<<1|S>>>31;x=ee+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Y^V^L^F;te=S<<1|S>>>31;x=te+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=X^J^z^K;re=S<<1|S>>>31;x=re+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=ee^Q^q^L;ne=S<<1|S>>>31;x=ne+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=te^$^H^z;ie=S<<1|S>>>31;x=ie+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=re^Z^G^q;se=S<<1|S>>>31;x=se+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=ne^Y^W^H;ae=S<<1|S>>>31;x=ae+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=ie^X^V^G;oe=S<<1|S>>>31;x=oe+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=se^ee^J^W;ce=S<<1|S>>>31;x=ce+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=ae^te^Q^V;ue=S<<1|S>>>31;x=ue+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=oe^re^$^J;le=S<<1|S>>>31;x=le+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=ce^ne^Z^Q;de=S<<1|S>>>31;x=de+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=ue^ie^Y^$;he=S<<1|S>>>31;x=he+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=le^se^X^Z;fe=S<<1|S>>>31;x=fe+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=de^ae^ee^Y;pe=S<<1|S>>>31;x=pe+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=he^oe^te^X;ye=S<<1|S>>>31;x=ye+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=fe^ce^re^ee;ge=S<<1|S>>>31;x=ge+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=pe^ue^ne^te;me=S<<1|S>>>31;x=me+(A<<5|A>>>27)+E+(k&_|k&P|_&P)-0x70e44324|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=ye^le^ie^re;be=S<<1|S>>>31;x=be+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=ge^de^se^ne;we=S<<1|S>>>31;x=we+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=me^he^ae^ie;ve=S<<1|S>>>31;x=ve+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=be^fe^oe^se;Ae=S<<1|S>>>31;x=Ae+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=we^pe^ce^ae;ke=S<<1|S>>>31;x=ke+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=ve^ye^ue^oe;_e=S<<1|S>>>31;x=_e+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Ae^ge^le^ce;Pe=S<<1|S>>>31;x=Pe+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=ke^me^de^ue;Ee=S<<1|S>>>31;x=Ee+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=_e^be^he^le;Se=S<<1|S>>>31;x=Se+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Pe^we^fe^de;xe=S<<1|S>>>31;x=xe+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Ee^ve^pe^he;Ce=S<<1|S>>>31;x=Ce+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Se^Ae^ye^fe;Be=S<<1|S>>>31;x=Be+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=xe^ke^ge^pe;Oe=S<<1|S>>>31;x=Oe+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Ce^_e^me^ye;Re=S<<1|S>>>31;x=Re+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Be^Pe^be^ge;Ie=S<<1|S>>>31;x=Ie+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Oe^Ee^we^me;Te=S<<1|S>>>31;x=Te+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Re^Se^ve^be;Me=S<<1|S>>>31;x=Me+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Ie^xe^Ae^we;Ne=S<<1|S>>>31;x=Ne+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Te^Ce^ke^ve;De=S<<1|S>>>31;x=De+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;S=Me^Be^_e^Ae;Ue=S<<1|S>>>31;x=Ue+(A<<5|A>>>27)+E+(k^_^P)-0x359d3e2a|0;E=P;P=_;_=k<<30|k>>>2;k=A;A=x;n=n+A|0;i=i+k|0;s=s+_|0;a=a+P|0;o=o+E|0}function k(e){e=e|0;A(v[e|0]<<24|v[e|1]<<16|v[e|2]<<8|v[e|3],v[e|4]<<24|v[e|5]<<16|v[e|6]<<8|v[e|7],v[e|8]<<24|v[e|9]<<16|v[e|10]<<8|v[e|11],v[e|12]<<24|v[e|13]<<16|v[e|14]<<8|v[e|15],v[e|16]<<24|v[e|17]<<16|v[e|18]<<8|v[e|19],v[e|20]<<24|v[e|21]<<16|v[e|22]<<8|v[e|23],v[e|24]<<24|v[e|25]<<16|v[e|26]<<8|v[e|27],v[e|28]<<24|v[e|29]<<16|v[e|30]<<8|v[e|31],v[e|32]<<24|v[e|33]<<16|v[e|34]<<8|v[e|35],v[e|36]<<24|v[e|37]<<16|v[e|38]<<8|v[e|39],v[e|40]<<24|v[e|41]<<16|v[e|42]<<8|v[e|43],v[e|44]<<24|v[e|45]<<16|v[e|46]<<8|v[e|47],v[e|48]<<24|v[e|49]<<16|v[e|50]<<8|v[e|51],v[e|52]<<24|v[e|53]<<16|v[e|54]<<8|v[e|55],v[e|56]<<24|v[e|57]<<16|v[e|58]<<8|v[e|59],v[e|60]<<24|v[e|61]<<16|v[e|62]<<8|v[e|63])}function _(e){e=e|0;v[e|0]=n>>>24;v[e|1]=n>>>16&255;v[e|2]=n>>>8&255;v[e|3]=n&255;v[e|4]=i>>>24;v[e|5]=i>>>16&255;v[e|6]=i>>>8&255;v[e|7]=i&255;v[e|8]=s>>>24;v[e|9]=s>>>16&255;v[e|10]=s>>>8&255;v[e|11]=s&255;v[e|12]=a>>>24;v[e|13]=a>>>16&255;v[e|14]=a>>>8&255;v[e|15]=a&255;v[e|16]=o>>>24;v[e|17]=o>>>16&255;v[e|18]=o>>>8&255;v[e|19]=o&255}function P(){n=0x67452301;i=0xefcdab89;s=0x98badcfe;a=0x10325476;o=0xc3d2e1f0;c=u=0}function E(e,t,r,l,d,h,f){e=e|0;t=t|0;r=r|0;l=l|0;d=d|0;h=h|0;f=f|0;n=e;i=t;s=r;a=l;o=d;c=h;u=f}function S(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){k(e);e=e+64|0;t=t-64|0;r=r+64|0}c=c+r|0;if(c>>>0<r>>>0)u=u+1|0;return r|0}function x(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=S(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;c=c+t|0;if(c>>>0<t>>>0)u=u+1|0;v[e|t]=0x80;if((t|0)>=56){for(i=t+1|0;(i|0)<64;i=i+1|0)v[e|i]=0x00;k(e);t=0;v[e|0]=0}for(i=t+1|0;(i|0)<59;i=i+1|0)v[e|i]=0;v[e|56]=u>>>21&255;v[e|57]=u>>>13&255;v[e|58]=u>>>5&255;v[e|59]=u<<3&255|c>>>29;v[e|60]=c>>>21&255;v[e|61]=c>>>13&255;v[e|62]=c>>>5&255;v[e|63]=c<<3&255;k(e);if(~r)_(r);return n|0}function C(){n=l;i=d;s=h;a=f;o=p;c=64;u=0}function B(){n=y;i=g;s=m;a=b;o=w;c=64;u=0}function O(e,t,r,v,k,_,E,S,x,C,B,O,R,I,T,M){e=e|0;t=t|0;r=r|0;v=v|0;k=k|0;_=_|0;E=E|0;S=S|0;x=x|0;C=C|0;B=B|0;O=O|0;R=R|0;I=I|0;T=T|0;M=M|0;P();A(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,v^0x5c5c5c5c,k^0x5c5c5c5c,_^0x5c5c5c5c,E^0x5c5c5c5c,S^0x5c5c5c5c,x^0x5c5c5c5c,C^0x5c5c5c5c,B^0x5c5c5c5c,O^0x5c5c5c5c,R^0x5c5c5c5c,I^0x5c5c5c5c,T^0x5c5c5c5c,M^0x5c5c5c5c);y=n;g=i;m=s;b=a;w=o;P();A(e^0x36363636,t^0x36363636,r^0x36363636,v^0x36363636,k^0x36363636,_^0x36363636,E^0x36363636,S^0x36363636,x^0x36363636,C^0x36363636,B^0x36363636,O^0x36363636,R^0x36363636,I^0x36363636,T^0x36363636,M^0x36363636);l=n;d=i;h=s;f=a;p=o;c=64;u=0}function R(e,t,r){e=e|0;t=t|0;r=r|0;var c=0,u=0,l=0,d=0,h=0,f=0;if(e&63)return-1;if(~r)if(r&31)return-1;f=x(e,t,-1)|0;c=n,u=i,l=s,d=a,h=o;B();A(c,u,l,d,h,0x80000000,0,0,0,0,0,0,0,0,0,672);if(~r)_(r);return f|0}function I(e,t,r,c,u){e=e|0;t=t|0;r=r|0;c=c|0;u=u|0;var l=0,d=0,h=0,f=0,p=0,y=0,g=0,m=0,b=0,w=0;if(e&63)return-1;if(~u)if(u&31)return-1;v[e+t|0]=r>>>24;v[e+t+1|0]=r>>>16&255;v[e+t+2|0]=r>>>8&255;v[e+t+3|0]=r&255;R(e,t+4|0,-1)|0;l=y=n,d=g=i,h=m=s,f=b=a,p=w=o;c=c-1|0;while((c|0)>0){C();A(y,g,m,b,w,0x80000000,0,0,0,0,0,0,0,0,0,672);y=n,g=i,m=s,b=a,w=o;B();A(y,g,m,b,w,0x80000000,0,0,0,0,0,0,0,0,0,672);y=n,g=i,m=s,b=a,w=o;l=l^n;d=d^i;h=h^s;f=f^a;p=p^o;c=c-1|0}n=l;i=d;s=h;a=f;o=p;if(~u)_(u);return 0}return{reset:P,init:E,process:S,finish:x,hmac_reset:C,hmac_init:O,hmac_finish:R,pbkdf2_generate_block:I}};class Je{constructor(){this.pos=0,this.len=0}reset(){const{asm:e}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,e.reset(),this}process(e){if(null!==this.result)throw new ke("state must be reset before processing new data");const{asm:t,heap:r}=this.acquire_asm();let n=this.pos,i=this.len,s=0,a=e.length,o=0;for(;a>0;)o=ve(r,n+i,e,s,a),i+=o,s+=o,a-=o,o=t.process(n,i),n+=o,i-=o,i||(n=0);return this.pos=n,this.len=i,this}finish(){if(null!==this.result)throw new ke("state must be reset before processing new data");const{asm:e,heap:t}=this.acquire_asm();return e.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(t.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const Qe=[],$e=[];class Ze extends Je{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=Qe.pop()||we(),this.asm=$e.pop()||Ve({Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Qe.push(this.heap),$e.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new Ze).process(e).finish().result}}Ze.NAME="sha1",Ze.heap_pool=[],Ze.asm_pool=[],Ze.asm_function=Ve;const Ye=[],Xe=[];class et extends Je{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=Ye.pop()||we(),this.asm=Xe.pop()||function(e,t,r){"use asm";var n=0,i=0,s=0,a=0,o=0,c=0,u=0,l=0,d=0,h=0,f=0,p=0,y=0,g=0,m=0,b=0,w=0,v=0,A=0,k=0,_=0,P=0,E=0,S=0,x=0,C=0,B=new e.Uint8Array(r);function O(e,t,r,d,h,f,p,y,g,m,b,w,v,A,k,_){e=e|0;t=t|0;r=r|0;d=d|0;h=h|0;f=f|0;p=p|0;y=y|0;g=g|0;m=m|0;b=b|0;w=w|0;v=v|0;A=A|0;k=k|0;_=_|0;var P=0,E=0,S=0,x=0,C=0,B=0,O=0,R=0;P=n;E=i;S=s;x=a;C=o;B=c;O=u;R=l;R=e+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(O^C&(B^O))+0x428a2f98|0;x=x+R|0;R=R+(P&E^S&(P^E))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;O=t+O+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(B^x&(C^B))+0x71374491|0;S=S+O|0;O=O+(R&P^E&(R^P))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;B=r+B+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(x^C))+0xb5c0fbcf|0;E=E+B|0;B=B+(O&R^P&(O^R))+(O>>>2^O>>>13^O>>>22^O<<30^O<<19^O<<10)|0;C=d+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(S^x))+0xe9b5dba5|0;P=P+C|0;C=C+(B&O^R&(B^O))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;x=h+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(S^P&(E^S))+0x3956c25b|0;R=R+x|0;x=x+(C&B^O&(C^B))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;S=f+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(P^E))+0x59f111f1|0;O=O+S|0;S=S+(x&C^B&(x^C))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;E=p+E+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(P^O&(R^P))+0x923f82a4|0;B=B+E|0;E=E+(S&x^C&(S^x))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;P=y+P+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(O^R))+0xab1c5ed5|0;C=C+P|0;P=P+(E&S^x&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;R=g+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(O^C&(B^O))+0xd807aa98|0;x=x+R|0;R=R+(P&E^S&(P^E))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;O=m+O+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(B^x&(C^B))+0x12835b01|0;S=S+O|0;O=O+(R&P^E&(R^P))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;B=b+B+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(x^C))+0x243185be|0;E=E+B|0;B=B+(O&R^P&(O^R))+(O>>>2^O>>>13^O>>>22^O<<30^O<<19^O<<10)|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(S^x))+0x550c7dc3|0;P=P+C|0;C=C+(B&O^R&(B^O))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;x=v+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(S^P&(E^S))+0x72be5d74|0;R=R+x|0;x=x+(C&B^O&(C^B))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;S=A+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(P^E))+0x80deb1fe|0;O=O+S|0;S=S+(x&C^B&(x^C))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;E=k+E+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(P^O&(R^P))+0x9bdc06a7|0;B=B+E|0;E=E+(S&x^C&(S^x))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;P=_+P+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(O^R))+0xc19bf174|0;C=C+P|0;P=P+(E&S^x&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+m|0;R=e+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(O^C&(B^O))+0xe49b69c1|0;x=x+R|0;R=R+(P&E^S&(P^E))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+t+b|0;O=t+O+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(B^x&(C^B))+0xefbe4786|0;S=S+O|0;O=O+(R&P^E&(R^P))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;r=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;B=r+B+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(x^C))+0x0fc19dc6|0;E=E+B|0;B=B+(O&R^P&(O^R))+(O>>>2^O>>>13^O>>>22^O<<30^O<<19^O<<10)|0;d=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+d+v|0;C=d+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(S^x))+0x240ca1cc|0;P=P+C|0;C=C+(B&O^R&(B^O))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;h=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+h+A|0;x=h+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(S^P&(E^S))+0x2de92c6f|0;R=R+x|0;x=x+(C&B^O&(C^B))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;f=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+f+k|0;S=f+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(P^E))+0x4a7484aa|0;O=O+S|0;S=S+(x&C^B&(x^C))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+p+_|0;E=p+E+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(P^O&(R^P))+0x5cb0a9dc|0;B=B+E|0;E=E+(S&x^C&(S^x))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;y=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+y+e|0;P=y+P+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(O^R))+0x76f988da|0;C=C+P|0;P=P+(E&S^x&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;g=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+g+t|0;R=g+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(O^C&(B^O))+0x983e5152|0;x=x+R|0;R=R+(P&E^S&(P^E))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;m=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+m+r|0;O=m+O+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(B^x&(C^B))+0xa831c66d|0;S=S+O|0;O=O+(R&P^E&(R^P))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;b=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+b+d|0;B=b+B+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(x^C))+0xb00327c8|0;E=E+B|0;B=B+(O&R^P&(O^R))+(O>>>2^O>>>13^O>>>22^O<<30^O<<19^O<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+h|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(S^x))+0xbf597fc7|0;P=P+C|0;C=C+(B&O^R&(B^O))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;v=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+v+f|0;x=v+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(S^P&(E^S))+0xc6e00bf3|0;R=R+x|0;x=x+(C&B^O&(C^B))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;A=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+A+p|0;S=A+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(P^E))+0xd5a79147|0;O=O+S|0;S=S+(x&C^B&(x^C))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;k=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+y|0;E=k+E+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(P^O&(R^P))+0x06ca6351|0;B=B+E|0;E=E+(S&x^C&(S^x))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;_=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+_+g|0;P=_+P+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(O^R))+0x14292967|0;C=C+P|0;P=P+(E&S^x&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+m|0;R=e+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(O^C&(B^O))+0x27b70a85|0;x=x+R|0;R=R+(P&E^S&(P^E))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+t+b|0;O=t+O+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(B^x&(C^B))+0x2e1b2138|0;S=S+O|0;O=O+(R&P^E&(R^P))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;r=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;B=r+B+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(x^C))+0x4d2c6dfc|0;E=E+B|0;B=B+(O&R^P&(O^R))+(O>>>2^O>>>13^O>>>22^O<<30^O<<19^O<<10)|0;d=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+d+v|0;C=d+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(S^x))+0x53380d13|0;P=P+C|0;C=C+(B&O^R&(B^O))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;h=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+h+A|0;x=h+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(S^P&(E^S))+0x650a7354|0;R=R+x|0;x=x+(C&B^O&(C^B))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;f=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+f+k|0;S=f+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(P^E))+0x766a0abb|0;O=O+S|0;S=S+(x&C^B&(x^C))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+p+_|0;E=p+E+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(P^O&(R^P))+0x81c2c92e|0;B=B+E|0;E=E+(S&x^C&(S^x))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;y=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+y+e|0;P=y+P+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(O^R))+0x92722c85|0;C=C+P|0;P=P+(E&S^x&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;g=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+g+t|0;R=g+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(O^C&(B^O))+0xa2bfe8a1|0;x=x+R|0;R=R+(P&E^S&(P^E))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;m=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+m+r|0;O=m+O+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(B^x&(C^B))+0xa81a664b|0;S=S+O|0;O=O+(R&P^E&(R^P))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;b=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+b+d|0;B=b+B+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(x^C))+0xc24b8b70|0;E=E+B|0;B=B+(O&R^P&(O^R))+(O>>>2^O>>>13^O>>>22^O<<30^O<<19^O<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+h|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(S^x))+0xc76c51a3|0;P=P+C|0;C=C+(B&O^R&(B^O))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;v=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+v+f|0;x=v+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(S^P&(E^S))+0xd192e819|0;R=R+x|0;x=x+(C&B^O&(C^B))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;A=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+A+p|0;S=A+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(P^E))+0xd6990624|0;O=O+S|0;S=S+(x&C^B&(x^C))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;k=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+y|0;E=k+E+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(P^O&(R^P))+0xf40e3585|0;B=B+E|0;E=E+(S&x^C&(S^x))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;_=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+_+g|0;P=_+P+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(O^R))+0x106aa070|0;C=C+P|0;P=P+(E&S^x&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+m|0;R=e+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(O^C&(B^O))+0x19a4c116|0;x=x+R|0;R=R+(P&E^S&(P^E))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+t+b|0;O=t+O+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(B^x&(C^B))+0x1e376c08|0;S=S+O|0;O=O+(R&P^E&(R^P))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;r=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;B=r+B+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(x^C))+0x2748774c|0;E=E+B|0;B=B+(O&R^P&(O^R))+(O>>>2^O>>>13^O>>>22^O<<30^O<<19^O<<10)|0;d=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+d+v|0;C=d+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(S^x))+0x34b0bcb5|0;P=P+C|0;C=C+(B&O^R&(B^O))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;h=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+h+A|0;x=h+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(S^P&(E^S))+0x391c0cb3|0;R=R+x|0;x=x+(C&B^O&(C^B))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;f=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+f+k|0;S=f+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(P^E))+0x4ed8aa4a|0;O=O+S|0;S=S+(x&C^B&(x^C))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+p+_|0;E=p+E+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(P^O&(R^P))+0x5b9cca4f|0;B=B+E|0;E=E+(S&x^C&(S^x))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;y=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+y+e|0;P=y+P+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(O^R))+0x682e6ff3|0;C=C+P|0;P=P+(E&S^x&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;g=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+g+t|0;R=g+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(O^C&(B^O))+0x748f82ee|0;x=x+R|0;R=R+(P&E^S&(P^E))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;m=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+m+r|0;O=m+O+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(B^x&(C^B))+0x78a5636f|0;S=S+O|0;O=O+(R&P^E&(R^P))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;b=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+b+d|0;B=b+B+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(C^S&(x^C))+0x84c87814|0;E=E+B|0;B=B+(O&R^P&(O^R))+(O>>>2^O>>>13^O>>>22^O<<30^O<<19^O<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+h|0;C=w+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(S^x))+0x8cc70208|0;P=P+C|0;C=C+(B&O^R&(B^O))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;v=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+v+f|0;x=v+x+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(S^P&(E^S))+0x90befffa|0;R=R+x|0;x=x+(C&B^O&(C^B))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;A=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+A+p|0;S=A+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(P^E))+0xa4506ceb|0;O=O+S|0;S=S+(x&C^B&(x^C))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;k=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+y|0;E=k+E+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(P^O&(R^P))+0xbef9a3f7|0;B=B+E|0;E=E+(S&x^C&(S^x))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;_=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+_+g|0;P=_+P+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(R^B&(O^R))+0xc67178f2|0;C=C+P|0;P=P+(E&S^x&(E^S))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;n=n+P|0;i=i+E|0;s=s+S|0;a=a+x|0;o=o+C|0;c=c+B|0;u=u+O|0;l=l+R|0}function R(e){e=e|0;O(B[e|0]<<24|B[e|1]<<16|B[e|2]<<8|B[e|3],B[e|4]<<24|B[e|5]<<16|B[e|6]<<8|B[e|7],B[e|8]<<24|B[e|9]<<16|B[e|10]<<8|B[e|11],B[e|12]<<24|B[e|13]<<16|B[e|14]<<8|B[e|15],B[e|16]<<24|B[e|17]<<16|B[e|18]<<8|B[e|19],B[e|20]<<24|B[e|21]<<16|B[e|22]<<8|B[e|23],B[e|24]<<24|B[e|25]<<16|B[e|26]<<8|B[e|27],B[e|28]<<24|B[e|29]<<16|B[e|30]<<8|B[e|31],B[e|32]<<24|B[e|33]<<16|B[e|34]<<8|B[e|35],B[e|36]<<24|B[e|37]<<16|B[e|38]<<8|B[e|39],B[e|40]<<24|B[e|41]<<16|B[e|42]<<8|B[e|43],B[e|44]<<24|B[e|45]<<16|B[e|46]<<8|B[e|47],B[e|48]<<24|B[e|49]<<16|B[e|50]<<8|B[e|51],B[e|52]<<24|B[e|53]<<16|B[e|54]<<8|B[e|55],B[e|56]<<24|B[e|57]<<16|B[e|58]<<8|B[e|59],B[e|60]<<24|B[e|61]<<16|B[e|62]<<8|B[e|63])}function I(e){e=e|0;B[e|0]=n>>>24;B[e|1]=n>>>16&255;B[e|2]=n>>>8&255;B[e|3]=n&255;B[e|4]=i>>>24;B[e|5]=i>>>16&255;B[e|6]=i>>>8&255;B[e|7]=i&255;B[e|8]=s>>>24;B[e|9]=s>>>16&255;B[e|10]=s>>>8&255;B[e|11]=s&255;B[e|12]=a>>>24;B[e|13]=a>>>16&255;B[e|14]=a>>>8&255;B[e|15]=a&255;B[e|16]=o>>>24;B[e|17]=o>>>16&255;B[e|18]=o>>>8&255;B[e|19]=o&255;B[e|20]=c>>>24;B[e|21]=c>>>16&255;B[e|22]=c>>>8&255;B[e|23]=c&255;B[e|24]=u>>>24;B[e|25]=u>>>16&255;B[e|26]=u>>>8&255;B[e|27]=u&255;B[e|28]=l>>>24;B[e|29]=l>>>16&255;B[e|30]=l>>>8&255;B[e|31]=l&255}function T(){n=0x6a09e667;i=0xbb67ae85;s=0x3c6ef372;a=0xa54ff53a;o=0x510e527f;c=0x9b05688c;u=0x1f83d9ab;l=0x5be0cd19;d=h=0}function M(e,t,r,f,p,y,g,m,b,w){e=e|0;t=t|0;r=r|0;f=f|0;p=p|0;y=y|0;g=g|0;m=m|0;b=b|0;w=w|0;n=e;i=t;s=r;a=f;o=p;c=y;u=g;l=m;d=b;h=w}function N(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){R(e);e=e+64|0;t=t-64|0;r=r+64|0}d=d+r|0;if(d>>>0<r>>>0)h=h+1|0;return r|0}function D(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=N(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;d=d+t|0;if(d>>>0<t>>>0)h=h+1|0;B[e|t]=0x80;if((t|0)>=56){for(i=t+1|0;(i|0)<64;i=i+1|0)B[e|i]=0x00;R(e);t=0;B[e|0]=0}for(i=t+1|0;(i|0)<59;i=i+1|0)B[e|i]=0;B[e|56]=h>>>21&255;B[e|57]=h>>>13&255;B[e|58]=h>>>5&255;B[e|59]=h<<3&255|d>>>29;B[e|60]=d>>>21&255;B[e|61]=d>>>13&255;B[e|62]=d>>>5&255;B[e|63]=d<<3&255;R(e);if(~r)I(r);return n|0}function U(){n=f;i=p;s=y;a=g;o=m;c=b;u=w;l=v;d=64;h=0}function j(){n=A;i=k;s=_;a=P;o=E;c=S;u=x;l=C;d=64;h=0}function F(e,t,r,B,R,I,M,N,D,U,j,F,K,L,z,q){e=e|0;t=t|0;r=r|0;B=B|0;R=R|0;I=I|0;M=M|0;N=N|0;D=D|0;U=U|0;j=j|0;F=F|0;K=K|0;L=L|0;z=z|0;q=q|0;T();O(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,B^0x5c5c5c5c,R^0x5c5c5c5c,I^0x5c5c5c5c,M^0x5c5c5c5c,N^0x5c5c5c5c,D^0x5c5c5c5c,U^0x5c5c5c5c,j^0x5c5c5c5c,F^0x5c5c5c5c,K^0x5c5c5c5c,L^0x5c5c5c5c,z^0x5c5c5c5c,q^0x5c5c5c5c);A=n;k=i;_=s;P=a;E=o;S=c;x=u;C=l;T();O(e^0x36363636,t^0x36363636,r^0x36363636,B^0x36363636,R^0x36363636,I^0x36363636,M^0x36363636,N^0x36363636,D^0x36363636,U^0x36363636,j^0x36363636,F^0x36363636,K^0x36363636,L^0x36363636,z^0x36363636,q^0x36363636);f=n;p=i;y=s;g=a;m=o;b=c;w=u;v=l;d=64;h=0}function K(e,t,r){e=e|0;t=t|0;r=r|0;var d=0,h=0,f=0,p=0,y=0,g=0,m=0,b=0,w=0;if(e&63)return-1;if(~r)if(r&31)return-1;w=D(e,t,-1)|0;d=n,h=i,f=s,p=a,y=o,g=c,m=u,b=l;j();O(d,h,f,p,y,g,m,b,0x80000000,0,0,0,0,0,0,768);if(~r)I(r);return w|0}function L(e,t,r,d,h){e=e|0;t=t|0;r=r|0;d=d|0;h=h|0;var f=0,p=0,y=0,g=0,m=0,b=0,w=0,v=0,A=0,k=0,_=0,P=0,E=0,S=0,x=0,C=0;if(e&63)return-1;if(~h)if(h&31)return-1;B[e+t|0]=r>>>24;B[e+t+1|0]=r>>>16&255;B[e+t+2|0]=r>>>8&255;B[e+t+3|0]=r&255;K(e,t+4|0,-1)|0;f=A=n,p=k=i,y=_=s,g=P=a,m=E=o,b=S=c,w=x=u,v=C=l;d=d-1|0;while((d|0)>0){U();O(A,k,_,P,E,S,x,C,0x80000000,0,0,0,0,0,0,768);A=n,k=i,_=s,P=a,E=o,S=c,x=u,C=l;j();O(A,k,_,P,E,S,x,C,0x80000000,0,0,0,0,0,0,768);A=n,k=i,_=s,P=a,E=o,S=c,x=u,C=l;f=f^n;p=p^i;y=y^s;g=g^a;m=m^o;b=b^c;w=w^u;v=v^l;d=d-1|0}n=f;i=p;s=y;a=g;o=m;c=b;u=w;l=v;if(~h)I(h);return 0}return{reset:T,init:M,process:N,finish:D,hmac_reset:U,hmac_init:F,hmac_finish:K,pbkdf2_generate_block:L}}({Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Ye.push(this.heap),Xe.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new et).process(e).finish().result}}et.NAME="sha256";var tt=rt;function rt(e,t){if(!e)throw Error(t||"Assertion failed")}rt.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var nt=void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function it(e,t){return e(t={exports:{}},t.exports),t.exports}function st(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var at=it((function(e){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}));function ot(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function ct(e){return 1===e.length?"0"+e:e}function ut(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var lt={inherits:at,toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,a=255&i;s?r.push(s,a):r.push(a)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},toHex:function(e){for(var t="",r=0;r<e.length;r++)t+=ct(e[r].toString(16));return t},htonl:ot,toHex32:function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=ot(i)),r+=ut(i.toString(16))}return r},zero2:ct,zero8:ut,join32:function(e,t,r,n){var i=r-t;tt(i%4==0);for(var s=Array(i/4),a=0,o=t;a<s.length;a++,o+=4){var c;c="big"===n?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],s[a]=c>>>0}return s},split32:function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,n){return e+t+r+n>>>0},sum32_5:function(e,t,r,n,i){return e+t+r+n+i>>>0},sum64:function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,a=(s<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=s},sum64_hi:function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,n){return t+n>>>0},sum64_4_hi:function(e,t,r,n,i,s,a,o){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+s>>>0)<s?1:0,e+r+i+a+(c+=(u=u+o>>>0)<o?1:0)>>>0},sum64_4_lo:function(e,t,r,n,i,s,a,o){return t+n+s+o>>>0},sum64_5_hi:function(e,t,r,n,i,s,a,o,c,u){var l=0,d=t;return l+=(d=d+n>>>0)<t?1:0,l+=(d=d+s>>>0)<s?1:0,l+=(d=d+o>>>0)<o?1:0,e+r+i+a+c+(l+=(d=d+u>>>0)<u?1:0)>>>0},sum64_5_lo:function(e,t,r,n,i,s,a,o,c,u){return t+n+s+o+u>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function dt(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var ht=dt;dt.prototype.update=function(e,t){if(e=lt.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=lt.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},dt.prototype.digest=function(e){return this.update(this._pad()),tt(null===this.pending),this._digest(e)},dt.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var ft={BlockHash:ht},pt=lt.rotr32;function yt(e,t,r){return e&t^~e&r}function gt(e,t,r){return e&t^e&r^t&r}var mt=yt,bt=gt,wt=lt.sum32,vt=lt.sum32_4,At=lt.sum32_5,kt=mt,_t=bt,Pt=function(e){return pt(e,2)^pt(e,13)^pt(e,22)},Et=function(e){return pt(e,6)^pt(e,11)^pt(e,25)},St=function(e){return pt(e,7)^pt(e,18)^e>>>3},xt=function(e){return pt(e,17)^pt(e,19)^e>>>10},Ct=ft.BlockHash,Bt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ot(){if(!(this instanceof Ot))return new Ot;Ct.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Bt,this.W=Array(64)}lt.inherits(Ot,Ct);var Rt=Ot;function It(){if(!(this instanceof It))return new It;Rt.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ot.blockSize=512,Ot.outSize=256,Ot.hmacStrength=192,Ot.padLength=64,Ot.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=vt(xt(r[n-2]),r[n-7],St(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],d=this.h[7];for(tt(this.k.length===r.length),n=0;n<r.length;n++){var h=At(d,Et(c),kt(c,u,l),this.k[n],r[n]),f=wt(Pt(i),_t(i,s,a));d=l,l=u,u=c,c=wt(o,h),o=a,a=s,s=i,i=wt(h,f)}this.h[0]=wt(this.h[0],i),this.h[1]=wt(this.h[1],s),this.h[2]=wt(this.h[2],a),this.h[3]=wt(this.h[3],o),this.h[4]=wt(this.h[4],c),this.h[5]=wt(this.h[5],u),this.h[6]=wt(this.h[6],l),this.h[7]=wt(this.h[7],d)},Ot.prototype._digest=function(e){return"hex"===e?lt.toHex32(this.h,"big"):lt.split32(this.h,"big")},lt.inherits(It,Rt);var Tt=It;It.blockSize=512,It.outSize=224,It.hmacStrength=192,It.padLength=64,It.prototype._digest=function(e){return"hex"===e?lt.toHex32(this.h.slice(0,7),"big"):lt.split32(this.h.slice(0,7),"big")};var Mt=lt.rotr64_hi,Nt=lt.rotr64_lo,Dt=lt.shr64_hi,Ut=lt.shr64_lo,jt=lt.sum64,Ft=lt.sum64_hi,Kt=lt.sum64_lo,Lt=lt.sum64_4_hi,zt=lt.sum64_4_lo,qt=lt.sum64_5_hi,Ht=lt.sum64_5_lo,Gt=ft.BlockHash,Wt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Vt(){if(!(this instanceof Vt))return new Vt;Gt.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Wt,this.W=Array(160)}lt.inherits(Vt,Gt);var Jt=Vt;function Qt(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function $t(e,t,r,n,i,s){var a=t&n^~t&s;return a<0&&(a+=4294967296),a}function Zt(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function Yt(e,t,r,n,i,s){var a=t&n^t&s^n&s;return a<0&&(a+=4294967296),a}function Xt(e,t){var r=Mt(e,t,28)^Mt(t,e,2)^Mt(t,e,7);return r<0&&(r+=4294967296),r}function er(e,t){var r=Nt(e,t,28)^Nt(t,e,2)^Nt(t,e,7);return r<0&&(r+=4294967296),r}function tr(e,t){var r=Mt(e,t,14)^Mt(e,t,18)^Mt(t,e,9);return r<0&&(r+=4294967296),r}function rr(e,t){var r=Nt(e,t,14)^Nt(e,t,18)^Nt(t,e,9);return r<0&&(r+=4294967296),r}function nr(e,t){var r=Mt(e,t,1)^Mt(e,t,8)^Dt(e,t,7);return r<0&&(r+=4294967296),r}function ir(e,t){var r=Nt(e,t,1)^Nt(e,t,8)^Ut(e,t,7);return r<0&&(r+=4294967296),r}function sr(e,t){var r=Mt(e,t,19)^Mt(t,e,29)^Dt(e,t,6);return r<0&&(r+=4294967296),r}function ar(e,t){var r=Nt(e,t,19)^Nt(t,e,29)^Ut(e,t,6);return r<0&&(r+=4294967296),r}function or(){if(!(this instanceof or))return new or;Jt.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Vt.blockSize=1024,Vt.outSize=512,Vt.hmacStrength=192,Vt.padLength=128,Vt.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=sr(r[n-4],r[n-3]),s=ar(r[n-4],r[n-3]),a=r[n-14],o=r[n-13],c=nr(r[n-30],r[n-29]),u=ir(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=Lt(i,s,a,o,c,u,l,d),r[n+1]=zt(i,s,a,o,c,u,l,d)}},Vt.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],d=this.h[8],h=this.h[9],f=this.h[10],p=this.h[11],y=this.h[12],g=this.h[13],m=this.h[14],b=this.h[15];tt(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var v=m,A=b,k=tr(d,h),_=rr(d,h),P=Qt(d,0,f,0,y),E=$t(0,h,0,p,0,g),S=this.k[w],x=this.k[w+1],C=r[w],B=r[w+1],O=qt(v,A,k,_,P,E,S,x,C,B),R=Ht(v,A,k,_,P,E,S,x,C,B);v=Xt(n,i),A=er(n,i),k=Zt(n,0,s,0,o),_=Yt(0,i,0,a,0,c);var I=Ft(v,A,k,_),T=Kt(v,A,k,_);m=y,b=g,y=f,g=p,f=d,p=h,d=Ft(u,l,O,R),h=Kt(l,l,O,R),u=o,l=c,o=s,c=a,s=n,a=i,n=Ft(O,R,I,T),i=Kt(O,R,I,T)}jt(this.h,0,n,i),jt(this.h,2,s,a),jt(this.h,4,o,c),jt(this.h,6,u,l),jt(this.h,8,d,h),jt(this.h,10,f,p),jt(this.h,12,y,g),jt(this.h,14,m,b)},Vt.prototype._digest=function(e){return"hex"===e?lt.toHex32(this.h,"big"):lt.split32(this.h,"big")},lt.inherits(or,Jt);var cr=or;or.blockSize=1024,or.outSize=384,or.hmacStrength=192,or.padLength=128,or.prototype._digest=function(e){return"hex"===e?lt.toHex32(this.h.slice(0,12),"big"):lt.split32(this.h.slice(0,12),"big")};var ur=lt.rotl32,lr=lt.sum32,dr=lt.sum32_3,hr=lt.sum32_4,fr=ft.BlockHash;function pr(){if(!(this instanceof pr))return new pr;fr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}lt.inherits(pr,fr);var yr=pr;function gr(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function mr(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function br(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}pr.blockSize=512,pr.outSize=160,pr.hmacStrength=192,pr.padLength=64,pr.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],o=r,c=n,u=i,l=s,d=a,h=0;h<80;h++){var f=lr(ur(hr(r,gr(h,n,i,s),e[wr[h]+t],mr(h)),Ar[h]),a);r=a,a=s,s=ur(i,10),i=n,n=f,f=lr(ur(hr(o,gr(79-h,c,u,l),e[vr[h]+t],br(h)),kr[h]),d),o=d,d=l,l=ur(u,10),u=c,c=f}f=dr(this.h[1],i,l),this.h[1]=dr(this.h[2],s,d),this.h[2]=dr(this.h[3],a,o),this.h[3]=dr(this.h[4],r,c),this.h[4]=dr(this.h[0],n,u),this.h[0]=f},pr.prototype._digest=function(e){return"hex"===e?lt.toHex32(this.h,"little"):lt.split32(this.h,"little")};var wr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],vr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ar=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],kr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_r={ripemd160:yr};function Pr(e,t){let r=e[0],n=e[1],i=e[2],s=e[3];r=Sr(r,n,i,s,t[0],7,-680876936),s=Sr(s,r,n,i,t[1],12,-389564586),i=Sr(i,s,r,n,t[2],17,606105819),n=Sr(n,i,s,r,t[3],22,-1044525330),r=Sr(r,n,i,s,t[4],7,-176418897),s=Sr(s,r,n,i,t[5],12,1200080426),i=Sr(i,s,r,n,t[6],17,-1473231341),n=Sr(n,i,s,r,t[7],22,-45705983),r=Sr(r,n,i,s,t[8],7,1770035416),s=Sr(s,r,n,i,t[9],12,-1958414417),i=Sr(i,s,r,n,t[10],17,-42063),n=Sr(n,i,s,r,t[11],22,-1990404162),r=Sr(r,n,i,s,t[12],7,1804603682),s=Sr(s,r,n,i,t[13],12,-40341101),i=Sr(i,s,r,n,t[14],17,-1502002290),n=Sr(n,i,s,r,t[15],22,1236535329),r=xr(r,n,i,s,t[1],5,-165796510),s=xr(s,r,n,i,t[6],9,-1069501632),i=xr(i,s,r,n,t[11],14,643717713),n=xr(n,i,s,r,t[0],20,-373897302),r=xr(r,n,i,s,t[5],5,-701558691),s=xr(s,r,n,i,t[10],9,38016083),i=xr(i,s,r,n,t[15],14,-660478335),n=xr(n,i,s,r,t[4],20,-405537848),r=xr(r,n,i,s,t[9],5,568446438),s=xr(s,r,n,i,t[14],9,-1019803690),i=xr(i,s,r,n,t[3],14,-187363961),n=xr(n,i,s,r,t[8],20,1163531501),r=xr(r,n,i,s,t[13],5,-1444681467),s=xr(s,r,n,i,t[2],9,-51403784),i=xr(i,s,r,n,t[7],14,1735328473),n=xr(n,i,s,r,t[12],20,-1926607734),r=Cr(r,n,i,s,t[5],4,-378558),s=Cr(s,r,n,i,t[8],11,-2022574463),i=Cr(i,s,r,n,t[11],16,1839030562),n=Cr(n,i,s,r,t[14],23,-35309556),r=Cr(r,n,i,s,t[1],4,-1530992060),s=Cr(s,r,n,i,t[4],11,1272893353),i=Cr(i,s,r,n,t[7],16,-155497632),n=Cr(n,i,s,r,t[10],23,-1094730640),r=Cr(r,n,i,s,t[13],4,681279174),s=Cr(s,r,n,i,t[0],11,-358537222),i=Cr(i,s,r,n,t[3],16,-722521979),n=Cr(n,i,s,r,t[6],23,76029189),r=Cr(r,n,i,s,t[9],4,-640364487),s=Cr(s,r,n,i,t[12],11,-421815835),i=Cr(i,s,r,n,t[15],16,530742520),n=Cr(n,i,s,r,t[2],23,-995338651),r=Br(r,n,i,s,t[0],6,-198630844),s=Br(s,r,n,i,t[7],10,1126891415),i=Br(i,s,r,n,t[14],15,-1416354905),n=Br(n,i,s,r,t[5],21,-57434055),r=Br(r,n,i,s,t[12],6,1700485571),s=Br(s,r,n,i,t[3],10,-1894986606),i=Br(i,s,r,n,t[10],15,-1051523),n=Br(n,i,s,r,t[1],21,-2054922799),r=Br(r,n,i,s,t[8],6,1873313359),s=Br(s,r,n,i,t[15],10,-30611744),i=Br(i,s,r,n,t[6],15,-1560198380),n=Br(n,i,s,r,t[13],21,1309151649),r=Br(r,n,i,s,t[4],6,-145523070),s=Br(s,r,n,i,t[11],10,-1120210379),i=Br(i,s,r,n,t[2],15,718787259),n=Br(n,i,s,r,t[9],21,-343485551),e[0]=Tr(r,e[0]),e[1]=Tr(n,e[1]),e[2]=Tr(i,e[2]),e[3]=Tr(s,e[3])}function Er(e,t,r,n,i,s){return t=Tr(Tr(t,e),Tr(n,s)),Tr(t<<i|t>>>32-i,r)}function Sr(e,t,r,n,i,s,a){return Er(t&r|~t&n,e,t,i,s,a)}function xr(e,t,r,n,i,s,a){return Er(t&n|r&~n,e,t,i,s,a)}function Cr(e,t,r,n,i,s,a){return Er(t^r^n,e,t,i,s,a)}function Br(e,t,r,n,i,s,a){return Er(r^(t|~n),e,t,i,s,a)}function Or(e){const t=[];let r;for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}const Rr="0123456789abcdef".split("");function Ir(e){let t="",r=0;for(;r<4;r++)t+=Rr[e>>8*r+4&15]+Rr[e>>8*r&15];return t}function Tr(e,t){return e+t&4294967295}const Mr=Y.getWebCrypto(),Nr=Y.getNodeCrypto(),Dr=Nr&&Nr.getHashes();function Ur(e){if(Nr&&Dr.includes(e))return async function(t){const r=Nr.createHash(e);return j(t,(e=>{r.update(e)}),(()=>new Uint8Array(r.digest())))}}function jr(e,t){return async function(r,n=ae){if(u(r)&&(r=await G(r)),!Y.isStream(r)&&Mr&&t&&r.length>=n.minBytesForWebCrypto)return new Uint8Array(await Mr.digest(t,r));const i=e();return j(r,(e=>{i.update(e)}),(()=>new Uint8Array(i.digest())))}}function Fr(e,t){return async function(r,n=ae){if(u(r)&&(r=await G(r)),Y.isStream(r)){const t=new e;return j(r,(e=>{t.process(e)}),(()=>t.finish().result))}return Mr&&t&&r.length>=n.minBytesForWebCrypto?new Uint8Array(await Mr.digest(t,r)):e.bytes(r)}}const Kr={md5:Ur("md5")||async function(e){const t=function(e){const t=e.length,r=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=e.length;n+=64)Pr(r,Or(e.substring(n-64,n)));e=e.substring(n-64);const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(Pr(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,Pr(r,i),r}(Y.uint8ArrayToString(e));return Y.hexToUint8Array(function(e){for(let t=0;t<e.length;t++)e[t]=Ir(e[t]);return e.join("")}(t))},sha1:Ur("sha1")||Fr(Ze,"SHA-1"),sha224:Ur("sha224")||jr(Tt),sha256:Ur("sha256")||Fr(et,"SHA-256"),sha384:Ur("sha384")||jr(cr,"SHA-384"),sha512:Ur("sha512")||jr(Jt,"SHA-512"),ripemd:Ur("ripemd160")||jr(yr)};var Lr={md5:Kr.md5,sha1:Kr.sha1,sha224:Kr.sha224,sha256:Kr.sha256,sha384:Kr.sha384,sha512:Kr.sha512,ripemd:Kr.ripemd,digest:function(e,t){switch(e){case $.hash.md5:return this.md5(t);case $.hash.sha1:return this.sha1(t);case $.hash.ripemd:return this.ripemd(t);case $.hash.sha256:return this.sha256(t);case $.hash.sha384:return this.sha384(t);case $.hash.sha512:return this.sha512(t);case $.hash.sha224:return this.sha224(t);default:throw Error("Invalid hash function.")}},getHashByteLength:function(e){switch(e){case $.hash.md5:return 16;case $.hash.sha1:case $.hash.ripemd:return 20;case $.hash.sha256:return 32;case $.hash.sha384:return 48;case $.hash.sha512:return 64;case $.hash.sha224:return 28;default:throw Error("Invalid hash algorithm.")}}};class zr{static encrypt(e,t,r){return new zr(t,r).encrypt(e)}static decrypt(e,t,r){return new zr(t,r).decrypt(e)}constructor(e,t,r){this.aes=r||new xe(e,t,!0,"CFB"),delete this.aes.padding}encrypt(e){return Ae(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Ae(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function qr(e){const t=$.read($.symmetric,e);return We[t]}const Hr=Y.getWebCrypto(),Gr=Y.getNodeCrypto(),Wr=Gr?Gr.getCiphers():[],Vr={idea:Wr.includes("idea-cfb")?"idea-cfb":void 0,tripledes:Wr.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:Wr.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:Wr.includes("bf-cfb")?"bf-cfb":void 0,aes128:Wr.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:Wr.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:Wr.includes("aes-256-cfb")?"aes-256-cfb":void 0};var Jr=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n,i){const s=$.read($.symmetric,e);if(Y.getNodeCrypto()&&Vr[s])return function(e,t,r,n){const i=$.read($.symmetric,e),s=new Gr.createCipheriv(Vr[i],t,n);return j(r,(e=>new Uint8Array(s.update(e))))}(e,t,r,n);if(Y.isAES(e))return function(e,t,r,n,i){if(Y.getWebCrypto()&&24!==t.length&&!Y.isStream(r)&&r.length>=3e3*i.minBytesForWebCrypto)return async function(e,t,r,n){const i="AES-CBC",s=await Hr.importKey("raw",t,{name:i},!1,["encrypt"]),{blockSize:a}=qr(e),o=Y.concatUint8Array([new Uint8Array(a),r]),c=new Uint8Array(await Hr.encrypt({name:i,iv:n},s,o)).subarray(0,r.length);return function(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]^t[r]}(c,r),c}(e,t,r,n);const s=new zr(t,n);return j(r,(e=>s.aes.AES_Encrypt_process(e)),(()=>s.aes.AES_Encrypt_finish()))}(e,t,r,n,i);const a=new(qr(e))(t),o=a.blockSize,c=n.slice();let u=new Uint8Array;const l=e=>{e&&(u=Y.concatUint8Array([u,e]));const t=new Uint8Array(u.length);let r,n=0;for(;e?u.length>=o:u.length;){const e=a.encrypt(c);for(r=0;r<o;r++)c[r]=u[r]^e[r],t[n++]=c[r];u=u.subarray(o)}return t.subarray(0,n)};return j(r,l,l)},decrypt:async function(e,t,r,n){const i=$.read($.symmetric,e);if(Y.getNodeCrypto()&&Vr[i])return function(e,t,r,n){const i=$.read($.symmetric,e),s=new Gr.createDecipheriv(Vr[i],t,n);return j(r,(e=>new Uint8Array(s.update(e))))}(e,t,r,n);if(Y.isAES(e))return function(e,t,r,n){if(Y.isStream(r)){const e=new zr(t,n);return j(r,(t=>e.aes.AES_Decrypt_process(t)),(()=>e.aes.AES_Decrypt_finish()))}return zr.decrypt(r,t,n)}(0,t,r,n);const s=new(qr(e))(t),a=s.blockSize;let o=n,c=new Uint8Array;const u=e=>{e&&(c=Y.concatUint8Array([c,e]));const t=new Uint8Array(c.length);let r,n=0;for(;e?c.length>=a:c.length;){const e=s.encrypt(o);for(o=c.subarray(0,a),r=0;r<a;r++)t[n++]=o[r]^e[r];c=c.subarray(a)}return t.subarray(0,n)};return j(r,u,u)}});class Qr{static encrypt(e,t,r){return new Qr(t,r).encrypt(e)}static decrypt(e,t,r){return new Qr(t,r).encrypt(e)}constructor(e,t,r){this.aes=r||new xe(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(t)}encrypt(e){return Ae(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Ae(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(e,t,r){let{asm:n}=this.aes.acquire_asm();if(void 0!==r){if(r<8||r>48)throw new _e("illegal counter size");let e=Math.pow(2,r)-1;n.set_mask(0,0,e/4294967296|0,0|e)}else r=48,n.set_mask(0,0,65535,4294967295);if(void 0===e)throw Error("nonce is required");{let t=e.length;if(!t||t>16)throw new _e("illegal nonce size");let r=new DataView(new ArrayBuffer(16));new Uint8Array(r.buffer).set(e),n.set_nonce(r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12))}if(void 0!==t){if(t<0||t>=Math.pow(2,r))throw new _e("illegal counter value");n.set_counter(0,0,t/4294967296|0,0|t)}}}class $r{static encrypt(e,t,r=!0,n){return new $r(t,n,r).encrypt(e)}static decrypt(e,t,r=!0,n){return new $r(t,n,r).decrypt(e)}constructor(e,t,r=!0,n){this.aes=n||new xe(e,t,r,"CBC")}encrypt(e){return Ae(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Ae(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const Zr=Y.getWebCrypto(),Yr=Y.getNodeCrypto(),Xr=16;function en(e,t){const r=e.length-Xr;for(let n=0;n<Xr;n++)e[n+r]^=t[n];return e}const tn=new Uint8Array(Xr),rn=Y.getWebCrypto(),nn=Y.getNodeCrypto(),sn=Y.getNodeBuffer(),an=new Uint8Array(16),on=new Uint8Array(16);on[15]=1;const cn=new Uint8Array(16);async function un(e){const t=await async function(e){const t=await async function(e){return Y.getWebCrypto()&&24!==e.length?(e=await Zr.importKey("raw",e,{name:"AES-CBC",length:8*e.length},!1,["encrypt"]),async function(t){const r=await Zr.encrypt({name:"AES-CBC",iv:tn,length:128},e,t);return new Uint8Array(r).subarray(0,r.byteLength-Xr)}):Y.getNodeCrypto()?async function(t){const r=new Yr.createCipheriv("aes-"+8*e.length+"-cbc",e,tn).update(t);return new Uint8Array(r)}:async function(t){return $r.encrypt(t,e,!1,tn)}}(e),r=Y.double(await t(tn)),n=Y.double(r);return async function(e){return(await t(function(e,t,r){if(e.length&&e.length%Xr==0)return en(e,t);const n=new Uint8Array(e.length+(Xr-e.length%Xr));return n.set(e),n[e.length]=128,en(n,r)}(e,r,n))).subarray(-16)}}(e);return function(e,r){return t(Y.concatUint8Array([e,r]))}}async function ln(e){return Y.getWebCrypto()&&24!==e.length?(e=await rn.importKey("raw",e,{name:"AES-CTR",length:8*e.length},!1,["encrypt"]),async function(t,r){const n=await rn.encrypt({name:"AES-CTR",counter:r,length:128},e,t);return new Uint8Array(n)}):Y.getNodeCrypto()?async function(t,r){const n=new nn.createCipheriv("aes-"+8*e.length+"-ctr",e,r),i=sn.concat([n.update(t),n.final()]);return new Uint8Array(i)}:async function(t,r){return Qr.encrypt(t,e,r)}}async function dn(e,t){if(e!==$.symmetric.aes128&&e!==$.symmetric.aes192&&e!==$.symmetric.aes256)throw Error("EAX mode supports only AES cipher");const[r,n]=await Promise.all([un(t),ln(t)]);return{encrypt:async function(e,t,i){const[s,a]=await Promise.all([r(an,t),r(on,i)]),o=await n(e,s),c=await r(cn,o);for(let e=0;e<16;e++)c[e]^=a[e]^s[e];return Y.concatUint8Array([o,c])},decrypt:async function(e,t,i){if(e.length<16)throw Error("Invalid EAX ciphertext");const s=e.subarray(0,-16),a=e.subarray(-16),[o,c,u]=await Promise.all([r(an,t),r(on,i),r(cn,s)]),l=u;for(let e=0;e<16;e++)l[e]^=c[e]^o[e];if(!Y.equalsUint8Array(a,l))throw Error("Authentication tag mismatch");return await n(s,o)}}}cn[15]=2,dn.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[8+e]^=t[e];return r},dn.blockLength=16,dn.ivLength=16,dn.tagLength=16;const hn=16;function fn(e){let t=0;for(let r=1;!(e&r);r<<=1)t++;return t}function pn(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r];return e}function yn(e,t){return pn(e.slice(),t)}const gn=new Uint8Array(hn),mn=new Uint8Array([1]);async function bn(e,t){let r,n,i,s=0;function a(e,t,n,a){const o=t.length/hn|0;!function(e,t){const r=Y.nbits(Math.max(e.length,t.length)/hn|0)-1;for(let e=s+1;e<=r;e++)i[e]=Y.double(i[e-1]);s=r}(t,a);const c=Y.concatUint8Array([gn.subarray(0,15-n.length),mn,n]),u=63&c[15];c[15]&=192;const l=r(c),d=Y.concatUint8Array([l,yn(l.subarray(0,8),l.subarray(1,9))]),h=Y.shiftRight(d.subarray(0+(u>>3),17+(u>>3)),8-(7&u)).subarray(1),f=new Uint8Array(hn),p=new Uint8Array(t.length+16);let y,g=0;for(y=0;y<o;y++)pn(h,i[fn(y+1)]),p.set(pn(e(yn(h,t)),h),g),pn(f,e===r?t:p.subarray(g)),t=t.subarray(hn),g+=hn;if(t.length){pn(h,i.x);const n=r(h);p.set(yn(t,n),g);const s=new Uint8Array(hn);s.set(e===r?t:p.subarray(g,-16),0),s[t.length]=128,pn(f,s),g+=t.length}const m=pn(r(pn(pn(f,h),i.$)),function(e){if(!e.length)return gn;const t=e.length/hn|0,n=new Uint8Array(hn),s=new Uint8Array(hn);for(let a=0;a<t;a++)pn(n,i[fn(a+1)]),pn(s,r(yn(n,e))),e=e.subarray(hn);if(e.length){pn(n,i.x);const t=new Uint8Array(hn);t.set(e,0),t[e.length]=128,pn(t,n),pn(s,r(t))}return s}(a));return p.set(m,g),p}return function(e,t){const s=$.read($.symmetric,e),a=new We[s](t);r=a.encrypt.bind(a),n=a.decrypt.bind(a);const o=r(gn),c=Y.double(o);i=[],i[0]=Y.double(c),i.x=o,i.$=c}(e,t),{encrypt:async function(e,t,n){return a(r,e,t,n)},decrypt:async function(e,t,r){if(e.length<16)throw Error("Invalid OCB ciphertext");const i=e.subarray(-16);e=e.subarray(0,-16);const s=a(n,e,t,r);if(Y.equalsUint8Array(i,s.subarray(-16)))return s.subarray(0,-16);throw Error("Authentication tag mismatch")}}}bn.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[7+e]^=t[e];return r},bn.blockLength=hn,bn.ivLength=15,bn.tagLength=16;const wn=68719476704;class vn{constructor(e,t,r,n=16,i){this.tagSize=n,this.gamma0=0,this.counter=1,this.aes=i||new xe(e,void 0,!1,"CTR");let{asm:s,heap:a}=this.aes.acquire_asm();if(s.gcm_init(),this.tagSize<4||this.tagSize>16)throw new _e("illegal tagSize value");const o=t.length||0,c=new Uint8Array(16);12!==o?(this._gcm_mac_process(t),a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=0,a[11]=o>>>29,a[12]=o>>>21&255,a[13]=o>>>13&255,a[14]=o>>>5&255,a[15]=o<<3&255,s.mac(me.MAC.GCM,me.HEAP_DATA,16),s.get_iv(me.HEAP_DATA),s.set_iv(0,0,0,0),c.set(a.subarray(0,16))):(c.set(t),c[15]=1);const u=new DataView(c.buffer);if(this.gamma0=u.getUint32(12),s.set_nonce(u.getUint32(0),u.getUint32(4),u.getUint32(8),0),s.set_mask(0,0,0,4294967295),void 0!==r){if(r.length>wn)throw new _e("illegal adata length");r.length?(this.adata=r,this._gcm_mac_process(r)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");s.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,t,r,n,i){return new vn(t,r,n,i).encrypt(e)}static decrypt(e,t,r,n,i){return new vn(t,r,n,i).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let t=0,r=e.length||0,{asm:n,heap:i}=this.aes.acquire_asm(),s=this.counter,a=this.aes.pos,o=this.aes.len,c=0,u=o+r&-16,l=0;if((s-1<<4)+o+r>wn)throw new RangeError("counter overflow");const d=new Uint8Array(u);for(;r>0;)l=ve(i,a+o,e,t,r),o+=l,t+=l,r-=l,l=n.cipher(me.ENC.CTR,me.HEAP_DATA+a,o),l=n.mac(me.MAC.GCM,me.HEAP_DATA+a,l),l&&d.set(i.subarray(a,a+l),c),s+=l>>>4,c+=l,l<o?(a+=l,o-=l):(a=0,o=0);return this.counter=s,this.aes.pos=a,this.aes.len=o,d}AES_GCM_Encrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.counter,n=this.tagSize,i=this.adata,s=this.aes.pos,a=this.aes.len;const o=new Uint8Array(a+n);e.cipher(me.ENC.CTR,me.HEAP_DATA+s,a+15&-16),a&&o.set(t.subarray(s,s+a));let c=a;for(;15&c;c++)t[s+c]=0;e.mac(me.MAC.GCM,me.HEAP_DATA+s,c);const u=void 0!==i?i.length:0,l=(r-1<<4)+a;return t[0]=0,t[1]=0,t[2]=0,t[3]=u>>>29,t[4]=u>>>21,t[5]=u>>>13&255,t[6]=u>>>5&255,t[7]=u<<3&255,t[8]=t[9]=t[10]=0,t[11]=l>>>29,t[12]=l>>>21&255,t[13]=l>>>13&255,t[14]=l>>>5&255,t[15]=l<<3&255,e.mac(me.MAC.GCM,me.HEAP_DATA,16),e.get_iv(me.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(me.ENC.CTR,me.HEAP_DATA,16),o.set(t.subarray(0,n),a),this.counter=1,this.aes.pos=0,this.aes.len=0,o}AES_GCM_Decrypt_process(e){let t=0,r=e.length||0,{asm:n,heap:i}=this.aes.acquire_asm(),s=this.counter,a=this.tagSize,o=this.aes.pos,c=this.aes.len,u=0,l=c+r>a?c+r-a&-16:0,d=c+r-l,h=0;if((s-1<<4)+c+r>wn)throw new RangeError("counter overflow");const f=new Uint8Array(l);for(;r>d;)h=ve(i,o+c,e,t,r-d),c+=h,t+=h,r-=h,h=n.mac(me.MAC.GCM,me.HEAP_DATA+o,h),h=n.cipher(me.DEC.CTR,me.HEAP_DATA+o,h),h&&f.set(i.subarray(o,o+h),u),s+=h>>>4,u+=h,o=0,c=0;return r>0&&(c+=ve(i,0,e,t,r)),this.counter=s,this.aes.pos=o,this.aes.len=c,f}AES_GCM_Decrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.tagSize,n=this.adata,i=this.counter,s=this.aes.pos,a=this.aes.len,o=a-r;if(a<r)throw new ke("authentication tag not found");const c=new Uint8Array(o),u=new Uint8Array(t.subarray(s+o,s+a));let l=o;for(;15&l;l++)t[s+l]=0;e.mac(me.MAC.GCM,me.HEAP_DATA+s,l),e.cipher(me.DEC.CTR,me.HEAP_DATA+s,l),o&&c.set(t.subarray(s,s+o));const d=void 0!==n?n.length:0,h=(i-1<<4)+a-r;t[0]=0,t[1]=0,t[2]=0,t[3]=d>>>29,t[4]=d>>>21,t[5]=d>>>13&255,t[6]=d>>>5&255,t[7]=d<<3&255,t[8]=t[9]=t[10]=0,t[11]=h>>>29,t[12]=h>>>21&255,t[13]=h>>>13&255,t[14]=h>>>5&255,t[15]=h<<3&255,e.mac(me.MAC.GCM,me.HEAP_DATA,16),e.get_iv(me.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(me.ENC.CTR,me.HEAP_DATA,16);let f=0;for(let e=0;e<r;++e)f|=u[e]^t[e];if(f)throw new Pe("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(e){const t=this.AES_GCM_Decrypt_process(e),r=this.AES_GCM_Decrypt_finish(),n=new Uint8Array(t.length+r.length);return t.length&&n.set(t),r.length&&n.set(r,t.length),n}AES_GCM_encrypt(e){const t=this.AES_GCM_Encrypt_process(e),r=this.AES_GCM_Encrypt_finish(),n=new Uint8Array(t.length+r.length);return t.length&&n.set(t),r.length&&n.set(r,t.length),n}_gcm_mac_process(e){let{asm:t,heap:r}=this.aes.acquire_asm(),n=0,i=e.length||0,s=0;for(;i>0;){for(s=ve(r,0,e,n,i),n+=s,i-=s;15&s;)r[s++]=0;t.mac(me.MAC.GCM,me.HEAP_DATA,s)}}}const An=Y.getWebCrypto(),kn=Y.getNodeCrypto(),_n=Y.getNodeBuffer(),Pn="AES-GCM";async function En(e,t){if(e!==$.symmetric.aes128&&e!==$.symmetric.aes192&&e!==$.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(Y.getNodeCrypto())return{encrypt:async function(e,r,n=new Uint8Array){const i=new kn.createCipheriv("aes-"+8*t.length+"-gcm",t,r);i.setAAD(n);const s=_n.concat([i.update(e),i.final(),i.getAuthTag()]);return new Uint8Array(s)},decrypt:async function(e,r,n=new Uint8Array){const i=new kn.createDecipheriv("aes-"+8*t.length+"-gcm",t,r);i.setAAD(n),i.setAuthTag(e.slice(e.length-16,e.length));const s=_n.concat([i.update(e.slice(0,e.length-16)),i.final()]);return new Uint8Array(s)}};if(Y.getWebCrypto()&&24!==t.length){const e=await An.importKey("raw",t,{name:Pn},!1,["encrypt","decrypt"]);return{encrypt:async function(r,n,i=new Uint8Array){if(!r.length)return vn.encrypt(r,t,n,i);const s=await An.encrypt({name:Pn,iv:n,additionalData:i,tagLength:128},e,r);return new Uint8Array(s)},decrypt:async function(r,n,i=new Uint8Array){if(16===r.length)return vn.decrypt(r,t,n,i);const s=await An.decrypt({name:Pn,iv:n,additionalData:i,tagLength:128},e,r);return new Uint8Array(s)}}}return{encrypt:async function(e,r,n){return vn.encrypt(e,t,r,n)},decrypt:async function(e,r,n){return vn.decrypt(e,t,r,n)}}}En.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[4+e]^=t[e];return r},En.blockLength=16,En.ivLength=12,En.tagLength=16;var Sn={cfb:Jr,gcm:En,experimentalGCM:En,eax:dn,ocb:bn},xn=it((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw Error("no PRNG")},n=new Uint8Array(32);n[0]=9;var i=t(),s=t([1]),a=t([56129,1]),o=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(e,t,r,n){return function(e,t,r,n){var i,s=0;for(i=0;i<32;i++)s|=e[t+i]^r[n+i];return(1&s-1>>>8)-1}(e,t,r,n)}function f(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function p(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function y(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function g(e,r){var n,i,s,a=t(),o=t();for(n=0;n<16;n++)o[n]=r[n];for(p(o),p(o),p(o),i=0;i<2;i++){for(a[0]=o[0]-65517,n=1;n<15;n++)a[n]=o[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),s=a[15]>>16&1,a[14]&=65535,y(o,a,1-s)}for(n=0;n<16;n++)e[2*n]=255&o[n],e[2*n+1]=o[n]>>8}function m(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return g(r,e),g(n,t),h(r,0,n,0)}function b(e){var t=new Uint8Array(32);return g(t,e),1&t[0]}function w(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function v(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function A(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function k(e,t,r){var n,i,s=0,a=0,o=0,c=0,u=0,l=0,d=0,h=0,f=0,p=0,y=0,g=0,m=0,b=0,w=0,v=0,A=0,k=0,_=0,P=0,E=0,S=0,x=0,C=0,B=0,O=0,R=0,I=0,T=0,M=0,N=0,D=r[0],U=r[1],j=r[2],F=r[3],K=r[4],L=r[5],z=r[6],q=r[7],H=r[8],G=r[9],W=r[10],V=r[11],J=r[12],Q=r[13],$=r[14],Z=r[15];s+=(n=t[0])*D,a+=n*U,o+=n*j,c+=n*F,u+=n*K,l+=n*L,d+=n*z,h+=n*q,f+=n*H,p+=n*G,y+=n*W,g+=n*V,m+=n*J,b+=n*Q,w+=n*$,v+=n*Z,a+=(n=t[1])*D,o+=n*U,c+=n*j,u+=n*F,l+=n*K,d+=n*L,h+=n*z,f+=n*q,p+=n*H,y+=n*G,g+=n*W,m+=n*V,b+=n*J,w+=n*Q,v+=n*$,A+=n*Z,o+=(n=t[2])*D,c+=n*U,u+=n*j,l+=n*F,d+=n*K,h+=n*L,f+=n*z,p+=n*q,y+=n*H,g+=n*G,m+=n*W,b+=n*V,w+=n*J,v+=n*Q,A+=n*$,k+=n*Z,c+=(n=t[3])*D,u+=n*U,l+=n*j,d+=n*F,h+=n*K,f+=n*L,p+=n*z,y+=n*q,g+=n*H,m+=n*G,b+=n*W,w+=n*V,v+=n*J,A+=n*Q,k+=n*$,_+=n*Z,u+=(n=t[4])*D,l+=n*U,d+=n*j,h+=n*F,f+=n*K,p+=n*L,y+=n*z,g+=n*q,m+=n*H,b+=n*G,w+=n*W,v+=n*V,A+=n*J,k+=n*Q,_+=n*$,P+=n*Z,l+=(n=t[5])*D,d+=n*U,h+=n*j,f+=n*F,p+=n*K,y+=n*L,g+=n*z,m+=n*q,b+=n*H,w+=n*G,v+=n*W,A+=n*V,k+=n*J,_+=n*Q,P+=n*$,E+=n*Z,d+=(n=t[6])*D,h+=n*U,f+=n*j,p+=n*F,y+=n*K,g+=n*L,m+=n*z,b+=n*q,w+=n*H,v+=n*G,A+=n*W,k+=n*V,_+=n*J,P+=n*Q,E+=n*$,S+=n*Z,h+=(n=t[7])*D,f+=n*U,p+=n*j,y+=n*F,g+=n*K,m+=n*L,b+=n*z,w+=n*q,v+=n*H,A+=n*G,k+=n*W,_+=n*V,P+=n*J,E+=n*Q,S+=n*$,x+=n*Z,f+=(n=t[8])*D,p+=n*U,y+=n*j,g+=n*F,m+=n*K,b+=n*L,w+=n*z,v+=n*q,A+=n*H,k+=n*G,_+=n*W,P+=n*V,E+=n*J,S+=n*Q,x+=n*$,C+=n*Z,p+=(n=t[9])*D,y+=n*U,g+=n*j,m+=n*F,b+=n*K,w+=n*L,v+=n*z,A+=n*q,k+=n*H,_+=n*G,P+=n*W,E+=n*V,S+=n*J,x+=n*Q,C+=n*$,B+=n*Z,y+=(n=t[10])*D,g+=n*U,m+=n*j,b+=n*F,w+=n*K,v+=n*L,A+=n*z,k+=n*q,_+=n*H,P+=n*G,E+=n*W,S+=n*V,x+=n*J,C+=n*Q,B+=n*$,O+=n*Z,g+=(n=t[11])*D,m+=n*U,b+=n*j,w+=n*F,v+=n*K,A+=n*L,k+=n*z,_+=n*q,P+=n*H,E+=n*G,S+=n*W,x+=n*V,C+=n*J,B+=n*Q,O+=n*$,R+=n*Z,m+=(n=t[12])*D,b+=n*U,w+=n*j,v+=n*F,A+=n*K,k+=n*L,_+=n*z,P+=n*q,E+=n*H,S+=n*G,x+=n*W,C+=n*V,B+=n*J,O+=n*Q,R+=n*$,I+=n*Z,b+=(n=t[13])*D,w+=n*U,v+=n*j,A+=n*F,k+=n*K,_+=n*L,P+=n*z,E+=n*q,S+=n*H,x+=n*G,C+=n*W,B+=n*V,O+=n*J,R+=n*Q,I+=n*$,T+=n*Z,w+=(n=t[14])*D,v+=n*U,A+=n*j,k+=n*F,_+=n*K,P+=n*L,E+=n*z,S+=n*q,x+=n*H,C+=n*G,B+=n*W,O+=n*V,R+=n*J,I+=n*Q,T+=n*$,M+=n*Z,v+=(n=t[15])*D,a+=38*(k+=n*j),o+=38*(_+=n*F),c+=38*(P+=n*K),u+=38*(E+=n*L),l+=38*(S+=n*z),d+=38*(x+=n*q),h+=38*(C+=n*H),f+=38*(B+=n*G),p+=38*(O+=n*W),y+=38*(R+=n*V),g+=38*(I+=n*J),m+=38*(T+=n*Q),b+=38*(M+=n*$),w+=38*(N+=n*Z),s=(n=(s+=38*(A+=n*U))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=o,e[3]=c,e[4]=u,e[5]=l,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=y,e[11]=g,e[12]=m,e[13]=b,e[14]=w,e[15]=v}function _(e,t){k(e,t,t)}function P(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)_(i,i),2!==n&&4!==n&&k(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function E(e,r,n){var i,s,o=new Uint8Array(32),c=new Float64Array(80),u=t(),l=t(),d=t(),h=t(),f=t(),p=t();for(s=0;s<31;s++)o[s]=r[s];for(o[31]=127&r[31]|64,o[0]&=248,w(c,n),s=0;s<16;s++)l[s]=c[s],h[s]=u[s]=d[s]=0;for(u[0]=h[0]=1,s=254;s>=0;--s)y(u,l,i=o[s>>>3]>>>(7&s)&1),y(d,h,i),v(f,u,d),A(u,u,d),v(d,l,h),A(l,l,h),_(h,f),_(p,u),k(u,d,u),k(d,l,f),v(f,u,d),A(u,u,d),_(l,u),A(d,h,p),k(u,d,a),v(u,u,h),k(d,d,u),k(u,h,p),k(h,l,c),_(l,f),y(u,l,i),y(d,h,i);for(s=0;s<16;s++)c[s+16]=u[s],c[s+32]=d[s],c[s+48]=l[s],c[s+64]=h[s];var m=c.subarray(32),b=c.subarray(16);return P(m,m),k(b,b,m),g(e,b),0}function S(e,t){return E(e,t,n)}function x(e,r){var n=t(),i=t(),s=t(),a=t(),o=t(),u=t(),l=t(),d=t(),h=t();A(n,e[1],e[0]),A(h,r[1],r[0]),k(n,n,h),v(i,e[0],e[1]),v(h,r[0],r[1]),k(i,i,h),k(s,e[3],r[3]),k(s,s,c),k(a,e[2],r[2]),v(a,a,a),A(o,i,n),A(u,a,s),v(l,a,s),v(d,i,n),k(e[0],o,u),k(e[1],d,l),k(e[2],l,u),k(e[3],o,d)}function C(e,t,r){var n;for(n=0;n<4;n++)y(e[n],t[n],r)}function B(e,r){var n=t(),i=t(),s=t();P(s,r[2]),k(n,r[0],s),k(i,r[1],s),g(e,i),e[31]^=b(n)<<7}function O(e,t,r){var n,a;for(f(e[0],i),f(e[1],s),f(e[2],s),f(e[3],i),a=255;a>=0;--a)C(e,t,n=r[a/8|0]>>(7&a)&1),x(t,e),x(e,e),C(e,t,n)}function R(e,r){var n=[t(),t(),t(),t()];f(n[0],u),f(n[1],l),f(n[2],s),k(n[3],u,l),O(e,n,r)}function I(n,i,s){var a,o,c=[t(),t(),t(),t()];for(s||r(i,32),(a=e.hash(i.subarray(0,32)))[0]&=248,a[31]&=127,a[31]|=64,R(c,a),B(n,c),o=0;o<32;o++)i[o+32]=n[o];return 0}var T=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function M(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*T[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*T[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*T[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function N(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;M(e,r)}function D(e,r){var n=t(),a=t(),c=t(),u=t(),l=t(),h=t(),p=t();return f(e[2],s),w(e[1],r),_(c,e[1]),k(u,c,o),A(c,c,e[2]),v(u,e[2],u),_(l,u),_(h,l),k(p,h,l),k(n,p,c),k(n,n,u),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)_(i,i),1!==n&&k(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(n,n),k(n,n,c),k(n,n,u),k(n,n,u),k(e[0],n,u),_(a,e[0]),k(a,a,u),m(a,c)&&k(e[0],e[0],d),_(a,e[0]),k(a,a,u),m(a,c)?-1:(b(e[0])===r[31]>>7&&A(e[0],i,e[0]),k(e[3],e[0],e[1]),0)}var U=64;function j(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function F(e){for(var t=0;t<e.length;t++)e[t]=0}e.scalarMult=function(e,t){if(j(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return E(r,e,t),r},e.box={},e.box.keyPair=function(){var e,t,n=new Uint8Array(32),i=new Uint8Array(32);return e=n,r(t=i,32),S(e,t),{publicKey:n,secretKey:i}},e.box.keyPair.fromSecretKey=function(e){if(j(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return S(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.sign=function(r,n){if(j(r,n),64!==n.length)throw Error("bad secret key size");var i=new Uint8Array(U+r.length);return function(r,n,i,s){var a,o,c,u,l,d=new Float64Array(64),h=[t(),t(),t(),t()];(a=e.hash(s.subarray(0,32)))[0]&=248,a[31]&=127,a[31]|=64;var f=i+64;for(u=0;u<i;u++)r[64+u]=n[u];for(u=0;u<32;u++)r[32+u]=a[32+u];for(N(c=e.hash(r.subarray(32,f))),R(h,c),B(r,h),u=32;u<64;u++)r[u]=s[u];for(N(o=e.hash(r.subarray(0,f))),u=0;u<64;u++)d[u]=0;for(u=0;u<32;u++)d[u]=c[u];for(u=0;u<32;u++)for(l=0;l<32;l++)d[u+l]+=o[u]*a[l];M(r.subarray(32),d)}(i,r,r.length,n),i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(U),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(r,n,i){if(j(r,n,i),n.length!==U)throw Error("bad signature size");if(32!==i.length)throw Error("bad public key size");var s,a=new Uint8Array(U+r.length),o=new Uint8Array(U+r.length);for(s=0;s<U;s++)a[s]=n[s];for(s=0;s<r.length;s++)a[s+U]=r[s];return function(r,n,i,s){var a,o,c=new Uint8Array(32),u=[t(),t(),t(),t()],l=[t(),t(),t(),t()];if(i<64)return-1;if(D(l,s))return-1;for(a=0;a<i;a++)r[a]=n[a];for(a=0;a<32;a++)r[a+32]=s[a];if(N(o=e.hash(r.subarray(0,i))),O(u,l,o),R(l,n.subarray(32)),x(u,l),B(c,u),i-=64,h(n,0,c,0)){for(a=0;a<i;a++)r[a]=0;return-1}for(a=0;a<i;a++)r[a]=n[a+64];return i}(o,a,a.length,i)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return I(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(j(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(j(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return I(t,r,!0),{publicKey:t,secretKey:r}},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];F(i)})):void 0!==st&&(t=void 0)&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];F(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})}));const Cn=Y.getNodeCrypto();function Bn(e){const t=new Uint8Array(e);if(Cn){const e=Cn.randomBytes(t.length);t.set(e)}else{if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("No secure random number generator available.");crypto.getRandomValues(t)}return t}async function On(e,t){const r=await Y.getBigInteger();if(t.lt(e))throw Error("Illegal parameter value: max <= min");const n=t.sub(e),i=n.byteLength();return new r(await Bn(i+8)).mod(n).add(e)}var Rn=Object.freeze({__proto__:null,getRandomBytes:Bn,getRandomBigInteger:On});async function In(e,t,r){const n=await Y.getBigInteger(),i=new n(1),s=i.leftShift(new n(e-1)),a=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],c=await On(s,s.leftShift(i));let u=c.mod(a).toNumber();do{c.iadd(new n(o[u])),u=(u+o[u])%o.length,c.bitLength()>e&&(c.imod(s.leftShift(i)).iadd(s),u=c.mod(a).toNumber())}while(!await Tn(c,t,r));return c}async function Tn(e,t,r){return!(t&&!e.dec().gcd(t).isOne()||!await async function(e){const t=await Y.getBigInteger();return Mn.every((r=>0!==e.mod(new t(r))))}(e)||!await async function(e,t){const r=await Y.getBigInteger();return(t=t||new r(2)).modExp(e.dec(),e).isOne()}(e)||!await async function(e,t){const r=await Y.getBigInteger(),n=e.bitLength();t||(t=Math.max(1,n/48|0));const i=e.dec();let s=0;for(;!i.getBit(s);)s++;const a=e.rightShift(new r(s));for(;t>0;t--){let t,n=(await On(new r(2),i)).modExp(a,e);if(!n.isOne()&&!n.equal(i)){for(t=1;t<s;t++){if(n=n.mul(n).mod(e),n.isOne())return!1;if(n.equal(i))break}if(t===s)return!1}}return!0}(e,r))}const Mn=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],Nn=[];function Dn(e,t){const r=e.length;if(r>t-11)throw Error("Message too long");const n=function(e){const t=new Uint8Array(e);let r=0;for(;r<e;){const n=Bn(e-r);for(let e=0;e<n.length;e++)0!==n[e]&&(t[r++]=n[e])}return t}(t-r-3),i=new Uint8Array(t);return i[1]=2,i.set(n,2),i.set(e,t-r),i}function Un(e,t){let r=2,n=1;for(let t=r;t<e.length;t++)n&=0!==e[t],r+=n;const i=r-2,s=e.subarray(r+1),a=0===e[0]&2===e[1]&i>=8&!n;if(t)return Y.selectUint8Array(a,s,t);if(a)return s;throw Error("Decryption error")}async function jn(e,t,r){let n;if(t.length!==Lr.getHashByteLength(e))throw Error("Invalid hash length");const i=new Uint8Array(Nn[e].length);for(n=0;n<Nn[e].length;n++)i[n]=Nn[e][n];const s=i.length+t.length;if(r<s+11)throw Error("Intended encoded message length too short");const a=new Uint8Array(r-s-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(a,2),o.set(i,r-s),o.set(t,r-t.length),o}Nn[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],Nn[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],Nn[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],Nn[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],Nn[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],Nn[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],Nn[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var Fn=Object.freeze({__proto__:null,emeEncode:Dn,emeDecode:Un,emsaEncode:jn});const Kn=Y.getWebCrypto(),Ln=Y.getNodeCrypto(),zn=void 0,qn=Ln?zn.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})):void 0,Hn=Ln?zn.define("RSAPubliceKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())})):void 0;var Gn=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,s,a,o,c){if(t&&!Y.isStream(t))if(Y.getWebCrypto())try{return await async function(e,t,r,n,i,s,a,o){const c=await async function(e,t,r,n,i,s){const a=await Y.getBigInteger(),o=new a(n),c=new a(i),u=new a(r);let l=u.mod(c.dec()),d=u.mod(o.dec());return d=d.toUint8Array(),l=l.toUint8Array(),{kty:"RSA",n:se(e,!0),e:se(t,!0),d:se(r,!0),p:se(i,!0),q:se(n,!0),dp:se(l,!0),dq:se(d,!0),qi:se(s,!0),ext:!0}}(r,n,i,s,a,o),u={name:"RSASSA-PKCS1-v1_5",hash:{name:e}},l=await Kn.importKey("jwk",c,u,!1,["sign"]);return new Uint8Array(await Kn.sign("RSASSA-PKCS1-v1_5",l,t))}($.read($.webHash,e),t,r,n,i,s,a,o)}catch(e){Y.printDebugError(e)}else if(Y.getNodeCrypto())return async function(e,t,r,n,i,s,a,o){const{default:c}=await Promise.resolve().then((function(){return ef})),u=new c(s),l=new c(a),d=new c(i),h=d.mod(l.subn(1)),f=d.mod(u.subn(1)),p=Ln.createSign($.read($.hash,e));p.write(t),p.end();const y={version:0,modulus:new c(r),publicExponent:new c(n),privateExponent:new c(i),prime1:new c(a),prime2:new c(s),exponent1:h,exponent2:f,coefficient:new c(o)};if(void 0!==Ln.createPrivateKey){const e=qn.encode(y,"der");return new Uint8Array(p.sign({key:e,format:"der",type:"pkcs1"}))}const g=qn.encode(y,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(p.sign(g))}(e,t,r,n,i,s,a,o);return async function(e,t,r,n){const i=await Y.getBigInteger();t=new i(t);const s=new i(await jn(e,n,t.byteLength()));if(r=new i(r),s.gte(t))throw Error("Message size cannot exceed modulus size");return s.modExp(r,t).toUint8Array("be",t.byteLength())}(e,r,i,c)},verify:async function(e,t,r,n,i,s){if(t&&!Y.isStream(t))if(Y.getWebCrypto())try{return await async function(e,t,r,n,i){const s=function(e,t){return{kty:"RSA",n:se(e,!0),e:se(t,!0),ext:!0}}(n,i),a=await Kn.importKey("jwk",s,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["verify"]);return Kn.verify("RSASSA-PKCS1-v1_5",a,r,t)}($.read($.webHash,e),t,r,n,i)}catch(e){Y.printDebugError(e)}else if(Y.getNodeCrypto())return async function(e,t,r,n,i){const{default:s}=await Promise.resolve().then((function(){return ef})),a=Ln.createVerify($.read($.hash,e));a.write(t),a.end();const o={modulus:new s(n),publicExponent:new s(i)};let c;c=void 0!==Ln.createPrivateKey?{key:Hn.encode(o,"der"),format:"der",type:"pkcs1"}:Hn.encode(o,"pem",{label:"RSA PUBLIC KEY"});try{return await a.verify(c,r)}catch(e){return!1}}(e,t,r,n,i);return async function(e,t,r,n,i){const s=await Y.getBigInteger();if(r=new s(r),t=new s(t),n=new s(n),t.gte(r))throw Error("Signature size cannot exceed modulus size");const a=t.modExp(n,r).toUint8Array("be",r.byteLength()),o=await jn(e,i,r.byteLength());return Y.equalsUint8Array(a,o)}(e,r,n,i,s)},encrypt:async function(e,t,r){return Y.getNodeCrypto()?async function(e,t,r){const{default:n}=await Promise.resolve().then((function(){return ef})),i={modulus:new n(t),publicExponent:new n(r)};let s;return s=void 0!==Ln.createPrivateKey?{key:Hn.encode(i,"der"),format:"der",type:"pkcs1",padding:Ln.constants.RSA_PKCS1_PADDING}:{key:Hn.encode(i,"pem",{label:"RSA PUBLIC KEY"}),padding:Ln.constants.RSA_PKCS1_PADDING},new Uint8Array(Ln.publicEncrypt(s,e))}(e,t,r):async function(e,t,r){const n=await Y.getBigInteger();if(t=new n(t),e=new n(Dn(e,t.byteLength())),r=new n(r),e.gte(t))throw Error("Message size cannot exceed modulus size");return e.modExp(r,t).toUint8Array("be",t.byteLength())}(e,t,r)},decrypt:async function(e,t,r,n,i,s,a,o){if(Y.getNodeCrypto()&&!o)try{return await async function(e,t,r,n,i,s,a){const{default:o}=await Promise.resolve().then((function(){return ef})),c=new o(i),u=new o(s),l=new o(n),d=l.mod(u.subn(1)),h=l.mod(c.subn(1)),f={version:0,modulus:new o(t),publicExponent:new o(r),privateExponent:new o(n),prime1:new o(s),prime2:new o(i),exponent1:d,exponent2:h,coefficient:new o(a)};let p;p=void 0!==Ln.createPrivateKey?{key:qn.encode(f,"der"),format:"der",type:"pkcs1",padding:Ln.constants.RSA_PKCS1_PADDING}:{key:qn.encode(f,"pem",{label:"RSA PRIVATE KEY"}),padding:Ln.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(Ln.privateDecrypt(p,e))}catch(e){throw Error("Decryption error")}}(e,t,r,n,i,s,a)}catch(e){Y.printDebugError(e)}return async function(e,t,r,n,i,s,a,o){const c=await Y.getBigInteger();if(e=new c(e),t=new c(t),r=new c(r),n=new c(n),i=new c(i),s=new c(s),a=new c(a),e.gte(t))throw Error("Data too large.");const u=n.mod(s.dec()),l=n.mod(i.dec()),d=(await On(new c(2),t)).mod(t),h=d.modInv(t).modExp(r,t),f=(e=e.mul(h).mod(t)).modExp(l,i),p=e.modExp(u,s);let y=a.mul(p.sub(f)).mod(s).mul(i).add(f);return y=y.mul(d).mod(t),Un(y.toUint8Array("be",t.byteLength()),o)}(e,t,r,n,i,s,a,o)},generate:async function(e,t){if(t=new(await Y.getBigInteger())(t),Y.getWebCrypto()){const r={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},n=await Kn.generateKey(r,!0,["sign","verify"]),i=await Kn.exportKey("jwk",n.privateKey);return{n:ie(i.n),e:t.toUint8Array(),d:ie(i.d),p:ie(i.q),q:ie(i.p),u:ie(i.qi)}}if(Y.getNodeCrypto()&&Ln.generateKeyPair&&qn){const r={modulusLength:e,publicExponent:t.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},n=await new Promise(((e,t)=>{Ln.generateKeyPair("rsa",r,((r,n,i)=>{r?t(r):e(qn.decode(i,"der"))}))}));return{n:n.modulus.toArrayLike(Uint8Array),e:n.publicExponent.toArrayLike(Uint8Array),d:n.privateExponent.toArrayLike(Uint8Array),p:n.prime2.toArrayLike(Uint8Array),q:n.prime1.toArrayLike(Uint8Array),u:n.coefficient.toArrayLike(Uint8Array)}}let r,n,i;do{n=await In(e-(e>>1),t,40),r=await In(e>>1,t,40),i=r.mul(n)}while(i.bitLength()!==e);const s=r.dec().imul(n.dec());return n.lt(r)&&([r,n]=[n,r]),{n:i.toUint8Array(),e:t.toUint8Array(),d:t.modInv(s).toUint8Array(),p:r.toUint8Array(),q:n.toUint8Array(),u:r.modInv(n).toUint8Array()}},validateParams:async function(e,t,r,n,i,s){const a=await Y.getBigInteger();if(e=new a(e),n=new a(n),i=new a(i),!n.mul(i).equal(e))return!1;const o=new a(2);if(s=new a(s),!n.mul(s).mod(i).isOne())return!1;t=new a(t),r=new a(r);const c=new a(Math.floor(e.bitLength()/3)),u=await On(o,o.leftShift(c)),l=u.mul(r).mul(t);return!(!l.mod(n.dec()).equal(u)||!l.mod(i.dec()).equal(u))}}),Wn=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n){const i=await Y.getBigInteger();t=new i(t),r=new i(r),n=new i(n);const s=new i(Dn(e,t.byteLength())),a=await On(new i(1),t.dec());return{c1:r.modExp(a,t).toUint8Array(),c2:n.modExp(a,t).imul(s).imod(t).toUint8Array()}},decrypt:async function(e,t,r,n,i){const s=await Y.getBigInteger();return e=new s(e),t=new s(t),r=new s(r),n=new s(n),Un(e.modExp(n,r).modInv(r).imul(t).imod(r).toUint8Array("be",r.byteLength()),i)},validateParams:async function(e,t,r,n){const i=await Y.getBigInteger();e=new i(e),t=new i(t),r=new i(r);const s=new i(1);if(t.lte(s)||t.gte(e))return!1;const a=new i(e.bitLength()),o=new i(1023);if(a.lt(o))return!1;if(!t.modExp(e.dec(),e).isOne())return!1;let c=t;const u=new i(1),l=new i(2).leftShift(new i(17));for(;u.lt(l);){if(c=c.mul(t).imod(e),c.isOne())return!1;u.iinc()}n=new i(n);const d=new i(2),h=await On(d.leftShift(a.dec()),d.leftShift(a)),f=e.dec().imul(h).iadd(n);return!!r.equal(t.modExp(f,e))}});class Vn{constructor(e){if(e instanceof Vn)this.oid=e.oid;else if(Y.isArray(e)||Y.isUint8Array(e)){if(6===(e=new Uint8Array(e))[0]){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.oid=e.subarray(1,1+t),1+this.oid.length}throw Error("Invalid oid")}write(){return Y.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return Y.uint8ArrayToHex(this.oid)}getName(){const e=this.toHex();if($.curve[e])return $.write($.curve,e);throw Error("Unknown curve object identifier.")}}function Jn(e,t){return e.keyPair({priv:t})}function Qn(e,t){const r=e.keyPair({pub:t});if(!0!==r.validate().result)throw Error("Invalid elliptic public key");return r}async function $n(e){if(!ae.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");const{default:t}=await Promise.resolve().then((function(){return vp}));return new t.ec(e)}function Zn(e){let t,r=0;const n=e[0];return n<192?([r]=e,t=1):n<255?(r=(e[0]-192<<8)+e[1]+192,t=2):255===n&&(r=Y.readNumber(e.subarray(1,5)),t=5),{len:r,offset:t}}function Yn(e){return e<192?new Uint8Array([e]):e>191&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):Y.concatUint8Array([new Uint8Array([255]),Y.writeNumber(e,4)])}function Xn(e){if(e<0||e>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])}function ei(e){return new Uint8Array([192|e])}function ti(e,t){return Y.concatUint8Array([ei(e),Yn(t)])}function ri(e){return[$.packet.literalData,$.packet.compressedData,$.packet.symmetricallyEncryptedData,$.packet.symEncryptedIntegrityProtectedData,$.packet.aeadEncryptedData].includes(e)}async function ni(e,t){const r=T(e);let n,i;try{const s=await r.peekBytes(2);if(!s||s.length<2||!(128&s[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const a=await r.readByte();let o,u,l=-1,d=-1;d=0,!!(64&a)&&(d=1),d?l=63&a:(l=(63&a)>>2,u=3&a);const h=ri(l);let f,p=null;if(h){if("array"===Y.isStream(e)){const e=new c;n=M(e),p=e}else{const e=new x;n=M(e.writable),p=e.readable}i=t({tag:l,packet:p})}else p=[];do{if(d){const e=await r.readByte();if(f=!1,e<192)o=e;else if(e>=192&&e<224)o=(e-192<<8)+await r.readByte()+192;else if(e>223&&e<255){if(o=1<<(31&e),f=!0,!h)throw new TypeError("This packet type does not support partial lengths.")}else o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte()}else switch(u){case 0:o=await r.readByte();break;case 1:o=await r.readByte()<<8|await r.readByte();break;case 2:o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte();break;default:o=1/0}if(o>0){let e=0;for(;;){n&&await n.ready;const{done:t,value:i}=await r.read();if(t){if(o===1/0)break;throw Error("Unexpected end of packet")}const s=o===1/0?i:i.subarray(0,o-e);if(n?await n.write(s):p.push(s),e+=i.length,e>=o){r.unshift(i.subarray(o-e+i.length));break}}}}while(f);const y=await r.peekBytes(h?1/0:2);return n?(await n.ready,await n.close()):(p=Y.concatUint8Array(p),await t({tag:l,packet:p})),!y||!y.length}catch(e){if(n)return await n.abort(e),!0;throw e}finally{n&&await i,r.releaseLock()}}class ii extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,ii),this.name="UnsupportedError"}}class si{constructor(e,t){this.tag=e,this.rawContent=t}write(){return this.rawContent}}const ai=Y.getWebCrypto(),oi=Y.getNodeCrypto(),ci={p256:"P-256",p384:"P-384",p521:"P-521"},ui=oi?oi.getCurves():[],li=oi?{secp256k1:ui.includes("secp256k1")?"secp256k1":void 0,p256:ui.includes("prime256v1")?"prime256v1":void 0,p384:ui.includes("secp384r1")?"secp384r1":void 0,p521:ui.includes("secp521r1")?"secp521r1":void 0,ed25519:ui.includes("ED25519")?"ED25519":void 0,curve25519:ui.includes("X25519")?"X25519":void 0,brainpoolP256r1:ui.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:ui.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:ui.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},di={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:$.publicKey.ecdsa,hash:$.hash.sha256,cipher:$.symmetric.aes128,node:li.p256,web:ci.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:$.publicKey.ecdsa,hash:$.hash.sha384,cipher:$.symmetric.aes192,node:li.p384,web:ci.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:$.publicKey.ecdsa,hash:$.hash.sha512,cipher:$.symmetric.aes256,node:li.p521,web:ci.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:$.publicKey.ecdsa,hash:$.hash.sha256,cipher:$.symmetric.aes128,node:li.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:$.publicKey.eddsaLegacy,hash:$.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:$.publicKey.ecdh,hash:$.hash.sha256,cipher:$.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:$.publicKey.ecdsa,hash:$.hash.sha256,cipher:$.symmetric.aes128,node:li.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:$.publicKey.ecdsa,hash:$.hash.sha384,cipher:$.symmetric.aes192,node:li.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:$.publicKey.ecdsa,hash:$.hash.sha512,cipher:$.symmetric.aes256,node:li.brainpoolP512r1,payloadSize:64}};class hi{constructor(e,t){try{(Y.isArray(e)||Y.isUint8Array(e))&&(e=new Vn(e)),e instanceof Vn&&(e=e.getName()),this.name=$.write($.curve,e)}catch(e){throw new ii("Unknown curve")}t=t||di[this.name],this.keyType=t.keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node&&di[this.name],this.web=t.web&&di[this.name],this.payloadSize=t.payloadSize,this.web&&Y.getWebCrypto()?this.type="web":this.node&&Y.getNodeCrypto()?this.type="node":"curve25519"===this.name?this.type="curve25519":"ed25519"===this.name&&(this.type="ed25519")}async genKeyPair(){let e;switch(this.type){case"web":try{return await async function(e){const t=await ai.generateKey({name:"ECDSA",namedCurve:ci[e]},!0,["sign","verify"]),r=await ai.exportKey("jwk",t.privateKey);return{publicKey:pi(await ai.exportKey("jwk",t.publicKey)),privateKey:ie(r.d)}}(this.name)}catch(e){Y.printDebugError("Browser did not support generating ec key "+e.message);break}case"node":return async function(e){const t=oi.createECDH(li[e]);return await t.generateKeys(),{publicKey:new Uint8Array(t.getPublicKey()),privateKey:new Uint8Array(t.getPrivateKey())}}(this.name);case"curve25519":{const t=Bn(32);t[0]=127&t[0]|64,t[31]&=248;const r=t.slice().reverse();return e=xn.box.keyPair.fromSecretKey(r),{publicKey:Y.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:t}}case"ed25519":{const e=Bn(32),t=xn.sign.keyPair.fromSeed(e);return{publicKey:Y.concatUint8Array([new Uint8Array([64]),t.publicKey]),privateKey:e}}}const t=await $n(this.name);return e=await t.genKeyPair({entropy:Y.uint8ArrayToString(Bn(32))}),{publicKey:new Uint8Array(e.getPublic("array",!1)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}}}async function fi(e,t,r,n){const i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:e===$.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},s=t.getName();if(!i[s])return!1;if("curve25519"===s){n=n.slice().reverse();const{publicKey:e}=xn.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);const t=new Uint8Array([64,...e]);return!!Y.equalsUint8Array(t,r)}const a=await $n(s);try{r=Qn(a,r).getPublic()}catch(e){return!1}return!!Jn(a,n).getPublic().eq(r)}function pi(e){const t=ie(e.x),r=ie(e.y),n=new Uint8Array(t.length+r.length+1);return n[0]=4,n.set(t,1),n.set(r,t.length+1),n}function yi(e,t,r){const n=e,i=r.slice(1,n+1),s=r.slice(n+1,2*n+1);return{kty:"EC",crv:t,x:se(i,!0),y:se(s,!0),ext:!0}}function gi(e,t,r,n){const i=yi(e,t,r);return i.d=se(n,!0),i}const mi=Y.getWebCrypto(),bi=Y.getNodeCrypto();async function wi(e,t,r,n,i,s){const a=new hi(e);if(r&&!Y.isStream(r)){const s={publicKey:n,privateKey:i};switch(a.type){case"web":try{return await async function(e,t,r,n){const i=e.payloadSize,s=gi(e.payloadSize,ci[e.name],n.publicKey,n.privateKey),a=await mi.importKey("jwk",s,{name:"ECDSA",namedCurve:ci[e.name],hash:{name:$.read($.webHash,e.hash)}},!1,["sign"]),o=new Uint8Array(await mi.sign({name:"ECDSA",namedCurve:ci[e.name],hash:{name:$.read($.webHash,t)}},a,r));return{r:o.slice(0,i),s:o.slice(i,i<<1)}}(a,t,r,s)}catch(e){if("p521"!==a.name&&("DataError"===e.name||"OperationError"===e.name))throw e;Y.printDebugError("Browser did not support signing: "+e.message)}break;case"node":{const e=await async function(e,t,r,n){const i=bi.createSign($.read($.hash,t));i.write(r),i.end();const s=_i.encode({version:1,parameters:e.oid,privateKey:Array.from(n.privateKey),publicKey:{unused:0,data:Array.from(n.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return ki.decode(i.sign(s),"der")}(a,t,r,s);return{r:e.r.toArrayLike(Uint8Array),s:e.s.toArrayLike(Uint8Array)}}}}return async function(e,t,r){const n=Jn(await $n(e.name),r).sign(t);return{r:n.r.toArrayLike(Uint8Array),s:n.s.toArrayLike(Uint8Array)}}(a,s,i)}async function vi(e,t,r,n,i,s){const a=new hi(e);if(n&&!Y.isStream(n))switch(a.type){case"web":try{return await async function(e,t,{r,s:n},i,s){const a=yi(e.payloadSize,ci[e.name],s),o=await mi.importKey("jwk",a,{name:"ECDSA",namedCurve:ci[e.name],hash:{name:$.read($.webHash,e.hash)}},!1,["verify"]),c=Y.concatUint8Array([r,n]).buffer;return mi.verify({name:"ECDSA",namedCurve:ci[e.name],hash:{name:$.read($.webHash,t)}},o,c,i)}(a,t,r,n,i)}catch(e){if("p521"!==a.name&&("DataError"===e.name||"OperationError"===e.name))throw e;Y.printDebugError("Browser did not support verifying: "+e.message)}break;case"node":return async function(e,t,{r,s:n},i,s){const{default:a}=await Promise.resolve().then((function(){return ef})),o=bi.createVerify($.read($.hash,t));o.write(i),o.end();const c=Ei.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:e.oid},subjectPublicKey:{unused:0,data:Array.from(s)}},"pem",{label:"PUBLIC KEY"}),u=ki.encode({r:new a(r),s:new a(n)},"der");try{return o.verify(c,u)}catch(e){return!1}}(a,t,r,n,i)}return async function(e,t,r,n){return Qn(await $n(e.name),n).verify(r,t)}(a,r,void 0===t?n:s,i)}const Ai=void 0,ki=bi?Ai.define("ECDSASignature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())})):void 0,_i=bi?Ai.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())})):void 0,Pi=bi?Ai.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})):void 0,Ei=bi?Ai.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(Pi),this.key("subjectPublicKey").bitstr())})):void 0;var Si=Object.freeze({__proto__:null,sign:wi,verify:vi,validateParams:async function(e,t,r){const n=new hi(e);if(n.keyType!==$.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{const n=Bn(8),i=$.hash.sha256,s=await Lr.digest(i,n);try{const a=await wi(e,i,n,t,r,s);return await vi(e,i,a,n,t,s)}catch(e){return!1}}default:return fi($.publicKey.ecdsa,e,t,r)}}});xn.hash=e=>new Uint8Array(Jt().update(e).digest());var xi=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,s){if(Lr.getHashByteLength(t)<Lr.getHashByteLength($.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");const a=Y.concatUint8Array([i,n.subarray(1)]),o=xn.sign.detached(s,a);return{r:o.subarray(0,32),s:o.subarray(32)}},verify:async function(e,t,{r,s:n},i,s,a){if(Lr.getHashByteLength(t)<Lr.getHashByteLength($.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");const o=Y.concatUint8Array([r,n]);return xn.sign.detached.verify(a,o,s.subarray(1))},validateParams:async function(e,t,r){if("ed25519"!==e.getName())return!1;const{publicKey:n}=xn.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return Y.equalsUint8Array(t,i)}});function Ci(e){if(e===$.publicKey.ed25519)return $.hash.sha256;throw Error("Unknown EdDSA algo")}xn.hash=e=>new Uint8Array(Jt().update(e).digest());var Bi=Object.freeze({__proto__:null,generate:async function(e){if(e===$.publicKey.ed25519){const e=Bn(32),{publicKey:t}=xn.sign.keyPair.fromSeed(e);return{A:t,seed:e}}throw Error("Unsupported EdDSA algorithm")},sign:async function(e,t,r,n,i,s){if(Lr.getHashByteLength(t)<Lr.getHashByteLength(Ci(e)))throw Error("Hash algorithm too weak for EdDSA.");switch(e){case $.publicKey.ed25519:{const e=Y.concatUint8Array([i,n]);return{RS:xn.sign.detached(s,e)}}case $.publicKey.ed448:default:throw Error("Unsupported EdDSA algorithm")}},verify:async function(e,t,{RS:r},n,i,s){if(Lr.getHashByteLength(t)<Lr.getHashByteLength(Ci(e)))throw Error("Hash algorithm too weak for EdDSA.");switch(e){case $.publicKey.ed25519:return xn.sign.detached.verify(s,r,i);case $.publicKey.ed448:default:throw Error("Unsupported EdDSA algorithm")}},validateParams:async function(e,t,r){switch(e){case $.publicKey.ed25519:{const{publicKey:e}=xn.sign.keyPair.fromSeed(r);return Y.equalsUint8Array(t,e)}case $.publicKey.ed448:default:return!1}},getPreferredHashAlgo:Ci});function Oi(e,t){const r=new We["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=Ii(t);let s=n;const a=i,o=i.length/2,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let e=0;e<=5;++e)for(let t=0;t<o;++t)c[1]=o*e+(1+t),u[0]=s[0],u[1]=s[1],u[2]=a[2*t],u[3]=a[2*t+1],u=Ii(r.encrypt(Ti(u))),s=u.subarray(0,2),s[0]^=c[0],s[1]^=c[1],a[2*t]=u[2],a[2*t+1]=u[3];return Ti(s,a)}function Ri(e,t){const r=new We["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=Ii(t);let s=i.subarray(0,2);const a=i.subarray(2),o=i.length/2-1,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let e=5;e>=0;--e)for(let t=o-1;t>=0;--t)c[1]=o*e+(t+1),u[0]=s[0]^c[0],u[1]=s[1]^c[1],u[2]=a[2*t],u[3]=a[2*t+1],u=Ii(r.decrypt(Ti(u))),s=u.subarray(0,2),a[2*t]=u[2],a[2*t+1]=u[3];if(s[0]===n[0]&&s[1]===n[1])return Ti(a);throw Error("Key Data Integrity failed")}function Ii(e){const{length:t}=e,r=function(e){if(Y.isString(e)){const{length:t}=e,r=new ArrayBuffer(t),n=new Uint8Array(r);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return r}return new Uint8Array(e).buffer}(e),n=new DataView(r),i=new Uint32Array(t/4);for(let e=0;e<t/4;++e)i[e]=n.getUint32(4*e);return i}function Ti(){let e=0;for(let t=0;t<arguments.length;++t)e+=4*arguments[t].length;const t=new ArrayBuffer(e),r=new DataView(t);let n=0;for(let e=0;e<arguments.length;++e){for(let t=0;t<arguments[e].length;++t)r.setUint32(n+4*t,arguments[e][t]);n+=4*arguments[e].length}return new Uint8Array(t)}var Mi=Object.freeze({__proto__:null,wrap:Oi,unwrap:Ri});function Ni(e){const t=8-e.length%8,r=new Uint8Array(e.length+t).fill(t);return r.set(e),r}function Di(e){const t=e.length;if(t>0){const r=e[t-1];if(r>=1){const n=e.subarray(t-r),i=new Uint8Array(r).fill(r);if(Y.equalsUint8Array(n,i))return e.subarray(0,t-r)}}throw Error("Invalid padding")}var Ui=Object.freeze({__proto__:null,encode:Ni,decode:Di});const ji=Y.getWebCrypto(),Fi=Y.getNodeCrypto();function Ki(e,t,r,n){return Y.concatUint8Array([t.write(),new Uint8Array([e]),r.write(),Y.stringToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function Li(e,t,r,n,i=!1,s=!1){let a;if(i){for(a=0;a<t.length&&0===t[a];a++);t=t.subarray(a)}if(s){for(a=t.length-1;a>=0&&0===t[a];a--);t=t.subarray(0,a+1)}return(await Lr.digest(e,Y.concatUint8Array([new Uint8Array([0,0,0,1]),t,n]))).subarray(0,r)}async function zi(e,t,r,n){if(n.length!==e.payloadSize){const t=new Uint8Array(e.payloadSize);t.set(n,e.payloadSize-n.length),n=t}switch(e.type){case"curve25519":{const e=n.slice().reverse();return{secretKey:e,sharedKey:xn.scalarMult(e,t.subarray(1))}}case"web":if(e.web&&Y.getWebCrypto())try{return await async function(e,t,r,n){const i=gi(e.payloadSize,e.web.web,r,n);let s=ji.importKey("jwk",i,{name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]);const a=yi(e.payloadSize,e.web.web,t);let o=ji.importKey("jwk",a,{name:"ECDH",namedCurve:e.web.web},!0,[]);[s,o]=await Promise.all([s,o]);let c=ji.deriveBits({name:"ECDH",namedCurve:e.web.web,public:o},s,e.web.sharedSize),u=ji.exportKey("jwk",s);[c,u]=await Promise.all([c,u]);const l=new Uint8Array(c);return{secretKey:ie(u.d),sharedKey:l}}(e,t,r,n)}catch(e){Y.printDebugError(e)}break;case"node":return async function(e,t,r){const n=Fi.createECDH(e.node.node);n.setPrivateKey(r);const i=new Uint8Array(n.computeSecret(t));return{secretKey:new Uint8Array(n.getPrivateKey()),sharedKey:i}}(e,t,n)}return async function(e,t,r){const n=await $n(e.name);t=Qn(n,t),r=Jn(n,r);const i=new Uint8Array(r.getPrivate()),s=r.derive(t.getPublic()),a=n.curve.p.byteLength();return{secretKey:i,sharedKey:s.toArrayLike(Uint8Array,"be",a)}}(e,t,n)}var qi=Object.freeze({__proto__:null,validateParams:async function(e,t,r){return fi($.publicKey.ecdh,e,t,r)},encrypt:async function(e,t,r,n,i){const s=Ni(r),a=new hi(e),{publicKey:o,sharedKey:c}=await async function(e,t){switch(e.type){case"curve25519":{const r=Bn(32),{secretKey:n,sharedKey:i}=await zi(e,t,null,r);let{publicKey:s}=xn.box.keyPair.fromSecretKey(n);return s=Y.concatUint8Array([new Uint8Array([64]),s]),{publicKey:s,sharedKey:i}}case"web":if(e.web&&Y.getWebCrypto())try{return await async function(e,t){const r=yi(e.payloadSize,e.web.web,t);let n=ji.generateKey({name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]),i=ji.importKey("jwk",r,{name:"ECDH",namedCurve:e.web.web},!1,[]);[n,i]=await Promise.all([n,i]);let s=ji.deriveBits({name:"ECDH",namedCurve:e.web.web,public:i},n.privateKey,e.web.sharedSize),a=ji.exportKey("jwk",n.publicKey);[s,a]=await Promise.all([s,a]);const o=new Uint8Array(s);return{publicKey:new Uint8Array(pi(a)),sharedKey:o}}(e,t)}catch(e){Y.printDebugError(e)}break;case"node":return async function(e,t){const r=Fi.createECDH(e.node.node);r.generateKeys();const n=new Uint8Array(r.computeSecret(t));return{publicKey:new Uint8Array(r.getPublicKey()),sharedKey:n}}(e,t)}return async function(e,t){const r=await $n(e.name),n=await e.genKeyPair();t=Qn(r,t);const i=Jn(r,n.privateKey),s=n.publicKey,a=i.derive(t.getPublic()),o=r.curve.p.byteLength();return{publicKey:s,sharedKey:a.toArrayLike(Uint8Array,"be",o)}}(e,t)}(a,n),u=Ki($.publicKey.ecdh,e,t,i),{keySize:l}=qr(t.cipher);return{publicKey:o,wrappedKey:Oi(await Li(t.hash,c,l,u),s)}},decrypt:async function(e,t,r,n,i,s,a){const o=new hi(e),{sharedKey:c}=await zi(o,r,i,s),u=Ki($.publicKey.ecdh,e,t,a),{keySize:l}=qr(t.cipher);let d;for(let r=0;r<3;r++)try{return Di(Ri(await Li(t.hash,c,l,u,1===r,2===r),n))}catch(e){d=e}throw d}});const Hi=Y.getWebCrypto(),Gi=Y.getNodeCrypto(),Wi=Gi&&Gi.webcrypto&&Gi.webcrypto.subtle;async function Vi(e,t,r,n,i){const s=$.read($.webHash,e);if(!s)throw Error("Hash algo not supported with HKDF");if(Hi||Wi){const e=Hi||Wi,a=await e.importKey("raw",t,"HKDF",!1,["deriveBits"]),o=await e.deriveBits({name:"HKDF",hash:s,salt:r,info:n},a,8*i);return new Uint8Array(o)}if(Gi){const s=$.read($.hash,e),a=(e,t)=>Gi.createHmac(s,e).update(t).digest(),o=a(r,t),c=o.length,u=Math.ceil(i/c),l=new Uint8Array(u*c),d=new Uint8Array(c+n.length+1);d.set(n,c);for(let e=0;e<u;e++){d[d.length-1]=e+1;const t=a(o,e>0?d:d.subarray(c));d.set(t,0),l.set(t,e*c)}return l.subarray(0,i)}throw Error("No HKDF implementation available")}const Ji={x25519:Y.encodeUTF8("OpenPGP X25519")};var Qi=Object.freeze({__proto__:null,generate:async function(e){if(e===$.publicKey.x25519){const e=Bn(32),{publicKey:t}=xn.box.keyPair.fromSecretKey(e);return{A:t,k:e}}throw Error("Unsupported ECDH algorithm")},validateParams:async function(e,t,r){if(e===$.publicKey.x25519){const{publicKey:e}=xn.box.keyPair.fromSecretKey(r);return Y.equalsUint8Array(t,e)}return!1},encrypt:async function(e,t,r){if(e===$.publicKey.x25519){const e=Bn(32),n=xn.scalarMult(e,r),{publicKey:i}=xn.box.keyPair.fromSecretKey(e),s=Y.concatUint8Array([i,r,n]),{keySize:a}=qr($.symmetric.aes128);return{ephemeralPublicKey:i,wrappedKey:Oi(await Vi($.hash.sha256,s,new Uint8Array,Ji.x25519,a),t)}}throw Error("Unsupported ECDH algorithm")},decrypt:async function(e,t,r,n,i){if(e===$.publicKey.x25519){const e=xn.scalarMult(i,t),s=Y.concatUint8Array([t,n,e]),{keySize:a}=qr($.symmetric.aes128);return Ri(await Vi($.hash.sha256,s,new Uint8Array,Ji.x25519,a),r)}throw Error("Unsupported ECDH algorithm")}}),$i=Object.freeze({__proto__:null,CurveWithOID:hi,ecdh:qi,ecdhX:Qi,ecdsa:Si,eddsaLegacy:xi,eddsa:Bi,generate:async function(e){const t=await Y.getBigInteger();e=new hi(e);const r=await e.genKeyPair(),n=new t(r.publicKey).toUint8Array(),i=new t(r.privateKey).toUint8Array("be",e.payloadSize);return{oid:e.oid,Q:n,secret:i,hash:e.hash,cipher:e.cipher}},getPreferredHashAlgo:function(e){return di[$.write($.curve,e.toHex())].hash}}),Zi=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,s){const a=await Y.getBigInteger(),o=new a(1);let c,u,l,d;n=new a(n),i=new a(i),r=new a(r),s=new a(s),r=r.mod(n),s=s.mod(i);const h=new a(t.subarray(0,i.byteLength())).mod(i);for(;;){if(c=await On(o,i),u=r.modExp(c,n).imod(i),u.isZero())continue;const e=s.mul(u).imod(i);if(d=h.add(e).imod(i),l=c.modInv(i).imul(d).imod(i),!l.isZero())break}return{r:u.toUint8Array("be",i.byteLength()),s:l.toUint8Array("be",i.byteLength())}},verify:async function(e,t,r,n,i,s,a,o){const c=await Y.getBigInteger(),u=new c(0);if(t=new c(t),r=new c(r),s=new c(s),a=new c(a),i=new c(i),o=new c(o),t.lte(u)||t.gte(a)||r.lte(u)||r.gte(a))return Y.printDebug("invalid DSA Signature"),!1;const l=new c(n.subarray(0,a.byteLength())).imod(a),d=r.modInv(a);if(d.isZero())return Y.printDebug("invalid DSA Signature"),!1;i=i.mod(s),o=o.mod(s);const h=l.mul(d).imod(a),f=t.mul(d).imod(a),p=i.modExp(h,s),y=o.modExp(f,s);return p.mul(y).imod(s).imod(a).equal(t)},validateParams:async function(e,t,r,n,i){const s=await Y.getBigInteger();e=new s(e),t=new s(t),r=new s(r),n=new s(n);const a=new s(1);if(r.lte(a)||r.gte(e))return!1;if(!e.dec().mod(t).isZero())return!1;if(!r.modExp(t,e).isOne())return!1;const o=new s(t.bitLength()),c=new s(150);if(o.lt(c)||!await Tn(t,null,32))return!1;i=new s(i);const u=new s(2),l=await On(u.leftShift(o.dec()),u.leftShift(o)),d=t.mul(l).add(i);return!!n.equal(r.modExp(d,e))}}),Yi={rsa:Gn,elgamal:Wn,elliptic:$i,dsa:Zi,nacl:xn},Xi=Object.freeze({__proto__:null,parseSignatureParams:function(e,t){let r=0;switch(e){case $.publicKey.rsaEncryptSign:case $.publicKey.rsaEncrypt:case $.publicKey.rsaSign:return{s:Y.readMPI(t.subarray(r))};case $.publicKey.dsa:case $.publicKey.ecdsa:{const e=Y.readMPI(t.subarray(r));return r+=e.length+2,{r:e,s:Y.readMPI(t.subarray(r))}}case $.publicKey.eddsaLegacy:{let e=Y.readMPI(t.subarray(r));r+=e.length+2,e=Y.leftPad(e,32);let n=Y.readMPI(t.subarray(r));return n=Y.leftPad(n,32),{r:e,s:n}}case $.publicKey.ed25519:{const e=t.subarray(r,r+64);return r+=e.length,{RS:e}}default:throw new ii("Unknown signature algorithm.")}},verify:async function(e,t,r,n,i,s){switch(e){case $.publicKey.rsaEncryptSign:case $.publicKey.rsaEncrypt:case $.publicKey.rsaSign:{const{n:e,e:a}=n,o=Y.leftPad(r.s,e.length);return Yi.rsa.verify(t,i,o,e,a,s)}case $.publicKey.dsa:{const{g:e,p:i,q:a,y:o}=n,{r:c,s:u}=r;return Yi.dsa.verify(t,c,u,s,e,i,a,o)}case $.publicKey.ecdsa:{const{oid:e,Q:a}=n,o=new Yi.elliptic.CurveWithOID(e).payloadSize,c=Y.leftPad(r.r,o),u=Y.leftPad(r.s,o);return Yi.elliptic.ecdsa.verify(e,t,{r:c,s:u},i,a,s)}case $.publicKey.eddsaLegacy:{const{oid:e,Q:a}=n;return Yi.elliptic.eddsaLegacy.verify(e,t,r,i,a,s)}case $.publicKey.ed25519:{const{A:a}=n;return Yi.elliptic.eddsa.verify(e,t,r,i,a,s)}default:throw Error("Unknown signature algorithm.")}},sign:async function(e,t,r,n,i,s){if(!r||!n)throw Error("Missing key parameters");switch(e){case $.publicKey.rsaEncryptSign:case $.publicKey.rsaEncrypt:case $.publicKey.rsaSign:{const{n:e,e:a}=r,{d:o,p:c,q:u,u:l}=n;return{s:await Yi.rsa.sign(t,i,e,a,o,c,u,l,s)}}case $.publicKey.dsa:{const{g:e,p:i,q:a}=r,{x:o}=n;return Yi.dsa.sign(t,s,e,i,a,o)}case $.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case $.publicKey.ecdsa:{const{oid:e,Q:a}=r,{d:o}=n;return Yi.elliptic.ecdsa.sign(e,t,i,a,o,s)}case $.publicKey.eddsaLegacy:{const{oid:e,Q:a}=r,{seed:o}=n;return Yi.elliptic.eddsaLegacy.sign(e,t,i,a,o,s)}case $.publicKey.ed25519:{const{A:a}=r,{seed:o}=n;return Yi.elliptic.eddsa.sign(e,t,i,a,o,s)}default:throw Error("Unknown signature algorithm.")}}});class es{constructor(e){e&&(this.data=e)}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.data=e.subarray(1,1+t),1+this.data.length}throw Error("Invalid symmetric key")}write(){return Y.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class ts{constructor(e){if(e){const{hash:t,cipher:r}=e;this.hash=t,this.cipher=r}else this.hash=null,this.cipher=null}read(e){if(e.length<4||3!==e[0]||1!==e[1])throw new ii("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}class rs{static fromObject({wrappedKey:e,algorithm:t}){const r=new rs;return r.wrappedKey=e,r.algorithm=t,r}read(e){let t=0,r=e[t++];this.algorithm=r%2?e[t++]:null,r-=r%2,this.wrappedKey=e.subarray(t,t+r),t+=r}write(){return Y.concatUint8Array([this.algorithm?new Uint8Array([this.wrappedKey.length+1,this.algorithm]):new Uint8Array([this.wrappedKey.length]),this.wrappedKey])}}function ns(e){try{e.getName()}catch(e){throw new ii("Unknown curve OID")}}var is=Object.freeze({__proto__:null,publicKeyEncrypt:async function(e,t,r,n,i){switch(e){case $.publicKey.rsaEncrypt:case $.publicKey.rsaEncryptSign:{const{n:e,e:t}=r;return{c:await Yi.rsa.encrypt(n,e,t)}}case $.publicKey.elgamal:{const{p:e,g:t,y:i}=r;return Yi.elgamal.encrypt(n,e,t,i)}case $.publicKey.ecdh:{const{oid:e,Q:t,kdfParams:s}=r,{publicKey:a,wrappedKey:o}=await Yi.elliptic.ecdh.encrypt(e,s,n,t,i);return{V:a,C:new es(o)}}case $.publicKey.x25519:{if(!Y.isAES(t))throw Error("X25519 keys can only encrypt AES session keys");const{A:i}=r,{ephemeralPublicKey:s,wrappedKey:a}=await Yi.elliptic.ecdhX.encrypt(e,n,i);return{ephemeralPublicKey:s,C:rs.fromObject({algorithm:t,wrappedKey:a})}}default:return[]}},publicKeyDecrypt:async function(e,t,r,n,i,s){switch(e){case $.publicKey.rsaEncryptSign:case $.publicKey.rsaEncrypt:{const{c:e}=n,{n:i,e:a}=t,{d:o,p:c,q:u,u:l}=r;return Yi.rsa.decrypt(e,i,a,o,c,u,l,s)}case $.publicKey.elgamal:{const{c1:e,c2:i}=n,a=t.p,o=r.x;return Yi.elgamal.decrypt(e,i,a,o,s)}case $.publicKey.ecdh:{const{oid:e,Q:s,kdfParams:a}=t,{d:o}=r,{V:c,C:u}=n;return Yi.elliptic.ecdh.decrypt(e,a,c,u.data,s,o,i)}case $.publicKey.x25519:{const{A:i}=t,{k:s}=r,{ephemeralPublicKey:a,C:o}=n;if(!Y.isAES(o.algorithm))throw Error("AES session key expected");return Yi.elliptic.ecdhX.decrypt(e,a,o.wrappedKey,i,s)}default:throw Error("Unknown public key encryption algorithm.")}},parsePublicKeyParams:function(e,t){let r=0;switch(e){case $.publicKey.rsaEncrypt:case $.publicKey.rsaEncryptSign:case $.publicKey.rsaSign:{const e=Y.readMPI(t.subarray(r));r+=e.length+2;const n=Y.readMPI(t.subarray(r));return r+=n.length+2,{read:r,publicParams:{n:e,e:n}}}case $.publicKey.dsa:{const e=Y.readMPI(t.subarray(r));r+=e.length+2;const n=Y.readMPI(t.subarray(r));r+=n.length+2;const i=Y.readMPI(t.subarray(r));r+=i.length+2;const s=Y.readMPI(t.subarray(r));return r+=s.length+2,{read:r,publicParams:{p:e,q:n,g:i,y:s}}}case $.publicKey.elgamal:{const e=Y.readMPI(t.subarray(r));r+=e.length+2;const n=Y.readMPI(t.subarray(r));r+=n.length+2;const i=Y.readMPI(t.subarray(r));return r+=i.length+2,{read:r,publicParams:{p:e,g:n,y:i}}}case $.publicKey.ecdsa:{const e=new Vn;r+=e.read(t),ns(e);const n=Y.readMPI(t.subarray(r));return r+=n.length+2,{read:r,publicParams:{oid:e,Q:n}}}case $.publicKey.eddsaLegacy:{const e=new Vn;r+=e.read(t),ns(e);let n=Y.readMPI(t.subarray(r));return r+=n.length+2,n=Y.leftPad(n,33),{read:r,publicParams:{oid:e,Q:n}}}case $.publicKey.ecdh:{const e=new Vn;r+=e.read(t),ns(e);const n=Y.readMPI(t.subarray(r));r+=n.length+2;const i=new ts;return r+=i.read(t.subarray(r)),{read:r,publicParams:{oid:e,Q:n,kdfParams:i}}}case $.publicKey.ed25519:case $.publicKey.x25519:{const e=t.subarray(r,r+32);return r+=e.length,{read:r,publicParams:{A:e}}}default:throw new ii("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(e,t,r){let n=0;switch(e){case $.publicKey.rsaEncrypt:case $.publicKey.rsaEncryptSign:case $.publicKey.rsaSign:{const e=Y.readMPI(t.subarray(n));n+=e.length+2;const r=Y.readMPI(t.subarray(n));n+=r.length+2;const i=Y.readMPI(t.subarray(n));n+=i.length+2;const s=Y.readMPI(t.subarray(n));return n+=s.length+2,{read:n,privateParams:{d:e,p:r,q:i,u:s}}}case $.publicKey.dsa:case $.publicKey.elgamal:{const e=Y.readMPI(t.subarray(n));return n+=e.length+2,{read:n,privateParams:{x:e}}}case $.publicKey.ecdsa:case $.publicKey.ecdh:{const e=new hi(r.oid);let i=Y.readMPI(t.subarray(n));return n+=i.length+2,i=Y.leftPad(i,e.payloadSize),{read:n,privateParams:{d:i}}}case $.publicKey.eddsaLegacy:{const e=new hi(r.oid);let i=Y.readMPI(t.subarray(n));return n+=i.length+2,i=Y.leftPad(i,e.payloadSize),{read:n,privateParams:{seed:i}}}case $.publicKey.ed25519:{const e=t.subarray(n,n+32);return n+=e.length,{read:n,privateParams:{seed:e}}}case $.publicKey.x25519:{const e=t.subarray(n,n+32);return n+=e.length,{read:n,privateParams:{k:e}}}default:throw new ii("Unknown public key encryption algorithm.")}},parseEncSessionKeyParams:function(e,t){let r=0;switch(e){case $.publicKey.rsaEncrypt:case $.publicKey.rsaEncryptSign:return{c:Y.readMPI(t.subarray(r))};case $.publicKey.elgamal:{const e=Y.readMPI(t.subarray(r));return r+=e.length+2,{c1:e,c2:Y.readMPI(t.subarray(r))}}case $.publicKey.ecdh:{const e=Y.readMPI(t.subarray(r));r+=e.length+2;const n=new es;return n.read(t.subarray(r)),{V:e,C:n}}case $.publicKey.x25519:{const e=t.subarray(r,r+32);r+=e.length;const n=new rs;return n.read(t.subarray(r)),{ephemeralPublicKey:e,C:n}}default:throw new ii("Unknown public key encryption algorithm.")}},serializeParams:function(e,t){const r=new Set([$.publicKey.ed25519,$.publicKey.x25519]),n=Object.keys(t).map((n=>{const i=t[n];return Y.isUint8Array(i)?r.has(e)?i:Y.uint8ArrayToMPI(i):i.write()}));return Y.concatUint8Array(n)},generateParams:function(e,t,r){switch(e){case $.publicKey.rsaEncrypt:case $.publicKey.rsaEncryptSign:case $.publicKey.rsaSign:return Yi.rsa.generate(t,65537).then((({n:e,e:t,d:r,p:n,q:i,u:s})=>({privateParams:{d:r,p:n,q:i,u:s},publicParams:{n:e,e:t}})));case $.publicKey.ecdsa:return Yi.elliptic.generate(r).then((({oid:e,Q:t,secret:r})=>({privateParams:{d:r},publicParams:{oid:new Vn(e),Q:t}})));case $.publicKey.eddsaLegacy:return Yi.elliptic.generate(r).then((({oid:e,Q:t,secret:r})=>({privateParams:{seed:r},publicParams:{oid:new Vn(e),Q:t}})));case $.publicKey.ecdh:return Yi.elliptic.generate(r).then((({oid:e,Q:t,secret:r,hash:n,cipher:i})=>({privateParams:{d:r},publicParams:{oid:new Vn(e),Q:t,kdfParams:new ts({hash:n,cipher:i})}})));case $.publicKey.ed25519:return Yi.elliptic.eddsa.generate(e).then((({A:e,seed:t})=>({privateParams:{seed:t},publicParams:{A:e}})));case $.publicKey.x25519:return Yi.elliptic.ecdhX.generate(e).then((({A:e,k:t})=>({privateParams:{k:t},publicParams:{A:e}})));case $.publicKey.dsa:case $.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},validateParams:async function(e,t,r){if(!t||!r)throw Error("Missing key parameters");switch(e){case $.publicKey.rsaEncrypt:case $.publicKey.rsaEncryptSign:case $.publicKey.rsaSign:{const{n:e,e:n}=t,{d:i,p:s,q:a,u:o}=r;return Yi.rsa.validateParams(e,n,i,s,a,o)}case $.publicKey.dsa:{const{p:e,q:n,g:i,y:s}=t,{x:a}=r;return Yi.dsa.validateParams(e,n,i,s,a)}case $.publicKey.elgamal:{const{p:e,g:n,y:i}=t,{x:s}=r;return Yi.elgamal.validateParams(e,n,i,s)}case $.publicKey.ecdsa:case $.publicKey.ecdh:{const n=Yi.elliptic[$.read($.publicKey,e)],{oid:i,Q:s}=t,{d:a}=r;return n.validateParams(i,s,a)}case $.publicKey.eddsaLegacy:{const{Q:e,oid:n}=t,{seed:i}=r;return Yi.elliptic.eddsaLegacy.validateParams(n,e,i)}case $.publicKey.ed25519:{const{A:n}=t,{seed:i}=r;return Yi.elliptic.eddsa.validateParams(e,n,i)}case $.publicKey.x25519:{const{A:n}=t,{k:i}=r;return Yi.elliptic.ecdhX.validateParams(e,n,i)}default:throw Error("Unknown public key algorithm.")}},getPrefixRandom:async function(e){const{blockSize:t}=qr(e),r=await Bn(t),n=new Uint8Array([r[r.length-2],r[r.length-1]]);return Y.concat([r,n])},generateSessionKey:function(e){const{keySize:t}=qr(e);return Bn(t)},getAEADMode:function(e){const t=$.read($.aead,e);return Sn[t]},getCipher:qr,getPreferredCurveHashAlgo:function(e,t){switch(e){case $.publicKey.ecdsa:case $.publicKey.eddsaLegacy:return Yi.elliptic.getPreferredHashAlgo(t);case $.publicKey.ed25519:return Yi.elliptic.eddsa.getPreferredHashAlgo(e);default:throw Error("Unknown elliptic signing algo")}}});const ss={cipher:We,hash:Lr,mode:Sn,publicKey:Yi,signature:Xi,random:Rn,pkcs1:Fn,pkcs5:Ui,aesKW:Mi};Object.assign(ss,is);var as="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function os(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}const cs={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(let s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){let t,r,n,i,s;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;const a=new Uint8Array(n);for(i=0,t=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},us={arraySet:function(e,t,r,n,i){for(let s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};let ls=as?Uint8Array:Array,ds=as?Uint16Array:Array,hs=as?Int32Array:Array,fs=as?cs.flattenChunks:us.flattenChunks,ps=as?cs.arraySet:us.arraySet;const ys=-2;function gs(e){let t=e.length;for(;--t>=0;)e[t]=0}const ms=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],bs=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ws=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],vs=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],As=Array(576);gs(As);const ks=Array(60);gs(ks);const _s=Array(512);gs(_s);const Ps=Array(256);gs(Ps);const Es=Array(29);gs(Es);const Ss=Array(30);function xs(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let Cs,Bs,Os;function Rs(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Is(e){return e<256?_s[e]:_s[256+(e>>>7)]}function Ts(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function Ms(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,Ts(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Ns(e,t,r){Ms(e,r[2*t],r[2*t+1])}function Ds(e,t){let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function Us(e,t,r){const n=Array(16);let i,s,a=0;for(i=1;i<=15;i++)n[i]=a=a+r[i-1]<<1;for(s=0;s<=t;s++){const t=e[2*s+1];0!==t&&(e[2*s]=Ds(n[t]++,t))}}function js(e){let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Fs(e){e.bi_valid>8?Ts(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Ks(e,t,r,n){const i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function Ls(e,t,r){const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Ks(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Ks(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function zs(e,t,r){let n,i,s,a,o=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?Ns(e,i,t):(s=Ps[i],Ns(e,s+256+1,t),a=ms[s],0!==a&&(i-=Es[s],Ms(e,i,a)),n--,s=Is(n),Ns(e,s,r),a=bs[s],0!==a&&(n-=Ss[s],Ms(e,n,a)))}while(o<e.last_lit);Ns(e,256,t)}function qs(e,t){const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,c,u=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<s;a++)0!==r[2*a]?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):r[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,r[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[2*c+1]);for(t.max_code=u,a=e.heap_len>>1;a>=1;a--)Ls(e,r,a);c=s;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ls(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,r[2*c]=r[2*a]+r[2*o],e.depth[c]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,r[2*a+1]=r[2*o+1]=c,e.heap[1]=c++,Ls(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,l,d,h,f,p,y=0;for(h=0;h<=15;h++)e.bl_count[h]=0;for(r[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)l=e.heap[u],h=r[2*r[2*l+1]+1]+1,h>c&&(h=c,y++),r[2*l+1]=h,l>n||(e.bl_count[h]++,f=0,l>=o&&(f=a[l-o]),p=r[2*l],e.opt_len+=p*(h+f),s&&(e.static_len+=p*(i[2*l+1]+f)));if(0!==y){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,y-=2}while(y>0);for(h=c;0!==h;h--)for(l=e.bl_count[h];0!==l;)d=e.heap[--u],d>n||(r[2*d+1]!==h&&(e.opt_len+=(h-r[2*d+1])*r[2*d],r[2*d+1]=h),l--)}}(e,t),Us(r,u,e.bl_count)}function Hs(e,t,r){let n,i,s=-1,a=t[1],o=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<c&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))}function Gs(e,t,r){let n,i,s=-1,a=t[1],o=0,c=7,u=4;for(0===a&&(c=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<c&&i===a)){if(o<u)do{Ns(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==s&&(Ns(e,i,e.bl_tree),o--),Ns(e,16,e.bl_tree),Ms(e,o-3,2)):o<=10?(Ns(e,17,e.bl_tree),Ms(e,o-3,3)):(Ns(e,18,e.bl_tree),Ms(e,o-11,7));o=0,s=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}}gs(Ss);let Ws=!1;function Vs(e,t,r,n){Ms(e,0+(n?1:0),3),function(e,t,r){Fs(e),Ts(e,r),Ts(e,~r),ps(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}function Js(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(Ps[r]+256+1)]++,e.dyn_dtree[2*Is(t)]++),e.last_lit===e.lit_bufsize-1}function Qs(e,t,r,n){let i=65535&e,s=e>>>16&65535,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do{i=i+t[n++]|0,s=s+i|0}while(--a);i%=65521,s%=65521}return i|s<<16}const $s=function(){let e;const t=[];for(let r=0;r<256;r++){e=r;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function Zs(e,t,r,n){const i=$s,s=n+r;e^=-1;for(let r=n;r<s;r++)e=e>>>8^i[255&(e^t[r])];return~e}var Ys={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};const Xs=258,ea=262,ta=103,ra=113,na=666;function ia(e,t){return e.msg=Ys[t],t}function sa(e){return(e<<1)-(e>4?9:0)}function aa(e){let t=e.length;for(;--t>=0;)e[t]=0}function oa(e){const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(ps(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function ca(e,t){(function(e,t,r,n){let i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),qs(e,e.l_desc),qs(e,e.d_desc),a=function(e){let t;for(Hs(e,e.dyn_ltree,e.l_desc.max_code),Hs(e,e.dyn_dtree,e.d_desc.max_code),qs(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*vs[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?Vs(e,t,r,n):4===e.strategy||s===i?(Ms(e,2+(n?1:0),3),zs(e,As,ks)):(Ms(e,4+(n?1:0),3),function(e,t,r,n){let i;for(Ms(e,t-257,5),Ms(e,r-1,5),Ms(e,n-4,4),i=0;i<n;i++)Ms(e,e.bl_tree[2*vs[i]+1],3);Gs(e,e.dyn_ltree,t-1),Gs(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),zs(e,e.dyn_ltree,e.dyn_dtree)),js(e),n&&Fs(e)})(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,oa(e.strm)}function ua(e,t){e.pending_buf[e.pending++]=t}function la(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function da(e,t,r,n){let i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,ps(t,e.input,e.next_in,i,r),1===e.state.wrap?e.adler=Qs(e.adler,t,i,r):2===e.state.wrap&&(e.adler=Zs(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function ha(e,t){let r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-ea?e.strstart-(e.w_size-ea):0,u=e.window,l=e.w_mask,d=e.prev,h=e.strstart+Xs;let f=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(r=t,u[r+a]===p&&u[r+a-1]===f&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<h);if(n=Xs-(h-s),s=h-Xs,n>a){if(e.match_start=t,a=n,n>=o)break;f=u[s+a-1],p=u[s+a]}}}while((t=d[t&l])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead}function fa(e){const t=e.w_size;let r,n,i,s,a;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ea)){ps(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do{i=e.head[--r],e.head[r]=i>=t?i-t:0}while(--n);n=t,r=n;do{i=e.prev[--r],e.prev[r]=i>=t?i-t:0}while(--n);s+=t}if(0===e.strm.avail_in)break;if(n=da(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ea&&0!==e.strm.avail_in)}function pa(e,t){let r,n;for(;;){if(e.lookahead<ea){if(fa(e),e.lookahead<ea&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-ea&&(e.match_length=ha(e,r)),e.match_length>=3)if(n=Js(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=Js(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ca(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(ca(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ca(e,!1),0===e.strm.avail_out)?1:2}function ya(e,t){let r,n,i;for(;;){if(e.lookahead<ea){if(fa(e),e.lookahead<ea&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-ea&&(e.match_length=ha(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=Js(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(ca(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Js(e,0,e.window[e.strstart-1]),n&&ca(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Js(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(ca(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ca(e,!1),0===e.strm.avail_out)?1:2}class ga{constructor(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}}const ma=[new ga(0,0,0,0,(function(e,t){let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(fa(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,ca(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ea&&(ca(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(ca(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(ca(e,!1),e.strm.avail_out),1)})),new ga(4,4,8,4,pa),new ga(4,5,16,8,pa),new ga(4,6,32,32,pa),new ga(4,4,16,16,ya),new ga(8,16,32,32,ya),new ga(8,16,128,128,ya),new ga(8,32,128,256,ya),new ga(32,128,258,1024,ya),new ga(32,258,258,4096,ya)];class ba{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ds(1146),this.dyn_dtree=new ds(122),this.bl_tree=new ds(78),aa(this.dyn_ltree),aa(this.dyn_dtree),aa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ds(16),this.heap=new ds(573),aa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ds(573),aa(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function wa(e,t){let r,n,i,s;if(!e||!e.state||t>5||t<0)return e?ia(e,ys):ys;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===na&&4!==t)return ia(e,0===e.avail_out?-5:ys);if(n.strm=e,r=n.last_flush,n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,ua(n,31),ua(n,139),ua(n,8),n.gzhead?(ua(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ua(n,255&n.gzhead.time),ua(n,n.gzhead.time>>8&255),ua(n,n.gzhead.time>>16&255),ua(n,n.gzhead.time>>24&255),ua(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),ua(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ua(n,255&n.gzhead.extra.length),ua(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Zs(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(ua(n,0),ua(n,0),ua(n,0),ua(n,0),ua(n,0),ua(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),ua(n,3),n.status=ra);else{let t=8+(n.w_bits-8<<4)<<8,r=-1;r=n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,n.status=ra,la(n,t),0!==n.strstart&&(la(n,e.adler>>>16),la(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=Zs(e.adler,n.pending_buf,n.pending-i,i)),oa(e),i=n.pending,n.pending!==n.pending_buf_size));)ua(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Zs(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Zs(e.adler,n.pending_buf,n.pending-i,i)),oa(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ua(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=Zs(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Zs(e.adler,n.pending_buf,n.pending-i,i)),oa(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ua(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=Zs(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.status=ta)}else n.status=ta;if(n.status===ta&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&oa(e),n.pending+2<=n.pending_buf_size&&(ua(n,255&e.adler),ua(n,e.adler>>8&255),e.adler=0,n.status=ra)):n.status=ra),0!==n.pending){if(oa(e),0===e.avail_out)return n.last_flush=-1,0}else if(0===e.avail_in&&sa(t)<=sa(r)&&4!==t)return ia(e,-5);if(n.status===na&&0!==e.avail_in)return ia(e,-5);if(0!==e.avail_in||0!==n.lookahead||0!==t&&n.status!==na){var a=2===n.strategy?function(e,t){let r;for(;;){if(0===e.lookahead&&(fa(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=Js(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ca(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(ca(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ca(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){let r,n,i,s;const a=e.window;for(;;){if(e.lookahead<=Xs){if(fa(e),e.lookahead<=Xs&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){s=e.strstart+Xs;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=Xs-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=Js(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Js(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ca(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(ca(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ca(e,!1),0===e.strm.avail_out)?1:2}(n,t):ma[n.level].func(n,t);if(3!==a&&4!==a||(n.status=na),1===a||3===a)return 0===e.avail_out&&(n.last_flush=-1),0;if(2===a&&(1===t?function(e){Ms(e,2,3),Ns(e,256,As),function(e){16===e.bi_valid?(Ts(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}(n):5!==t&&(Vs(n,0,0,!1),3===t&&(aa(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),oa(e),0===e.avail_out))return n.last_flush=-1,0}return 4!==t?0:n.wrap<=0?1:(2===n.wrap?(ua(n,255&e.adler),ua(n,e.adler>>8&255),ua(n,e.adler>>16&255),ua(n,e.adler>>24&255),ua(n,255&e.total_in),ua(n,e.total_in>>8&255),ua(n,e.total_in>>16&255),ua(n,e.total_in>>24&255)):(la(n,e.adler>>>16),la(n,65535&e.adler)),oa(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)}try{String.fromCharCode.call(null,0)}catch(n){}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){}const va=new ls(256);for(let e=0;e<256;e++)va[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;function Aa(e){let t,r,n,i,s=0;const a=e.length;for(n=0;n<a;n++)t=e.charCodeAt(n),55296==(64512&t)&&n+1<a&&(r=e.charCodeAt(n+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),n++)),s+=t<128?1:t<2048?2:t<65536?3:4;const o=new ls(s);for(i=0,n=0;i<s;n++)t=e.charCodeAt(n),55296==(64512&t)&&n+1<a&&(r=e.charCodeAt(n+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),n++)),t<128?o[i++]=t:t<2048?(o[i++]=192|t>>>6,o[i++]=128|63&t):t<65536?(o[i++]=224|t>>>12,o[i++]=128|t>>>6&63,o[i++]=128|63&t):(o[i++]=240|t>>>18,o[i++]=128|t>>>12&63,o[i++]=128|t>>>6&63,o[i++]=128|63&t);return o}va[254]=va[254]=1;class ka{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class _a{constructor(e){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,...e||{}};const t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ka,this.strm.avail_out=0;var r,n,i=function(e,t,r,n,i,s){if(!e)return ys;let a=1;if(-1===t&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>9||8!==r||n<8||n>15||t<0||t>9||s<0||s>4)return ia(e,ys);8===n&&(n=9);const o=new ba;return e.state=o,o.strm=e,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new ls(2*o.w_size),o.head=new ds(o.hash_size),o.prev=new ds(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new ls(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=r,function(e){const t=function(e){let t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:ra,e.adler=2===t.wrap?0:1,t.last_flush=0,function(e){Ws||(function(){let e,t,r,n,i;const s=Array(16);for(r=0,n=0;n<28;n++)for(Es[n]=r,e=0;e<1<<ms[n];e++)Ps[r++]=n;for(Ps[r-1]=n,i=0,n=0;n<16;n++)for(Ss[n]=i,e=0;e<1<<bs[n];e++)_s[i++]=n;for(i>>=7;n<30;n++)for(Ss[n]=i<<7,e=0;e<1<<bs[n]-7;e++)_s[256+i++]=n;for(t=0;t<=15;t++)s[t]=0;for(e=0;e<=143;)As[2*e+1]=8,e++,s[8]++;for(;e<=255;)As[2*e+1]=9,e++,s[9]++;for(;e<=279;)As[2*e+1]=7,e++,s[7]++;for(;e<=287;)As[2*e+1]=8,e++,s[8]++;for(Us(As,287,s),e=0;e<30;e++)ks[2*e+1]=5,ks[2*e]=Ds(e,5);Cs=new xs(As,ms,257,286,15),Bs=new xs(ks,bs,0,30,15),Os=new xs([],ws,0,19,7)}(),Ws=!0),e.l_desc=new Rs(e.dyn_ltree,Cs),e.d_desc=new Rs(e.dyn_dtree,Bs),e.bl_desc=new Rs(e.bl_tree,Os),e.bi_buf=0,e.bi_valid=0,js(e)}(t),0):ia(e,ys)}(e);return 0===t&&function(e){e.window_size=2*e.w_size,aa(e.head),e.max_lazy_match=ma[e.level].max_lazy,e.good_match=ma[e.level].good_length,e.nice_match=ma[e.level].nice_length,e.max_chain_length=ma[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}(e)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw Error(Ys[i]);if(t.header&&(r=this.strm,n=t.header,r&&r.state&&(2!==r.state.wrap||(r.state.gzhead=n))),t.dictionary){let e;if(e="string"==typeof t.dictionary?Aa(t.dictionary):t.dictionary instanceof ArrayBuffer?new Uint8Array(t.dictionary):t.dictionary,i=function(e,t){let r,n,i,s,a,o,c,u,l=t.length;if(!e||!e.state)return ys;if(r=e.state,s=r.wrap,2===s||1===s&&42!==r.status||r.lookahead)return ys;for(1===s&&(e.adler=Qs(e.adler,t,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(aa(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new ls(r.w_size),ps(u,t,l-r.w_size,r.w_size,0),t=u,l=r.w_size),a=e.avail_in,o=e.next_in,c=e.input,e.avail_in=l,e.next_in=0,e.input=t,fa(r);r.lookahead>=3;){n=r.strstart,i=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=2,fa(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=c,e.avail_in=a,r.wrap=s,0}(this.strm,e),0!==i)throw Error(Ys[i]);this._dict_set=!0}}push(e,t){const{strm:r,options:{chunkSize:n}}=this;var i,s;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=Aa(e):e instanceof ArrayBuffer?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new ls(n),r.next_out=0,r.avail_out=n),1!==(i=wa(r,s))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==s&&2!==s)||this.onData(os(r.output,r.next_out))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===s?(i=function(e){let t;return e&&e.state?(t=e.state.status,42!==t&&69!==t&&73!==t&&91!==t&&t!==ta&&t!==ra&&t!==na?ia(e,ys):(e.state=null,t===ra?ia(e,-3):0)):ys}(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==s||(this.onEnd(0),r.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result=fs(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}function Pa(e,t){let r,n,i,s,a,o,c,u,l,d;const h=e.state;r=e.next_in;const f=e.input,p=r+(e.avail_in-5);n=e.next_out;const y=e.output,g=n-(t-e.avail_out),m=n+(e.avail_out-257),b=h.dmax,w=h.wsize,v=h.whave,A=h.wnext,k=h.window;i=h.hold,s=h.bits;const _=h.lencode,P=h.distcode,E=(1<<h.lenbits)-1,S=(1<<h.distbits)-1;e:do{s<15&&(i+=f[r++]<<s,s+=8,i+=f[r++]<<s,s+=8),a=_[i&E];t:for(;;){if(o=a>>>24,i>>>=o,s-=o,o=a>>>16&255,0===o)y[n++]=65535&a;else{if(!(16&o)){if(!(64&o)){a=_[(65535&a)+(i&(1<<o)-1)];continue t}if(32&o){h.mode=12;break e}e.msg="invalid literal/length code",h.mode=30;break e}c=65535&a,o&=15,o&&(s<o&&(i+=f[r++]<<s,s+=8),c+=i&(1<<o)-1,i>>>=o,s-=o),s<15&&(i+=f[r++]<<s,s+=8,i+=f[r++]<<s,s+=8),a=P[i&S];r:for(;;){if(o=a>>>24,i>>>=o,s-=o,o=a>>>16&255,!(16&o)){if(!(64&o)){a=P[(65535&a)+(i&(1<<o)-1)];continue r}e.msg="invalid distance code",h.mode=30;break e}if(u=65535&a,o&=15,s<o&&(i+=f[r++]<<s,s+=8,s<o&&(i+=f[r++]<<s,s+=8)),u+=i&(1<<o)-1,u>b){e.msg="invalid distance too far back",h.mode=30;break e}if(i>>>=o,s-=o,o=n-g,u>o){if(o=u-o,o>v&&h.sane){e.msg="invalid distance too far back",h.mode=30;break e}if(l=0,d=k,0===A){if(l+=w-o,o<c){c-=o;do{y[n++]=k[l++]}while(--o);l=n-u,d=y}}else if(A<o){if(l+=w+A-o,o-=A,o<c){c-=o;do{y[n++]=k[l++]}while(--o);if(l=0,A<c){o=A,c-=o;do{y[n++]=k[l++]}while(--o);l=n-u,d=y}}}else if(l+=A-o,o<c){c-=o;do{y[n++]=k[l++]}while(--o);l=n-u,d=y}for(;c>2;)y[n++]=d[l++],y[n++]=d[l++],y[n++]=d[l++],c-=3;c&&(y[n++]=d[l++],c>1&&(y[n++]=d[l++]))}else{l=n-u;do{y[n++]=y[l++],y[n++]=y[l++],y[n++]=y[l++],c-=3}while(c>2);c&&(y[n++]=y[l++],c>1&&(y[n++]=y[l++]))}break}}break}}while(r<p&&n<m);c=s>>3,r-=c,s-=c<<3,i&=(1<<s)-1,e.next_in=r,e.next_out=n,e.avail_in=r<p?p-r+5:5-(r-p),e.avail_out=n<m?m-n+257:257-(n-m),h.hold=i,h.bits=s}const Ea=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Sa=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],xa=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ca=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Ba(e,t,r,n,i,s,a,o){const c=o.bits;let u,l,d,h,f,p=0,y=0,g=0,m=0,b=0,w=0,v=0,A=0,k=0,_=0,P=null,E=0;const S=new ds(16),x=new ds(16);let C,B,O,R=null,I=0;for(p=0;p<=15;p++)S[p]=0;for(y=0;y<n;y++)S[t[r+y]]++;for(b=c,m=15;m>=1&&0===S[m];m--);if(b>m&&(b=m),0===m)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(g=1;g<m&&0===S[g];g++);for(b<g&&(b=g),A=1,p=1;p<=15;p++)if(A<<=1,A-=S[p],A<0)return-1;if(A>0&&(0===e||1!==m))return-1;for(x[1]=0,p=1;p<15;p++)x[p+1]=x[p]+S[p];for(y=0;y<n;y++)0!==t[r+y]&&(a[x[t[r+y]]++]=y);0===e?(P=R=a,f=19):1===e?(P=Ea,E-=257,R=Sa,I-=257,f=256):(P=xa,R=Ca,f=-1),_=0,y=0,p=g,h=s,w=b,v=0,d=-1,k=1<<b;const T=k-1;if(1===e&&k>852||2===e&&k>592)return 1;for(;;){C=p-v,a[y]<f?(B=0,O=a[y]):a[y]>f?(B=R[I+a[y]],O=P[E+a[y]]):(B=96,O=0),u=1<<p-v,l=1<<w,g=l;do{l-=u,i[h+(_>>v)+l]=C<<24|B<<16|O}while(0!==l);for(u=1<<p-1;_&u;)u>>=1;if(0!==u?(_&=u-1,_+=u):_=0,y++,0==--S[p]){if(p===m)break;p=t[r+a[y]]}if(p>b&&(_&T)!==d){for(0===v&&(v=b),h+=g,w=p-v,A=1<<w;w+v<m&&(A-=S[w+v],!(A<=0));)w++,A<<=1;if(k+=1<<w,1===e&&k>852||2===e&&k>592)return 1;d=_&T,i[d]=b<<24|w<<16|h-s}}return 0!==_&&(i[h+_]=p-v<<24|64<<16),o.bits=b,0}const Oa=12,Ra=30;function Ia(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}class Ta{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ds(320),this.work=new ds(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}let Ma,Na,Da=!0;function Ua(e){if(Da){let t;for(Ma=new hs(512),Na=new hs(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ba(1,e.lens,0,288,Ma,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ba(2,e.lens,0,32,Na,0,e.work,{bits:5}),Da=!1}e.lencode=Ma,e.lenbits=9,e.distcode=Na,e.distbits=5}function ja(e,t,r,n){let i;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new ls(s.wsize)),n>=s.wsize?(ps(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),ps(s.window,t,r-n,i,s.wnext),(n-=i)?(ps(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function Fa(e,t){let r,n,i,s,a,o,c,u,l,d,h,f,p,y,g,m,b,w,v,A,k,_,P,E,S=0,x=new ls(4);const C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return ys;r=e.state,r.mode===Oa&&(r.mode=13),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,d=o,h=c,_=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===u){r.check=0,x[0]=255&u,x[1]=u>>>8&255,r.check=Zs(r.check,x,2,0),u=0,l=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Ra;break}if(8!=(15&u)){e.msg="unknown compression method",r.mode=Ra;break}if(u>>>=4,l-=4,k=8+(15&u),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=Ra;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?10:Oa,u=0,l=0;break;case 2:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=Ra;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Ra;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Zs(r.check,x,2,0)),u=0,l=0,r.mode=3;case 3:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,r.check=Zs(r.check,x,4,0)),u=0,l=0,r.mode=4;case 4:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Zs(r.check,x,2,0)),u=0,l=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Zs(r.check,x,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(f=r.length,f>o&&(f=o),f&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),ps(r.head.extra,n,s,f,k)),512&r.flags&&(r.check=Zs(r.check,n,f,s)),o-=f,s+=f,r.length-=f),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;f=0;do{k=n[s+f++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&f<o);if(512&r.flags&&(r.check=Zs(r.check,n,f,s)),o-=f,s+=f,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;f=0;do{k=n[s+f++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&f<o);if(512&r.flags&&(r.check=Zs(r.check,n,f,s)),o-=f,s+=f,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Ra;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Oa;break;case 10:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}e.adler=r.check=Ia(u),u=0,l=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,2;e.adler=r.check=1,r.mode=Oa;case Oa:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}switch(r.last=1&u,u>>>=1,l-=1,3&u){case 0:r.mode=14;break;case 1:if(Ua(r),r.mode=20,6===t){u>>>=2,l-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=Ra}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ra;break}if(r.length=65535&u,u=0,l=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(f=r.length,f){if(f>o&&(f=o),f>c&&(f=c),0===f)break e;ps(i,n,s,f,a),o-=f,s+=f,c-=f,a+=f,r.length-=f;break}r.mode=Oa;break;case 17:for(;l<14;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ra;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.lens[C[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,P={bits:r.lenbits},_=Ba(0,r.lens,0,19,r.lencode,0,r.work,P),r.lenbits=P.bits,_){e.msg="invalid code lengths set",r.mode=Ra;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;S=r.lencode[u&(1<<r.lenbits)-1],g=S>>>24,m=S>>>16&255,b=65535&S,!(g<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(b<16)u>>>=g,l-=g,r.lens[r.have++]=b;else{if(16===b){for(E=g+2;l<E;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u>>>=g,l-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=Ra;break}k=r.lens[r.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===b){for(E=g+3;l<E;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=g,l-=g,k=0,f=3+(7&u),u>>>=3,l-=3}else{for(E=g+7;l<E;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=g,l-=g,k=0,f=11+(127&u),u>>>=7,l-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ra;break}for(;f--;)r.lens[r.have++]=k}}if(r.mode===Ra)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Ra;break}if(r.lenbits=9,P={bits:r.lenbits},_=Ba(1,r.lens,0,r.nlen,r.lencode,0,r.work,P),r.lenbits=P.bits,_){e.msg="invalid literal/lengths set",r.mode=Ra;break}if(r.distbits=6,r.distcode=r.distdyn,P={bits:r.distbits},_=Ba(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,P),r.distbits=P.bits,_){e.msg="invalid distances set",r.mode=Ra;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(o>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,Pa(e,h),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,r.mode===Oa&&(r.back=-1);break}for(r.back=0;S=r.lencode[u&(1<<r.lenbits)-1],g=S>>>24,m=S>>>16&255,b=65535&S,!(g<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(m&&!(240&m)){for(w=g,v=m,A=b;S=r.lencode[A+((u&(1<<w+v)-1)>>w)],g=S>>>24,m=S>>>16&255,b=65535&S,!(w+g<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=g,l-=g,r.back+=g,r.length=b,0===m){r.mode=26;break}if(32&m){r.back=-1,r.mode=Oa;break}if(64&m){e.msg="invalid literal/length code",r.mode=Ra;break}r.extra=15&m,r.mode=22;case 22:if(r.extra){for(E=r.extra;l<E;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;S=r.distcode[u&(1<<r.distbits)-1],g=S>>>24,m=S>>>16&255,b=65535&S,!(g<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(!(240&m)){for(w=g,v=m,A=b;S=r.distcode[A+((u&(1<<w+v)-1)>>w)],g=S>>>24,m=S>>>16&255,b=65535&S,!(w+g<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=g,l-=g,r.back+=g,64&m){e.msg="invalid distance code",r.mode=Ra;break}r.offset=b,r.extra=15&m,r.mode=24;case 24:if(r.extra){for(E=r.extra;l<E;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ra;break}r.mode=25;case 25:if(0===c)break e;if(f=h-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ra;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),y=r.window}else y=i,p=a-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do{i[a++]=y[p++]}while(--f);0===r.length&&(r.mode=21);break;case 26:if(0===c)break e;i[a++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break e;o--,u|=n[s++]<<l,l+=8}if(h-=c,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?Zs(r.check,i,h,a-h):Qs(r.check,i,h,a-h)),h=c,(r.flags?u:Ia(u))!==r.check){e.msg="incorrect data check",r.mode=Ra;break}u=0,l=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Ra;break}u=0,l=0}r.mode=29;case 29:_=1;break e;case Ra:_=-3;break e;default:return ys}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,(r.wsize||h!==e.avail_out&&r.mode<Ra&&(r.mode<27||4!==t))&&ja(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?Zs(r.check,i,h,e.next_out-h):Qs(r.check,i,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Oa?128:0)+(20===r.mode||15===r.mode?256:0),(0===d&&0===h||4===t)&&0===_&&(_=-5),_}function Ka(e,t){const r=t.length;let n,i;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?ys:11===n.mode&&(i=1,i=Qs(i,t,r,0),i!==n.check)?-3:(ja(e,t,r,r),n.havedict=1,0)):ys}class La{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class za{constructor(e){this.options={chunkSize:16384,windowBits:0,...e||{}};const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ka,this.strm.avail_out=0;let r=function(e,t){let r,n;return e?(n=new Ta,e.state=n,n.window=null,r=function(e,t){let r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?ys:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,function(e){let t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,function(e){let t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new hs(852),t.distcode=t.distdyn=new hs(592),t.sane=1,t.back=-1,0):ys}(e)):ys}(e))):ys}(e,t),0!==r&&(e.state=null),r):ys}(this.strm,t.windowBits);if(0!==r)throw Error(Ys[r]);if(this.header=new La,function(e,t){let r;e&&e.state&&(r=e.state,!(2&r.wrap)||(r.head=t,t.done=!1))}(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Aa(t.dictionary):t.dictionary instanceof ArrayBuffer&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ka(this.strm,t.dictionary),0!==r)))throw Error(Ys[r])}push(e,t){const{strm:r,options:{chunkSize:n,dictionary:i}}=this;let s,a,o=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=function(e){const t=new ls(e.length);for(let r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t}(e):e instanceof ArrayBuffer?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new ls(n),r.next_out=0,r.avail_out=n),s=Fa(r,0),2===s&&i&&(s=Ka(this.strm,i)),-5===s&&!0===o&&(s=0,o=!1),1!==s&&0!==s)return this.onEnd(s),this.ended=!0,!1;r.next_out&&(0!==r.avail_out&&1!==s&&(0!==r.avail_in||4!==a&&2!==a)||this.onData(os(r.output,r.next_out))),0===r.avail_in&&0===r.avail_out&&(o=!0)}while((r.avail_in>0||0===r.avail_out)&&1!==s);return 1===s&&(a=4),4===a?(s=function(e){if(!e||!e.state)return ys;const t=e.state;return t.window&&(t.window=null),e.state=null,0}(this.strm),this.onEnd(s),this.ended=!0,0===s):2!==a||(this.onEnd(0),r.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result=fs(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}var qa=[0,1,3,7,15,31,63,127,255],Ha=function(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1};Ha.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},Ha.prototype.read=function(e){for(var t=0;e>0;){this._ensureByte();var r=8-this.bitOffset;if(e>=r)t<<=r,t|=qa[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=r;else{t<<=e;var n=r-e;t|=(this.curByte&qa[e]<<n)>>n,this.bitOffset+=e,e=0}}return t},Ha.prototype.seek=function(e){var t=e%8,r=(e-t)/8;this.bitOffset=t,this.stream.seek(r),this.hasByte=!1},Ha.prototype.pi=function(){var e,t=new Uint8Array(6);for(e=0;e<t.length;e++)t[e]=this.read(8);return function(e){return Array.prototype.map.call(e,(e=>("00"+e.toString(16)).slice(-2))).join("")}(t)};var Ga=Ha,Wa=function(){};Wa.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},Wa.prototype.read=function(e,t,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return 0===n?-1:n;e[t++]=i,n++}return n},Wa.prototype.seek=function(e){throw Error("abstract method seek() not implemented")},Wa.prototype.writeByte=function(e){throw Error("abstract method readByte() not implemented")},Wa.prototype.write=function(e,t,r){var n;for(n=0;n<r;n++)this.writeByte(e[t++]);return r},Wa.prototype.flush=function(){};var Va,Ja=Wa,Qa=(Va=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^Va[255&(e>>>24^t)]},this.updateCRCRun=function(t,r){for(;r-- >0;)e=e<<8^Va[255&(e>>>24^t)]}}),$a=function(e,t){var r,n=e[t];for(r=t;r>0;r--)e[r]=e[r-1];return e[0]=n,n},Za=-5,Ya={"-1":"Bad file checksum","-2":"Not bzip data","-3":"Unexpected input EOF","-4":"Unexpected output EOF","-5":"Data error","-6":"Out of memory","-7":"Obsolete (pre 0.9.5) bzip format not supported."},Xa=function(e,t){var r=Ya[e]||"unknown error";t&&(r+=": "+t);var n=new TypeError(r);throw n.errorCode=e,n},eo=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};eo.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new Qa,!0):(this.writeCount=-1,!1)},eo.prototype._start_bunzip=function(e,t){var r=new Uint8Array(4);4===e.read(r,0,4)&&"BZh"===String.fromCharCode(r[0],r[1],r[2])||Xa(-2,"bad magic");var n=r[3]-48;(n<1||n>9)&&Xa(-2,"level out of range"),this.reader=new Ga(e),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},eo.prototype._get_next_block=function(){var e,t,r,n=this.reader,i=n.pi();if("177245385090"===i)return!1;"314159265359"!==i&&Xa(-2),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&Xa(-7);var s=n.read(24);s>this.dbufSize&&Xa(Za,"initial position out of bounds");var a=n.read(16),o=new Uint8Array(256),c=0;for(e=0;e<16;e++)if(a&1<<15-e){var u=16*e;for(r=n.read(16),t=0;t<16;t++)r&1<<15-t&&(o[c++]=u+t)}var l=n.read(3);(l<2||l>6)&&Xa(Za);var d=n.read(15);0===d&&Xa(Za);var h=new Uint8Array(256);for(e=0;e<l;e++)h[e]=e;var f=new Uint8Array(d);for(e=0;e<d;e++){for(t=0;n.read(1);t++)t>=l&&Xa(Za);f[e]=$a(h,t)}var p,y=c+2,g=[];for(t=0;t<l;t++){var m,b,w=new Uint8Array(y),v=new Uint16Array(21);for(a=n.read(5),e=0;e<y;e++){for(;(a<1||a>20)&&Xa(Za),n.read(1);)n.read(1)?a--:a++;w[e]=a}for(m=b=w[0],e=1;e<y;e++)w[e]>b?b=w[e]:w[e]<m&&(m=w[e]);p={},g.push(p),p.permute=new Uint16Array(258),p.limit=new Uint32Array(22),p.base=new Uint32Array(21),p.minLen=m,p.maxLen=b;var A=0;for(e=m;e<=b;e++)for(v[e]=p.limit[e]=0,a=0;a<y;a++)w[a]===e&&(p.permute[A++]=a);for(e=0;e<y;e++)v[w[e]]++;for(A=a=0,e=m;e<b;e++)A+=v[e],p.limit[e]=A-1,A<<=1,a+=v[e],p.base[e+1]=A-a;p.limit[b+1]=Number.MAX_VALUE,p.limit[b]=A+v[b]-1,p.base[m]=0}var k=new Uint32Array(256);for(e=0;e<256;e++)h[e]=e;var _,P=0,E=0,S=0,x=this.dbuf=new Uint32Array(this.dbufSize);for(y=0;;){for(y--||(y=49,S>=d&&Xa(Za),p=g[f[S++]]),e=p.minLen,t=n.read(e);e>p.maxLen&&Xa(Za),!(t<=p.limit[e]);e++)t=t<<1|n.read(1);((t-=p.base[e])<0||t>=258)&&Xa(Za);var C=p.permute[t];if(0!==C&&1!==C){if(P)for(P=0,E+a>this.dbufSize&&Xa(Za),k[_=o[h[0]]]+=a;a--;)x[E++]=_;if(C>c)break;E>=this.dbufSize&&Xa(Za),k[_=o[_=$a(h,e=C-1)]]++,x[E++]=_}else P||(P=1,a=0),a+=0===C?P:2*P,P<<=1}for((s<0||s>=E)&&Xa(Za),t=0,e=0;e<256;e++)r=t+k[e],k[e]=t,t=r;for(e=0;e<E;e++)x[k[_=255&x[e]]]|=e<<8,k[_]++;var B=0,O=0,R=0;return E&&(O=255&(B=x[s]),B>>=8,R=-1),this.writePos=B,this.writeCurrent=O,this.writeCount=E,this.writeRun=R,!0},eo.prototype._read_bunzip=function(e,t){var r,n,i;if(this.writeCount<0)return 0;var s=this.dbuf,a=this.writePos,o=this.writeCurrent,c=this.writeCount;this.outputsize;for(var u=this.writeRun;c;){for(c--,n=o,o=255&(a=s[a]),a>>=8,3==u++?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(u=0)}return this.writeCount=c,this.blockCRC.getCRC()!==this.targetBlockCRC&&Xa(Za,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var to=function(e,t,r){for(var n=function(e){if("readByte"in e)return e;var t=new Ja;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(e){this.pos=e},t.eof=function(){return this.pos>=e.length},t}(e),i=function(e){var t=new Ja,r=!0;if(e)if("number"==typeof e)t.buffer=new Uint8Array(e),r=!1;else{if("writeByte"in e)return e;t.buffer=e,r=!1}else t.buffer=new Uint8Array(16384);return t.pos=0,t.writeByte=function(e){if(r&&this.pos>=this.buffer.length){var t=new Uint8Array(2*this.buffer.length);t.set(this.buffer),this.buffer=t}this.buffer[this.pos++]=e},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var e=new Uint8Array(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},t._coerced=!0,t}(t),s=new eo(n,i);!("eof"in n)||!n.eof();)if(s._init_block())s._read_bunzip();else{var a=s.reader.read(32)>>>0;if(a!==s.streamCRC&&Xa(Za,"Bad stream CRC (got "+s.streamCRC.toString(16)+" expected "+a.toString(16)+")"),!r||!("eof"in n)||n.eof())break;s._start_bunzip(n,i)}if("getBuffer"in i)return i.getBuffer()};class ro{static get tag(){return $.packet.literalData}constructor(e=new Date){this.format=$.literal.utf8,this.date=Y.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,t=$.literal.utf8){this.format=t,this.text=e,this.data=null}getText(e=!1){return(null===this.text||Y.isStream(this.text))&&(this.text=Y.decodeUTF8(Y.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,t){this.format=t,this.data=e,this.text=null}getBytes(e=!1){return null===this.data&&(this.data=Y.canonicalizeEOL(Y.encodeUTF8(this.text))),e?z(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await K(e,(async e=>{const t=await e.readByte(),r=await e.readByte();this.filename=Y.decodeUTF8(await e.readBytes(r)),this.date=Y.readDate(await e.readBytes(4));let n=e.remainder();u(n)&&(n=await G(n)),this.setBytes(n,t)}))}writeHeader(){const e=Y.encodeUTF8(this.filename),t=new Uint8Array([e.length]),r=new Uint8Array([this.format]),n=Y.writeDate(this.date);return Y.concatUint8Array([r,t,e,n])}write(){const e=this.writeHeader(),t=this.getBytes();return Y.concat([e,t])}}const no=Symbol("verified"),io=new Set([$.signatureSubpacket.issuer,$.signatureSubpacket.issuerFingerprint,$.signatureSubpacket.embeddedSignature]);class so{static get tag(){return $.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new ge,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[no]=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new ii(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[t++],this.publicKeyAlgorithm=e[t++],this.hashAlgorithm=e[t++],t+=this.readSubPackets(e.subarray(t,e.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");this.signatureData=e.subarray(0,t),t+=this.readSubPackets(e.subarray(t,e.length),!1),this.signedHashValue=e.subarray(t,t+2),t+=2,this.params=ss.signature.parseSignatureParams(this.publicKeyAlgorithm,e.subarray(t,e.length))}writeParams(){return this.params instanceof Promise?V((async()=>ss.serializeParams(this.publicKeyAlgorithm,await this.params))):ss.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),e.push(this.writeParams()),Y.concat(e)}async sign(e,t,r=new Date,n=!1){5===e.version?this.version=5:this.version=4;const i=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];this.created=Y.normalizeDate(r),this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID(),i.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=Y.concat(i);const s=this.toHash(this.signatureType,t,n),a=await this.hash(this.signatureType,t,s,n);this.signedHashValue=H(L(a),0,2);const o=async()=>ss.signature.sign(this.publicKeyAlgorithm,this.hashAlgorithm,e.publicParams,e.privateParams,s,await G(a));Y.isStream(a)?this.params=o():(this.params=await o(),this[no]=!0)}writeHashedSubPackets(){const e=$.signatureSubpacket,t=[];let r;if(null===this.created)throw Error("Missing signature creation time");t.push(ao(e.signatureCreationTime,!0,Y.writeDate(this.created))),null!==this.signatureExpirationTime&&t.push(ao(e.signatureExpirationTime,!0,Y.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&t.push(ao(e.exportableCertification,!0,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(r=new Uint8Array([this.trustLevel,this.trustAmount]),t.push(ao(e.trustSignature,!0,r))),null!==this.regularExpression&&t.push(ao(e.regularExpression,!0,this.regularExpression)),null!==this.revocable&&t.push(ao(e.revocable,!0,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&t.push(ao(e.keyExpirationTime,!0,Y.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.preferredSymmetricAlgorithms)),t.push(ao(e.preferredSymmetricAlgorithms,!1,r))),null!==this.revocationKeyClass&&(r=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),r=Y.concat([r,this.revocationKeyFingerprint]),t.push(ao(e.revocationKey,!1,r))),this.issuerKeyID.isNull()||5===this.issuerKeyVersion||t.push(ao(e.issuer,!0,this.issuerKeyID.write())),this.rawNotations.forEach((({name:n,value:i,humanReadable:s,critical:a})=>{r=[new Uint8Array([s?128:0,0,0,0])];const o=Y.encodeUTF8(n);r.push(Y.writeNumber(o.length,2)),r.push(Y.writeNumber(i.length,2)),r.push(o),r.push(i),r=Y.concat(r),t.push(ao(e.notationData,a,r))})),null!==this.preferredHashAlgorithms&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.preferredHashAlgorithms)),t.push(ao(e.preferredHashAlgorithms,!1,r))),null!==this.preferredCompressionAlgorithms&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.preferredCompressionAlgorithms)),t.push(ao(e.preferredCompressionAlgorithms,!1,r))),null!==this.keyServerPreferences&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.keyServerPreferences)),t.push(ao(e.keyServerPreferences,!1,r))),null!==this.preferredKeyServer&&t.push(ao(e.preferredKeyServer,!1,Y.encodeUTF8(this.preferredKeyServer))),null!==this.isPrimaryUserID&&t.push(ao(e.primaryUserID,!1,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&t.push(ao(e.policyURI,!1,Y.encodeUTF8(this.policyURI))),null!==this.keyFlags&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.keyFlags)),t.push(ao(e.keyFlags,!0,r))),null!==this.signersUserID&&t.push(ao(e.signersUserID,!1,Y.encodeUTF8(this.signersUserID))),null!==this.reasonForRevocationFlag&&(r=Y.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),t.push(ao(e.reasonForRevocation,!0,r))),null!==this.features&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.features)),t.push(ao(e.features,!1,r))),null!==this.signatureTargetPublicKeyAlgorithm&&(r=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],r.push(Y.stringToUint8Array(this.signatureTargetHash)),r=Y.concat(r),t.push(ao(e.signatureTarget,!0,r))),null!==this.embeddedSignature&&t.push(ao(e.embeddedSignature,!0,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(r=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],r=Y.concat(r),t.push(ao(e.issuerFingerprint,5===this.version,r))),null!==this.preferredAEADAlgorithms&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.preferredAEADAlgorithms)),t.push(ao(e.preferredAEADAlgorithms,!1,r)));const n=Y.concat(t),i=Y.writeNumber(n.length,2);return Y.concat([i,n])}writeUnhashedSubPackets(){const e=[];this.unhashedSubpackets.forEach((t=>{e.push(Yn(t.length)),e.push(t)}));const t=Y.concat(e),r=Y.writeNumber(t.length,2);return Y.concat([r,t])}readSubPacket(e,t=!0){let r=0;const n=!!(128&e[r]),i=127&e[r];if(t||(this.unhashedSubpackets.push(e.subarray(r,e.length)),io.has(i)))switch(r++,i){case $.signatureSubpacket.signatureCreationTime:this.created=Y.readDate(e.subarray(r,e.length));break;case $.signatureSubpacket.signatureExpirationTime:{const t=Y.readNumber(e.subarray(r,e.length));this.signatureNeverExpires=0===t,this.signatureExpirationTime=t;break}case $.signatureSubpacket.exportableCertification:this.exportable=1===e[r++];break;case $.signatureSubpacket.trustSignature:this.trustLevel=e[r++],this.trustAmount=e[r++];break;case $.signatureSubpacket.regularExpression:this.regularExpression=e[r];break;case $.signatureSubpacket.revocable:this.revocable=1===e[r++];break;case $.signatureSubpacket.keyExpirationTime:{const t=Y.readNumber(e.subarray(r,e.length));this.keyExpirationTime=t,this.keyNeverExpires=0===t;break}case $.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(r,e.length)];break;case $.signatureSubpacket.revocationKey:this.revocationKeyClass=e[r++],this.revocationKeyAlgorithm=e[r++],this.revocationKeyFingerprint=e.subarray(r,r+20);break;case $.signatureSubpacket.issuer:this.issuerKeyID.read(e.subarray(r,e.length));break;case $.signatureSubpacket.notationData:{const t=!!(128&e[r]);r+=4;const i=Y.readNumber(e.subarray(r,r+2));r+=2;const s=Y.readNumber(e.subarray(r,r+2));r+=2;const a=Y.decodeUTF8(e.subarray(r,r+i)),o=e.subarray(r+i,r+i+s);this.rawNotations.push({name:a,humanReadable:t,value:o,critical:n}),t&&(this.notations[a]=Y.decodeUTF8(o));break}case $.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(r,e.length)];break;case $.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(r,e.length)];break;case $.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(r,e.length)];break;case $.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=Y.decodeUTF8(e.subarray(r,e.length));break;case $.signatureSubpacket.primaryUserID:this.isPrimaryUserID=0!==e[r++];break;case $.signatureSubpacket.policyURI:this.policyURI=Y.decodeUTF8(e.subarray(r,e.length));break;case $.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(r,e.length)];break;case $.signatureSubpacket.signersUserID:this.signersUserID=Y.decodeUTF8(e.subarray(r,e.length));break;case $.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[r++],this.reasonForRevocationString=Y.decodeUTF8(e.subarray(r,e.length));break;case $.signatureSubpacket.features:this.features=[...e.subarray(r,e.length)];break;case $.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[r++],this.signatureTargetHashAlgorithm=e[r++];const t=ss.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=Y.uint8ArrayToString(e.subarray(r,r+t));break}case $.signatureSubpacket.embeddedSignature:this.embeddedSignature=new so,this.embeddedSignature.read(e.subarray(r,e.length));break;case $.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[r++],this.issuerFingerprint=e.subarray(r,e.length),5===this.issuerKeyVersion?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case $.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(r,e.length)];break;default:{const e=Error("Unknown signature subpacket type "+i);if(n)throw e;Y.printDebug(e)}}}readSubPackets(e,t=!0,r){const n=Y.readNumber(e.subarray(0,2));let i=2;for(;i<2+n;){const n=Zn(e.subarray(i,e.length));i+=n.offset,this.readSubPacket(e.subarray(i,i+n.len),t,r),i+=n.len}return i}toSign(e,t){const r=$.signature;switch(e){case r.binary:return null!==t.text?Y.encodeUTF8(t.getText(!0)):t.getBytes(!0);case r.text:{const e=t.getBytes(!0);return Y.canonicalizeEOL(e)}case r.standalone:return new Uint8Array(0);case r.certGeneric:case r.certPersona:case r.certCasual:case r.certPositive:case r.certRevocation:{let e,n;if(t.userID)n=180,e=t.userID;else{if(!t.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");n=209,e=t.userAttribute}const i=e.write();return Y.concat([this.toSign(r.key,t),new Uint8Array([n]),Y.writeNumber(i.length,4),i])}case r.subkeyBinding:case r.subkeyRevocation:case r.keyBinding:return Y.concat([this.toSign(r.key,t),this.toSign(r.key,{key:t.bind})]);case r.key:if(void 0===t.key)throw Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case r.keyRevocation:return this.toSign(r.key,t);case r.timestamp:return new Uint8Array(0);case r.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,t){let r=0;return j(L(this.signatureData),(e=>{r+=e.length}),(()=>{const n=[];return 5!==this.version||this.signatureType!==$.signature.binary&&this.signatureType!==$.signature.text||(t?n.push(new Uint8Array(6)):n.push(e.writeHeader())),n.push(new Uint8Array([this.version,255])),5===this.version&&n.push(new Uint8Array(4)),n.push(Y.writeNumber(r,4)),Y.concat(n)}))}toHash(e,t,r=!1){const n=this.toSign(e,t);return Y.concat([n,this.signatureData,this.calculateTrailer(t,r)])}async hash(e,t,r,n=!1){return r||(r=this.toHash(e,t,n)),ss.hash.digest(this.hashAlgorithm,r)}async verify(e,t,r,n=new Date,i=!1,s=ae){if(!this.issuerKeyID.equals(e.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");const a=t===$.signature.binary||t===$.signature.text;if(!this[no]||a){let n,s;if(this.hashed?s=await this.hashed:(n=this.toHash(t,r,i),s=await this.hash(t,r,n)),s=await G(s),this.signedHashValue[0]!==s[0]||this.signedHashValue[1]!==s[1])throw Error("Signed digest did not match");if(this.params=await this.params,this[no]=await ss.signature.verify(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,e.publicParams,n,s),!this[no])throw Error("Signature verification failed")}const o=Y.normalizeDate(n);if(o&&this.created>o)throw Error("Signature creation time is in the future");if(o&&o>=this.getExpirationTime())throw Error("Signature is expired");if(s.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+$.read($.hash,this.hashAlgorithm).toUpperCase());if(s.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[$.signature.binary,$.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+$.read($.hash,this.hashAlgorithm).toUpperCase());if(this.rawNotations.forEach((({name:e,critical:t})=>{if(t&&s.knownNotations.indexOf(e)<0)throw Error("Unknown critical notation: "+e)})),null!==this.revocationKeyClass)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(e=new Date){const t=Y.normalizeDate(e);return null!==t&&!(this.created<=t&&t<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function ao(e,t,r){const n=[];return n.push(Yn(r.length+1)),n.push(new Uint8Array([(t?128:0)|e])),n.push(r),Y.concat(n)}class oo{static get tag(){return $.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(e){let t=0;if(this.version=e[t++],3!==this.version)throw new ii(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=e[t++],this.hashAlgorithm=e[t++],this.publicKeyAlgorithm=e[t++],this.issuerKeyID=new ge,this.issuerKeyID.read(e.subarray(t,t+8)),t+=8,this.flags=e[t++],this}write(){const e=new Uint8Array([3,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm]),t=new Uint8Array([this.flags]);return Y.concatUint8Array([e,this.issuerKeyID.write(),t])}calculateTrailer(...e){return V((async()=>so.prototype.calculateTrailer.apply(await this.correspondingSig,e)))}async verify(){const e=await this.correspondingSig;if(!e||e.constructor.tag!==$.packet.signature)throw Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}function co(e,t){if(!t[e]){let r;try{r=$.read($.packet,e)}catch(t){throw new ii("Unknown packet type with tag: "+e)}throw Error("Packet not allowed in this context: "+r)}return new t[e]}oo.prototype.hash=so.prototype.hash,oo.prototype.toHash=so.prototype.toHash,oo.prototype.toSign=so.prototype.toSign;class uo extends Array{static async fromBinary(e,t,r=ae){const n=new uo;return await n.read(e,t,r),n}async read(e,t,r=ae){r.additionalAllowedPackets.length&&(t={...t,...Y.constructAllowedPackets(r.additionalAllowedPackets)}),this.stream=F(e,(async(e,n)=>{const i=M(n);try{for(;;)if(await i.ready,await ni(e,(async e=>{try{if(e.tag===$.packet.marker||e.tag===$.packet.trust)return;const n=co(e.tag,t);n.packets=new uo,n.fromStream=Y.isStream(e.packet),await n.read(e.packet,r),await i.write(n)}catch(t){const n=!r.ignoreUnsupportedPackets&&t instanceof ii,s=!(r.ignoreMalformedPackets||t instanceof ii);if(n||s||ri(e.tag))await i.abort(t);else{const t=new si(e.tag,e.packet);await i.write(t)}Y.printDebugError(t)}})))return await i.ready,void await i.close()}catch(e){await i.abort(e)}}));const n=T(this.stream);for(;;){const{done:e,value:t}=await n.read();if(e?this.stream=null:this.push(t),e||ri(t.constructor.tag))break}n.releaseLock()}write(){const e=[];for(let t=0;t<this.length;t++){const r=this[t]instanceof si?this[t].tag:this[t].constructor.tag,n=this[t].write();if(Y.isStream(n)&&ri(this[t].constructor.tag)){let t=[],i=0;const s=512;e.push(ei(r)),e.push(j(n,(e=>{if(t.push(e),i+=e.length,i>=s){const e=Math.min(Math.log(i)/Math.LN2|0,30),r=2**e,n=Y.concat([Xn(e)].concat(t));return t=[n.subarray(1+r)],i=t[0].length,n.subarray(0,1+r)}}),(()=>Y.concat([Yn(i)].concat(t)))))}else{if(Y.isStream(n)){let t=0;e.push(j(L(n),(e=>{t+=e.length}),(()=>ti(r,t))))}else e.push(ti(r,n.length));e.push(n)}}return Y.concat(e)}filterByTag(...e){const t=new uo,r=e=>t=>e===t;for(let n=0;n<this.length;n++)e.some(r(this[n].constructor.tag))&&t.push(this[n]);return t}findPacket(e){return this.find((t=>t.constructor.tag===e))}indexOfTag(...e){const t=[],r=this,n=e=>t=>e===t;for(let i=0;i<this.length;i++)e.some(n(r[i].constructor.tag))&&t.push(i);return t}}const lo=Y.constructAllowedPackets([ro,oo,so]);class ho{static get tag(){return $.packet.compressedData}constructor(e=ae){this.packets=null,this.algorithm=e.preferredCompressionAlgorithm,this.compressed=null,this.deflateLevel=e.deflateLevel}async read(e,t=ae){await K(e,(async e=>{this.algorithm=await e.readByte(),this.compressed=e.remainder(),await this.decompress(t)}))}write(){return null===this.compressed&&this.compress(),Y.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(e=ae){const t=$.read($.compression,this.algorithm),r=wo[t];if(!r)throw Error(t+" decompression not supported");this.packets=await uo.fromBinary(r(this.compressed),lo,e)}compress(){const e=$.read($.compression,this.algorithm),t=bo[e];if(!t)throw Error(e+" compression not supported");this.compressed=t(this.packets.write(),this.deflateLevel)}}const fo=Y.getNodeZlib();function po(e){return e}function yo(e,t,r={}){return function(n){return!Y.isStream(n)||u(n)?V((()=>G(n).then((t=>new Promise(((n,i)=>{e(t,r,((e,t)=>{if(e)return i(e);n(t)}))})))))):b(w(n).pipe(t(r)))}}function go(e,t={}){return function(r){const n=new e(t);return j(r,(e=>{if(e.length)return n.push(e,2),n.result}),(()=>{if(e===_a)return n.push([],4),n.result}))}}function mo(e){return function(t){return V((async()=>e(await G(t))))}}const bo=fo?{zip:(e,t)=>yo(fo.deflateRaw,fo.createDeflateRaw,{level:t})(e),zlib:(e,t)=>yo(fo.deflate,fo.createDeflate,{level:t})(e)}:{zip:(e,t)=>go(_a,{raw:!0,level:t})(e),zlib:(e,t)=>go(_a,{level:t})(e)},wo=fo?{uncompressed:po,zip:yo(fo.inflateRaw,fo.createInflateRaw),zlib:yo(fo.inflate,fo.createInflate),bzip2:mo(to)}:{uncompressed:po,zip:go(za,{raw:!0}),zlib:go(za),bzip2:mo(to)},vo=Y.constructAllowedPackets([ro,ho,oo,so]);class Ao{static get tag(){return $.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}async read(e){await K(e,(async e=>{const t=await e.readByte();if(1!==t)throw new ii(`Version ${t} of the SEIP packet is unsupported.`);this.encrypted=e.remainder()}))}write(){return Y.concat([new Uint8Array([1]),this.encrypted])}async encrypt(e,t,r=ae){const{blockSize:n}=ss.getCipher(e);let i=this.packets.write();u(i)&&(i=await G(i));const s=await ss.getPrefixRandom(e),a=new Uint8Array([211,20]),o=Y.concat([s,i,a]),c=await ss.hash.sha1(z(o)),l=Y.concat([o,c]);return this.encrypted=await ss.mode.cfb.encrypt(e,t,l,new Uint8Array(n),r),!0}async decrypt(e,t,r=ae){const{blockSize:n}=ss.getCipher(e);let i=L(this.encrypted);u(i)&&(i=await G(i));const s=await ss.mode.cfb.decrypt(e,t,i,new Uint8Array(n)),a=H(z(s),-20),o=H(s,0,-20),c=Promise.all([G(await ss.hash.sha1(z(o))),G(a)]).then((([e,t])=>{if(!Y.equalsUint8Array(e,t))throw Error("Modification detected.");return new Uint8Array})),l=H(o,n+2);let d=H(l,0,-2);return d=I([d,V((()=>c))]),Y.isStream(i)&&r.allowUnauthenticatedStream||(d=await G(d)),this.packets=await uo.fromBinary(d,vo,r),!0}}const ko=Y.constructAllowedPackets([ro,ho,oo,so]);class _o{static get tag(){return $.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=$.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await K(e,(async e=>{const t=await e.readByte();if(1!==t)throw new ii(`Version ${t} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=await e.readByte(),this.aeadAlgorithm=await e.readByte(),this.chunkSizeByte=await e.readByte();const r=ss.getAEADMode(this.aeadAlgorithm);this.iv=await e.readBytes(r.ivLength),this.encrypted=e.remainder()}))}write(){return Y.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,t,r=ae){this.packets=await uo.fromBinary(await this.crypt("decrypt",t,L(this.encrypted)),ko,r)}async encrypt(e,t,r=ae){this.cipherAlgorithm=e;const{ivLength:n}=ss.getAEADMode(this.aeadAlgorithm);this.iv=ss.random.getRandomBytes(n),this.chunkSizeByte=r.aeadChunkSizeByte;const i=this.packets.write();this.encrypted=await this.crypt("encrypt",t,i)}async crypt(e,t,r){const n=ss.getAEADMode(this.aeadAlgorithm),i=await n(this.cipherAlgorithm,t),s="decrypt"===e?n.tagLength:0,a="encrypt"===e?n.tagLength:0,o=2**(this.chunkSizeByte+6)+s,c=new ArrayBuffer(21),u=new Uint8Array(c,0,13),l=new Uint8Array(c),d=new DataView(c),h=new Uint8Array(c,5,8);u.set([192|_o.tag,this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte],0);let f=0,p=Promise.resolve(),y=0,g=0;const m=this.iv;return F(r,(async(t,r)=>{if("array"!==Y.isStream(t)){const e=new x({},{highWaterMark:Y.getHardwareConcurrency()*2**(this.chunkSizeByte+6),size:e=>e.length});N(e.readable,r),r=e.writable}const c=T(t),b=M(r);try{for(;;){let t=await c.readBytes(o+s)||new Uint8Array;const r=t.subarray(t.length-s);let w,v;if(t=t.subarray(0,t.length-s),!f||t.length?(c.unshift(r),w=i[e](t,n.getNonce(m,h),u),g+=t.length-s+a):(d.setInt32(17,y),w=i[e](r,n.getNonce(m,h),l),g+=a,v=!0),y+=t.length-s,p=p.then((()=>w)).then((async e=>{await b.ready,await b.write(e),g-=e.length})).catch((e=>b.abort(e))),(v||g>b.desiredSize)&&await p,v){await b.close();break}d.setInt32(9,++f)}}catch(e){await b.abort(e)}}))}}class Po{static get tag(){return $.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new ge,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(e){let t=0;if(this.version=e[t++],3!==this.version)throw new ii(`Version ${this.version} of the PKESK packet is unsupported.`);t+=this.publicKeyID.read(e.subarray(t)),this.publicKeyAlgorithm=e[t++],this.encrypted=ss.parseEncSessionKeyParams(this.publicKeyAlgorithm,e.subarray(t),this.version),this.publicKeyAlgorithm===$.publicKey.x25519&&(this.sessionKeyAlgorithm=$.write($.symmetric,this.encrypted.C.algorithm))}write(){const e=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([this.publicKeyAlgorithm]),ss.serializeParams(this.publicKeyAlgorithm,this.encrypted)];return Y.concatUint8Array(e)}async encrypt(e){const t=$.write($.publicKey,this.publicKeyAlgorithm),r=Eo(this.version,t,this.sessionKeyAlgorithm,this.sessionKey);this.encrypted=await ss.publicKeyEncrypt(t,this.sessionKeyAlgorithm,e.publicParams,r,e.getFingerprintBytes())}async decrypt(e,t){if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Decryption error");const r=t?Eo(this.version,this.publicKeyAlgorithm,t.sessionKeyAlgorithm,t.sessionKey):null,n=await ss.publicKeyDecrypt(this.publicKeyAlgorithm,e.publicParams,e.privateParams,this.encrypted,e.getFingerprintBytes(),r),{sessionKey:i,sessionKeyAlgorithm:s}=function(e,t,r,n){switch(t){case $.publicKey.rsaEncrypt:case $.publicKey.rsaEncryptSign:case $.publicKey.elgamal:case $.publicKey.ecdh:{const e=r.subarray(0,r.length-2),t=r.subarray(r.length-2),i=Y.writeChecksum(e.subarray(e.length%8)),s=i[0]===t[0]&i[1]===t[1],a={sessionKeyAlgorithm:e[0],sessionKey:e.subarray(1)};if(n){const e=s&a.sessionKeyAlgorithm===n.sessionKeyAlgorithm&a.sessionKey.length===n.sessionKey.length;return{sessionKey:Y.selectUint8Array(e,a.sessionKey,n.sessionKey),sessionKeyAlgorithm:Y.selectUint8(e,a.sessionKeyAlgorithm,n.sessionKeyAlgorithm)}}if(s&&$.read($.symmetric,a.sessionKeyAlgorithm))return a;throw Error("Decryption error")}case $.publicKey.x25519:return{sessionKey:r};default:throw Error("Unsupported public key algorithm")}}(this.version,this.publicKeyAlgorithm,n,t);this.publicKeyAlgorithm!==$.publicKey.x25519&&(this.sessionKeyAlgorithm=s),this.sessionKey=i}}function Eo(e,t,r,n){switch(t){case $.publicKey.rsaEncrypt:case $.publicKey.rsaEncryptSign:case $.publicKey.elgamal:case $.publicKey.ecdh:return Y.concatUint8Array([new Uint8Array([r]),n,Y.writeChecksum(n.subarray(n.length%8))]);case $.publicKey.x25519:return n;default:throw Error("Unsupported public key algorithm")}}class So{constructor(e=ae){this.algorithm=$.hash.sha256,this.type="iterated",this.c=e.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let t=0;try{this.type=$.read($.s2k,e[t++])}catch(e){throw new ii("Unknown S2K type.")}switch(this.algorithm=e[t++],this.type){case"simple":break;case"salted":this.salt=e.subarray(t,t+8),t+=8;break;case"iterated":this.salt=e.subarray(t,t+8),t+=8,this.c=e[t++];break;case"gnu":if("GNU"!==Y.uint8ArrayToString(e.subarray(t,t+3)))throw new ii("Unknown s2k type.");if(t+=3,1001!==1e3+e[t++])throw new ii("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw new ii("Unknown s2k type.")}return t}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...Y.stringToUint8Array("GNU"),1]);const e=[new Uint8Array([$.write($.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return Y.concatUint8Array(e)}async produceKey(e,t){e=Y.encodeUTF8(e);const r=[];let n=0,i=0;for(;n<t;){let t;switch(this.type){case"simple":t=Y.concatUint8Array([new Uint8Array(i),e]);break;case"salted":t=Y.concatUint8Array([new Uint8Array(i),this.salt,e]);break;case"iterated":{const r=Y.concatUint8Array([this.salt,e]);let n=r.length;const s=Math.max(this.getCount(),n);t=new Uint8Array(i+s),t.set(r,i);for(let e=i+n;e<s;e+=n,n*=2)t.copyWithin(e,i,e);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const s=await ss.hash.digest(this.algorithm,t);r.push(s),n+=s.length,i++}return Y.concatUint8Array(r).subarray(0,t)}}class xo{static get tag(){return $.packet.symEncryptedSessionKey}constructor(e=ae){this.version=e.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=$.symmetric.aes256,this.aeadAlgorithm=$.write($.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new ii(`Version ${this.version} of the SKESK packet is unsupported.`);const r=e[t++];if(5===this.version&&(this.aeadAlgorithm=e[t++]),this.s2k=new So,t+=this.s2k.read(e.subarray(t,e.length)),5===this.version){const r=ss.getAEADMode(this.aeadAlgorithm);this.iv=e.subarray(t,t+=r.ivLength)}5===this.version||t<e.length?(this.encrypted=e.subarray(t,e.length),this.sessionKeyEncryptionAlgorithm=r):this.sessionKeyAlgorithm=r}write(){const e=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let t;return 5===this.version?t=Y.concatUint8Array([new Uint8Array([this.version,e,this.aeadAlgorithm]),this.s2k.write(),this.iv,this.encrypted]):(t=Y.concatUint8Array([new Uint8Array([this.version,e]),this.s2k.write()]),null!==this.encrypted&&(t=Y.concatUint8Array([t,this.encrypted]))),t}async decrypt(e){const t=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:r,keySize:n}=ss.getCipher(t),i=await this.s2k.produceKey(e,n);if(5===this.version){const e=ss.getAEADMode(this.aeadAlgorithm),r=new Uint8Array([192|xo.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),n=await e(t,i);this.sessionKey=await n.decrypt(this.encrypted,this.iv,r)}else if(null!==this.encrypted){const e=await ss.mode.cfb.decrypt(t,i,this.encrypted,new Uint8Array(r));this.sessionKeyAlgorithm=$.write($.symmetric,e[0]),this.sessionKey=e.subarray(1,e.length)}else this.sessionKey=i}async encrypt(e,t=ae){const r=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=r,this.s2k=new So(t),this.s2k.salt=ss.random.getRandomBytes(8);const{blockSize:n,keySize:i}=ss.getCipher(r),s=await this.s2k.produceKey(e,i);if(null===this.sessionKey&&(this.sessionKey=ss.generateSessionKey(this.sessionKeyAlgorithm)),5===this.version){const e=ss.getAEADMode(this.aeadAlgorithm);this.iv=ss.random.getRandomBytes(e.ivLength);const t=new Uint8Array([192|xo.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),n=await e(r,s);this.encrypted=await n.encrypt(this.sessionKey,this.iv,t)}else{const e=Y.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await ss.mode.cfb.encrypt(r,s,e,new Uint8Array(n),t)}}}class Co{static get tag(){return $.packet.publicKey}constructor(e=new Date,t=ae){this.version=t.v5Keys?5:4,this.created=Y.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){const t=new Co,{version:r,created:n,algorithm:i,publicParams:s,keyID:a,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=s,t.keyID=a,t.fingerprint=o,t}async read(e){let t=0;if(this.version=e[t++],4===this.version||5===this.version){this.created=Y.readDate(e.subarray(t,t+4)),t+=4,this.algorithm=e[t++],5===this.version&&(t+=4);const{read:r,publicParams:n}=ss.parsePublicKeyParams(this.algorithm,e.subarray(t));return this.publicParams=n,t+=r,await this.computeFingerprintAndKeyID(),t}throw new ii(`Version ${this.version} of the key packet is unsupported.`)}write(){const e=[];e.push(new Uint8Array([this.version])),e.push(Y.writeDate(this.created)),e.push(new Uint8Array([this.algorithm]));const t=ss.serializeParams(this.algorithm,this.publicParams);return 5===this.version&&e.push(Y.writeNumber(t.length,4)),e.push(t),Y.concatUint8Array(e)}writeForHash(e){const t=this.writePublicKey();return 5===e?Y.concatUint8Array([new Uint8Array([154]),Y.writeNumber(t.length,4),t]):Y.concatUint8Array([new Uint8Array([153]),Y.writeNumber(t.length,2),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new ge,5===this.version)this.keyID.read(this.fingerprint.subarray(0,8));else{if(4!==this.version)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const e=this.writeForHash(this.version);if(5===this.version)this.fingerprint=await ss.hash.sha256(e);else{if(4!==this.version)throw Error("Unsupported key version");this.fingerprint=await ss.hash.sha1(e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return Y.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&Y.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){const e={};e.algorithm=$.read($.publicKey,this.algorithm);const t=this.publicParams.n||this.publicParams.p;return t?e.bits=Y.uint8ArrayBitLength(t):this.publicParams.oid&&(e.curve=this.publicParams.oid.getName()),e}}Co.prototype.readPublicKey=Co.prototype.read,Co.prototype.writePublicKey=Co.prototype.write;const Bo=Y.constructAllowedPackets([ro,ho,oo,so]);class Oo{static get tag(){return $.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,t,r=ae){if(!r.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const{blockSize:n}=ss.getCipher(e),i=await G(L(this.encrypted)),s=await ss.mode.cfb.decrypt(e,t,i.subarray(n+2),i.subarray(2,n+2));this.packets=await uo.fromBinary(s,Bo,r)}async encrypt(e,t,r=ae){const n=this.packets.write(),{blockSize:i}=ss.getCipher(e),s=await ss.getPrefixRandom(e),a=await ss.mode.cfb.encrypt(e,t,s,new Uint8Array(i),r),o=await ss.mode.cfb.encrypt(e,t,n,a.subarray(2),r);this.encrypted=Y.concat([a,o])}}class Ro{static get tag(){return $.packet.marker}read(e){return 80===e[0]&&71===e[1]&&80===e[2]}write(){return new Uint8Array([80,71,80])}}class Io extends Co{static get tag(){return $.packet.publicSubkey}constructor(e,t){super(e,t)}static fromSecretSubkeyPacket(e){const t=new Io,{version:r,created:n,algorithm:i,publicParams:s,keyID:a,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=s,t.keyID=a,t.fingerprint=o,t}}class To{static get tag(){return $.packet.userAttribute}constructor(){this.attributes=[]}read(e){let t=0;for(;t<e.length;){const r=Zn(e.subarray(t,e.length));t+=r.offset,this.attributes.push(Y.uint8ArrayToString(e.subarray(t,t+r.len))),t+=r.len}}write(){const e=[];for(let t=0;t<this.attributes.length;t++)e.push(Yn(this.attributes[t].length)),e.push(Y.stringToUint8Array(this.attributes[t]));return Y.concatUint8Array(e)}equals(e){return!!(e&&e instanceof To)&&this.attributes.every((function(t,r){return t===e.attributes[r]}))}}class Mo extends Co{static get tag(){return $.packet.secretKey}constructor(e=new Date,t=ae){super(e,t),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}async read(e){let t=await this.readPublicKey(e);const r=t;this.s2kUsage=e[t++],5===this.version&&t++;try{if(255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){if(this.symmetric=e[t++],253===this.s2kUsage&&(this.aead=e[t++]),this.s2k=new So,t+=this.s2k.read(e.subarray(t,e.length)),"gnu-dummy"===this.s2k.type)return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);this.s2kUsage&&(this.iv=e.subarray(t,t+ss.getCipher(this.symmetric).blockSize),t+=this.iv.length)}catch(t){if(!this.s2kUsage)throw t;this.unparseableKeyMaterial=e.subarray(r),this.isEncrypted=!0}if(5===this.version&&(t+=4),this.keyMaterial=e.subarray(t),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){const t=this.keyMaterial.subarray(0,-2);if(!Y.equalsUint8Array(Y.writeChecksum(t),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const{privateParams:e}=ss.parsePrivateKeyParams(this.algorithm,t,this.publicParams);this.privateParams=e}catch(e){if(e instanceof ii)throw e;throw Error("Error reading MPIs")}}}write(){const e=this.writePublicKey();if(this.unparseableKeyMaterial)return Y.concatUint8Array([e,this.unparseableKeyMaterial]);const t=[e];t.push(new Uint8Array([this.s2kUsage]));const r=[];return 255!==this.s2kUsage&&254!==this.s2kUsage&&253!==this.s2kUsage||(r.push(this.symmetric),253===this.s2kUsage&&r.push(this.aead),r.push(...this.s2k.write())),this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&r.push(...this.iv),5===this.version&&t.push(new Uint8Array([r.length])),t.push(new Uint8Array(r)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=ss.serializeParams(this.algorithm,this.privateParams)),5===this.version&&t.push(Y.writeNumber(this.keyMaterial.length,4)),t.push(this.keyMaterial),this.s2kUsage||t.push(Y.writeChecksum(this.keyMaterial))),Y.concatUint8Array(t)}isDecrypted(){return!1===this.isEncrypted}isMissingSecretKeyMaterial(){return void 0!==this.unparseableKeyMaterial||this.isDummy()}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(e=ae){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),delete this.unparseableKeyMaterial,this.isEncrypted=null,this.keyMaterial=null,this.s2k=new So(e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=$.symmetric.aes256)}async encrypt(e,t=ae){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!e)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=new So(t),this.s2k.salt=ss.random.getRandomBytes(8);const r=ss.serializeParams(this.algorithm,this.privateParams);this.symmetric=$.symmetric.aes256;const n=await No(this.s2k,e,this.symmetric),{blockSize:i}=ss.getCipher(this.symmetric);if(this.iv=ss.random.getRandomBytes(i),t.aeadProtect){this.s2kUsage=253,this.aead=$.aead.eax;const e=ss.getAEADMode(this.aead),t=await e(this.symmetric,n);this.keyMaterial=await t.encrypt(r,this.iv.subarray(0,e.ivLength),new Uint8Array)}else this.s2kUsage=254,this.keyMaterial=await ss.mode.cfb.encrypt(this.symmetric,n,Y.concatUint8Array([r,await ss.hash.sha1(r,t)]),this.iv,t)}async decrypt(e){if(this.isDummy())return!1;if(this.unparseableKeyMaterial)throw Error("Key packet cannot be decrypted: unsupported S2K or cipher algo");if(this.isDecrypted())throw Error("Key packet is already decrypted.");let t,r;if(254!==this.s2kUsage&&253!==this.s2kUsage)throw 255===this.s2kUsage?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(t=await No(this.s2k,e,this.symmetric),253===this.s2kUsage){const n=ss.getAEADMode(this.aead),i=await n(this.symmetric,t);try{r=await i.decrypt(this.keyMaterial,this.iv.subarray(0,n.ivLength),new Uint8Array)}catch(e){if("Authentication tag mismatch"===e.message)throw Error("Incorrect key passphrase: "+e.message);throw e}}else{const e=await ss.mode.cfb.decrypt(this.symmetric,t,this.keyMaterial,this.iv);r=e.subarray(0,-20);const n=await ss.hash.sha1(r);if(!Y.equalsUint8Array(n,e.subarray(-20)))throw Error("Incorrect key passphrase")}try{const{privateParams:e}=ss.parsePrivateKeyParams(this.algorithm,r,this.publicParams);this.privateParams=e}catch(e){throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");let e;try{e=await ss.validateParams(this.algorithm,this.publicParams,this.privateParams)}catch(t){e=!1}if(!e)throw Error("Key is invalid")}async generate(e,t){const{privateParams:r,publicParams:n}=await ss.generateParams(this.algorithm,e,t);this.privateParams=r,this.publicParams=n,this.isEncrypted=!1}clearPrivateParams(){this.isMissingSecretKeyMaterial()||(Object.keys(this.privateParams).forEach((e=>{this.privateParams[e].fill(0),delete this.privateParams[e]})),this.privateParams=null,this.isEncrypted=!0)}}async function No(e,t,r){const{keySize:n}=ss.getCipher(r);return e.produceKey(t,n)}var Do=it((function(e){!function(){function t(e){function t(){return _e<Pe}function n(){return _e}function i(e){_e=e}function s(){_e=0,Pe=ke.length}function a(e,t){return{name:e,tokens:t||"",semantic:t||"",children:[]}}function o(e,t){var r;return null===t?null:((r=a(e)).tokens=t.tokens,r.semantic=t.semantic,r.children.push(t),r)}function c(e,t){return null!==t&&(e.tokens+=t.tokens,e.semantic+=t.semantic),e.children.push(t),e}function u(e){var r;return t()&&e(r=ke[_e])?(_e+=1,a("token",r)):null}function l(e){return function(){return o("literal",u((function(t){return t===e})))}}function d(){var e=arguments;return function(){var t,r,s,o;for(o=n(),r=a("and"),t=0;t<e.length;t+=1){if(null===(s=e[t]()))return i(o),null;c(r,s)}return r}}function h(){var e=arguments;return function(){var t,r,s;for(s=n(),t=0;t<e.length;t+=1){if(null!==(r=e[t]()))return r;i(s)}return null}}function f(e){return function(){var t,r;return r=n(),null!==(t=e())?t:(i(r),a("opt"))}}function p(e){return function(){var t=e();return null!==t&&(t.semantic=""),t}}function y(e){return function(){var t=e();return null!==t&&t.semantic.length>0&&(t.semantic=" "),t}}function g(e,t){return function(){var r,s,o,u,l;for(u=n(),r=a("star"),o=0,l=void 0===t?0:t;null!==(s=e());)o+=1,c(r,s);return o>=l?r:(i(u),null)}}function m(e){return e.charCodeAt(0)>=128}function b(){return o("cr",l("\r")())}function w(){return o("crlf",d(b,k)())}function v(){return o("dquote",l('"')())}function A(){return o("htab",l("\t")())}function k(){return o("lf",l("\n")())}function _(){return o("sp",l(" ")())}function P(){return o("vchar",u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=126;return e.rfc6532&&(n=n||m(t)),n})))}function E(){return o("wsp",h(_,A)())}function S(){var e=o("quoted-pair",h(d(l("\\"),h(P,E)),ne)());return null===e?null:(e.semantic=e.semantic[1],e)}function x(){return o("fws",h(se,d(f(d(g(E),p(w))),g(E,1)))())}function C(){return o("ctext",h((function(){return u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=39||42<=r&&r<=91||93<=r&&r<=126;return e.rfc6532&&(n=n||m(t)),n}))}),te)())}function B(){return o("ccontent",h(C,S,O)())}function O(){return o("comment",d(l("("),g(d(f(x),B)),f(x),l(")"))())}function R(){return o("cfws",h(d(g(d(f(x),O),1),f(x)),x)())}function I(){return o("atext",u((function(t){var r="a"<=t&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(t)>=0;return e.rfc6532&&(r=r||m(t)),r})))}function T(){return o("atom",d(y(f(R)),g(I,1),y(f(R)))())}function M(){var e,t;return null===(e=o("dot-atom-text",g(I,1)()))||null!==(t=g(d(l("."),g(I,1)))())&&c(e,t),e}function N(){return o("dot-atom",d(p(f(R)),M,p(f(R)))())}function D(){return o("qtext",h((function(){return u((function(t){var r=t.charCodeAt(0),n=33===r||35<=r&&r<=91||93<=r&&r<=126;return e.rfc6532&&(n=n||m(t)),n}))}),re)())}function U(){return o("qcontent",h(D,S)())}function j(){return o("quoted-string",d(p(f(R)),p(v),g(d(f(y(x)),U)),f(p(x)),p(v),p(f(R)))())}function F(){return o("word",h(T,j)())}function K(){return o("address",h(L,H)())}function L(){return o("mailbox",h(z,X)())}function z(){return o("name-addr",d(f(G),q)())}function q(){return o("angle-addr",h(d(p(f(R)),l("<"),X,l(">"),p(f(R))),ae)())}function H(){return o("group",d(G,l(":"),f(J),l(";"),p(f(R)))())}function G(){return o("display-name",(null!==(e=o("phrase",h(ie,g(F,1))()))&&(e.semantic=function(e){return e.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}(e.semantic)),e));var e}function W(){return o("mailbox-list",h(d(L,g(d(l(","),L))),ue)())}function V(){return o("address-list",h(d(K,g(d(l(","),K))),le)())}function J(){return o("group-list",h(W,p(R),de)())}function Q(){return o("local-part",h(he,N,j)())}function $(){return o("dtext",h((function(){return u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=90||94<=r&&r<=126;return e.rfc6532&&(n=n||m(t)),n}))}),pe)())}function Z(){return o("domain-literal",d(p(f(R)),l("["),g(d(f(x),$)),f(x),l("]"),p(f(R)))())}function Y(){return o("domain",(t=h(fe,N,Z)(),e.rejectTLD&&t&&t.semantic&&t.semantic.indexOf(".")<0?null:(t&&(t.semantic=t.semantic.replace(/\s+/g,"")),t)));var t}function X(){return o("addr-spec",d(Q,l("@"),Y)())}function ee(){return e.strict?null:o("obs-NO-WS-CTL",u((function(e){var t=e.charCodeAt(0);return 1<=t&&t<=8||11===t||12===t||14<=t&&t<=31||127===t})))}function te(){return e.strict?null:o("obs-ctext",ee())}function re(){return e.strict?null:o("obs-qtext",ee())}function ne(){return e.strict?null:o("obs-qp",d(l("\\"),h(l("\0"),ee,k,b))())}function ie(){return e.strict?null:e.atInDisplayName?o("obs-phrase",d(F,g(h(F,l("."),l("@"),y(R))))()):o("obs-phrase",d(F,g(h(F,l("."),y(R))))())}function se(){return e.strict?null:o("obs-FWS",g(d(p(f(w)),E),1)())}function ae(){return e.strict?null:o("obs-angle-addr",d(p(f(R)),l("<"),oe,X,l(">"),p(f(R)))())}function oe(){return e.strict?null:o("obs-route",d(ce,l(":"))())}function ce(){return e.strict?null:o("obs-domain-list",d(g(h(p(R),l(","))),l("@"),Y,g(d(l(","),p(f(R)),f(d(l("@"),Y)))))())}function ue(){return e.strict?null:o("obs-mbox-list",d(g(d(p(f(R)),l(","))),L,g(d(l(","),f(d(L,p(R))))))())}function le(){return e.strict?null:o("obs-addr-list",d(g(d(p(f(R)),l(","))),K,g(d(l(","),f(d(K,p(R))))))())}function de(){return e.strict?null:o("obs-group-list",d(g(d(p(f(R)),l(",")),1),p(f(R)))())}function he(){return e.strict?null:o("obs-local-part",d(F,g(d(l("."),F)))())}function fe(){return e.strict?null:o("obs-domain",d(T,g(d(l("."),T)))())}function pe(){return e.strict?null:o("obs-dtext",h(ee,S)())}function ye(e,t){var r,n,i;if(null==t)return null;for(n=[t];n.length>0;){if((i=n.pop()).name===e)return i;for(r=i.children.length-1;r>=0;r-=1)n.push(i.children[r])}return null}function ge(e,t){var r,n,i,s,a;if(null==t)return null;for(n=[t],s=[],a={},r=0;r<e.length;r+=1)a[e[r]]=!0;for(;n.length>0;)if((i=n.pop()).name in a)s.push(i);else for(r=i.children.length-1;r>=0;r-=1)n.push(i.children[r]);return s}function me(t){var r,n,i,s,a;if(null===t)return null;for(r=[],n=ge(["group","mailbox"],t),i=0;i<n.length;i+=1)"group"===(s=n[i]).name?r.push(be(s)):"mailbox"===s.name&&r.push(we(s));return a={ast:t,addresses:r},e.simple&&(a=function(e){var t;if(e&&e.addresses)for(t=0;t<e.addresses.length;t+=1)delete e.addresses[t].node;return e}(a)),e.oneResult?function(t){return t?!e.partial&&t.addresses.length>1?null:t.addresses&&t.addresses[0]:null}(a):e.simple?a&&a.addresses:a}function be(e){var t,r=ye("display-name",e),n=[],i=ge(["mailbox"],e);for(t=0;t<i.length;t+=1)n.push(we(i[t]));return{node:e,parts:{name:r},type:e.name,name:ve(r),addresses:n}}function we(e){var t=ye("display-name",e),r=ye("addr-spec",e),n=function(e,t){var r,n,i,s;if(null==t)return null;for(n=[t],s=[];n.length>0;)for("cfws"===(i=n.pop()).name&&s.push(i),r=i.children.length-1;r>=0;r-=1)n.push(i.children[r]);return s}(0,e),i=ge(["comment"],e),s=ye("local-part",r),a=ye("domain",r);return{node:e,parts:{name:t,address:r,local:s,domain:a,comments:n},type:e.name,name:ve(t),address:ve(r),local:ve(s),domain:ve(a),comments:Ae(i),groupName:ve(e.groupName)}}function ve(e){return null!=e?e.semantic:null}function Ae(e){var t="";if(e)for(var r=0;r<e.length;r+=1)t+=ve(e[r]);return t}var ke,_e,Pe,Ee,Se;if(null===(e=r(e,{})))return null;if(ke=e.input,Se={address:K,"address-list":V,"angle-addr":q,from:function(){return o("from",h(W,V)())},group:H,mailbox:L,"mailbox-list":W,"reply-to":function(){return o("reply-to",V())},sender:function(){return o("sender",h(L,K)())}}[e.startAt]||V,!e.strict){if(s(),e.strict=!0,Ee=Se(ke),e.partial||!t())return me(Ee);e.strict=!1}return s(),Ee=Se(ke),!e.partial&&t()?null:me(Ee)}function r(e,t){function r(e){return"[object String]"===Object.prototype.toString.call(e)}function n(e){return null==e}var i,s;if(r(e))e={input:e};else if(!function(e){return e===Object(e)}(e))return null;if(!r(e.input))return null;if(!t)return null;for(s in i={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})n(e[s])&&(e[s]=n(t[s])?i[s]:t[s]);return e}t.parseOneAddress=function(e){return t(r(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},t.parseAddressList=function(e){return t(r(e,{rfc6532:!0,simple:!0,startAt:"address-list"}))},t.parseFrom=function(e){return t(r(e,{rfc6532:!0,simple:!0,startAt:"from"}))},t.parseSender=function(e){return t(r(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},t.parseReplyTo=function(e){return t(r(e,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},e.exports=t}()}));class Uo{static get tag(){return $.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(Y.isString(e)||e.name&&!Y.isString(e.name)||e.email&&!Y.isEmailAddress(e.email)||e.comment&&!Y.isString(e.comment))throw Error("Invalid user ID format");const t=new Uo;Object.assign(t,e);const r=[];return t.name&&r.push(t.name),t.comment&&r.push(`(${t.comment})`),t.email&&r.push(`<${t.email}>`),t.userID=r.join(" "),t}read(e,t=ae){const r=Y.decodeUTF8(e);if(r.length>t.maxUserIDLength)throw Error("User ID string is too long");try{const{name:e,address:t,comments:n}=Do.parseOneAddress({input:r,atInDisplayName:!0});this.comment=n.replace(/^\(|\)$/g,""),this.name=e,this.email=t}catch(e){}this.userID=r}write(){return Y.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class jo extends Mo{static get tag(){return $.packet.secretSubkey}constructor(e=new Date,t=ae){super(e,t)}}class Fo{static get tag(){return $.packet.trust}read(){throw new ii("Trust packets are not supported")}write(){throw new ii("Trust packets are not supported")}}const Ko=Y.constructAllowedPackets([so]);class Lo{constructor(e){this.packets=e||new uo}write(){return this.packets.write()}armor(e=ae){return ye($.armor.signature,this.write(),void 0,void 0,void 0,e)}getSigningKeyIDs(){return this.packets.map((e=>e.issuerKeyID))}}async function zo({armoredSignature:e,binarySignature:t,config:r,...n}){r={...ae,...r};let i=e||t;if(!i)throw Error("readSignature: must pass options object containing `armoredSignature` or `binarySignature`");if(e&&!Y.isString(e))throw Error("readSignature: options.armoredSignature must be a string");if(t&&!Y.isUint8Array(t))throw Error("readSignature: options.binarySignature must be a Uint8Array");const s=Object.keys(n);if(s.length>0)throw Error("Unknown option: "+s.join(", "));if(e){const{type:e,data:t}=await pe(i,r);if(e!==$.armor.signature)throw Error("Armored text not of type signature");i=t}const a=await uo.fromBinary(i,Ko,r);return new Lo(a)}async function qo(e,t){const r=new jo(e.date,t);return r.packets=null,r.algorithm=$.write($.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve),await r.computeFingerprintAndKeyID(),r}async function Ho(e,t){const r=new Mo(e.date,t);return r.packets=null,r.algorithm=$.write($.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve,e.config),await r.computeFingerprintAndKeyID(),r}async function Go(e,t,r,n,i=new Date,s){let a,o;for(let c=e.length-1;c>=0;c--)try{(!a||e[c].created>=a.created)&&(await e[c].verify(t,r,n,i,void 0,s),a=e[c])}catch(e){o=e}if(!a)throw Y.wrapError(`Could not find valid ${$.read($.signature,r)} signature in key ${t.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,((e,t,r)=>t+" "+r.toLowerCase())),o);return a}function Wo(e,t,r=new Date){const n=Y.normalizeDate(r);if(null!==n){const r=Xo(e,t);return!(e.created<=n&&n<r)}return!1}async function Vo(e,t,r,n){const i={};i.key=t,i.bind=e;const s={signatureType:$.signature.subkeyBinding};return r.sign?(s.keyFlags=[$.keyFlags.signData],s.embeddedSignature=await $o(i,null,e,{signatureType:$.signature.keyBinding},r.date,void 0,void 0,void 0,n)):s.keyFlags=[$.keyFlags.encryptCommunication|$.keyFlags.encryptStorage],r.keyExpirationTime>0&&(s.keyExpirationTime=r.keyExpirationTime,s.keyNeverExpires=!1),await $o(i,null,t,s,r.date,void 0,void 0,void 0,n)}async function Jo(e,t,r=new Date,n={},i){let s=i.preferredHashAlgorithm,a=s;if(e){const t=await e.getPrimaryUser(r,n,i);t.selfCertification.preferredHashAlgorithms&&([a]=t.selfCertification.preferredHashAlgorithms,s=ss.hash.getHashByteLength(s)<=ss.hash.getHashByteLength(a)?a:s)}switch(t.algorithm){case $.publicKey.ecdsa:case $.publicKey.eddsaLegacy:case $.publicKey.ed25519:a=ss.getPreferredCurveHashAlgo(t.algorithm,t.publicParams.oid)}return ss.hash.getHashByteLength(s)<=ss.hash.getHashByteLength(a)?a:s}async function Qo(e,t=[],r=new Date,n=[],i=ae){const s={symmetric:$.symmetric.aes128,aead:$.aead.eax,compression:$.compression.uncompressed}[e],a={symmetric:i.preferredSymmetricAlgorithm,aead:i.preferredAEADAlgorithm,compression:i.preferredCompressionAlgorithm}[e],o={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[e],c=await Promise.all(t.map((async function(e,t){const s=(await e.getPrimaryUser(r,n[t],i)).selfCertification[o];return!!s&&s.indexOf(a)>=0})));return c.every(Boolean)?a:s}async function $o(e,t,r,n,i,s,a=[],o=!1,c){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Signing key is not decrypted.");const u=new so;return Object.assign(u,n),u.publicKeyAlgorithm=r.algorithm,u.hashAlgorithm=await Jo(t,r,i,s,c),u.rawNotations=a,await u.sign(r,e,i,o),u}async function Zo(e,t,r,n=new Date,i){(e=e[r])&&(t[r].length?await Promise.all(e.map((async function(e){e.isExpired(n)||i&&!await i(e)||t[r].some((function(t){return Y.equalsUint8Array(t.writeParams(),e.writeParams())}))||t[r].push(e)}))):t[r]=e)}async function Yo(e,t,r,n,i,s,a=new Date,o){s=s||e;const c=[];return await Promise.all(n.map((async function(e){try{i&&!e.issuerKeyID.equals(i.issuerKeyID)||(await e.verify(s,t,r,o.revocationsExpire?a:null,!1,o),c.push(e.issuerKeyID))}catch(e){}}))),i?(i.revoked=!!c.some((e=>e.equals(i.issuerKeyID)))||i.revoked||!1,i.revoked):c.length>0}function Xo(e,t){let r;return!1===t.keyNeverExpires&&(r=e.created.getTime()+1e3*t.keyExpirationTime),r?new Date(r):1/0}function ec(e,t={}){switch(e.type=e.type||t.type,e.curve=e.curve||t.curve,e.rsaBits=e.rsaBits||t.rsaBits,e.keyExpirationTime=void 0!==e.keyExpirationTime?e.keyExpirationTime:t.keyExpirationTime,e.passphrase=Y.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e.sign=e.sign||!1,e.type){case"ecc":try{e.curve=$.write($.curve,e.curve)}catch(e){throw Error("Unknown curve")}e.curve!==$.curve.ed25519Legacy&&e.curve!==$.curve.curve25519Legacy||(e.curve=e.sign?$.curve.ed25519Legacy:$.curve.curve25519Legacy),e.sign?e.algorithm=e.curve===$.curve.ed25519Legacy?$.publicKey.eddsaLegacy:$.publicKey.ecdsa:e.algorithm=$.publicKey.ecdh;break;case"rsa":e.algorithm=$.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+e.type)}return e}function tc(e,t){const r=e.algorithm;return!(r===$.publicKey.rsaEncrypt||r===$.publicKey.elgamal||r===$.publicKey.ecdh||r===$.publicKey.x25519||t.keyFlags&&!(t.keyFlags[0]&$.keyFlags.signData))}function rc(e,t){const r=e.algorithm;return!(r===$.publicKey.dsa||r===$.publicKey.rsaSign||r===$.publicKey.ecdsa||r===$.publicKey.eddsaLegacy||r===$.publicKey.ed25519||t.keyFlags&&!(t.keyFlags[0]&$.keyFlags.encryptCommunication)&&!(t.keyFlags[0]&$.keyFlags.encryptStorage))}function nc(e,t){return!(!t.allowInsecureDecryptionWithSigningKeys&&e.keyFlags&&!(e.keyFlags[0]&$.keyFlags.encryptCommunication)&&!(e.keyFlags[0]&$.keyFlags.encryptStorage))}function ic(e,t){const r=$.write($.publicKey,e.algorithm),n=e.getAlgorithmInfo();if(t.rejectPublicKeyAlgorithms.has(r))throw Error(n.algorithm+" keys are considered too weak.");switch(r){case $.publicKey.rsaEncryptSign:case $.publicKey.rsaSign:case $.publicKey.rsaEncrypt:if(n.bits<t.minRSABits)throw Error(`RSA keys shorter than ${t.minRSABits} bits are considered too weak.`);break;case $.publicKey.ecdsa:case $.publicKey.eddsaLegacy:case $.publicKey.ecdh:if(t.rejectCurves.has(n.curve))throw Error(`Support for ${n.algorithm} keys using curve ${n.curve} is disabled.`)}}class sc{constructor(e,t){this.userID=e.constructor.tag===$.packet.userID?e:null,this.userAttribute=e.constructor.tag===$.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new uo;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){const e=new sc(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}async certify(e,t,r){const n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n},s=new sc(i.userID||i.userAttribute,this.mainKey);return s.otherCertifications=await Promise.all(e.map((async function(e){if(!e.isPrivate())throw Error("Need private key for signing");if(e.hasSameFingerprintAs(n))throw Error("The user's own key can only be used for self-certifications");const s=await e.getSigningKey(void 0,t,void 0,r);return $o(i,e,s.keyPacket,{signatureType:$.signature.certGeneric,keyFlags:[$.keyFlags.certifyKeys|$.keyFlags.signData]},t,void 0,void 0,void 0,r)}))),await s.update(this,t,r),s}async isRevoked(e,t,r=new Date,n=ae){const i=this.mainKey.keyPacket;return Yo(i,$.signature.certRevocation,{key:i,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,e,t,r,n)}async verifyCertificate(e,t,r=new Date,n){const i=this,s=this.mainKey.keyPacket,a={userID:this.userID,userAttribute:this.userAttribute,key:s},{issuerKeyID:o}=e,c=t.filter((e=>e.getKeys(o).length>0));return 0===c.length?null:(await Promise.all(c.map((async t=>{const s=await t.getSigningKey(o,e.created,void 0,n);if(e.revoked||await i.isRevoked(e,s.keyPacket,r,n))throw Error("User certificate is revoked");try{await e.verify(s.keyPacket,$.signature.certGeneric,a,r,void 0,n)}catch(e){throw Y.wrapError("User certificate is invalid",e)}}))),!0)}async verifyAllCertifications(e,t=new Date,r){const n=this,i=this.selfCertifications.concat(this.otherCertifications);return Promise.all(i.map((async i=>({keyID:i.issuerKeyID,valid:await n.verifyCertificate(i,e,t,r).catch((()=>!1))}))))}async verify(e=new Date,t){if(!this.selfCertifications.length)throw Error("No self-certifications found");const r=this,n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n};let s;for(let a=this.selfCertifications.length-1;a>=0;a--)try{const s=this.selfCertifications[a];if(s.revoked||await r.isRevoked(s,void 0,e,t))throw Error("Self-certification is revoked");try{await s.verify(n,$.signature.certGeneric,i,e,void 0,t)}catch(e){throw Y.wrapError("Self-certification is invalid",e)}return!0}catch(e){s=e}throw s}async update(e,t,r){const n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n};await Zo(e,this,"selfCertifications",t,(async function(e){try{return await e.verify(n,$.signature.certGeneric,i,t,!1,r),!0}catch(e){return!1}})),await Zo(e,this,"otherCertifications",t),await Zo(e,this,"revocationSignatures",t,(function(e){return Yo(n,$.signature.certRevocation,i,[e],void 0,void 0,t,r)}))}async revoke(e,{flag:t=$.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=ae){const s={userID:this.userID,userAttribute:this.userAttribute,key:e},a=new sc(s.userID||s.userAttribute,this.mainKey);return a.revocationSignatures.push(await $o(s,null,e,{signatureType:$.signature.certRevocation,reasonForRevocationFlag:$.write($.reasonForRevocation,t),reasonForRevocationString:r},n,void 0,void 0,!1,i)),await a.update(this),a}}class ac{constructor(e,t){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new uo;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){const e=new ac(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}async isRevoked(e,t,r=new Date,n=ae){const i=this.mainKey.keyPacket;return Yo(i,$.signature.subkeyRevocation,{key:i,bind:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verify(e=new Date,t=ae){const r=this.mainKey.keyPacket,n={key:r,bind:this.keyPacket},i=await Go(this.bindingSignatures,r,$.signature.subkeyBinding,n,e,t);if(i.revoked||await this.isRevoked(i,null,e,t))throw Error("Subkey is revoked");if(Wo(this.keyPacket,i,e))throw Error("Subkey is expired");return i}async getExpirationTime(e=new Date,t=ae){const r=this.mainKey.keyPacket,n={key:r,bind:this.keyPacket};let i;try{i=await Go(this.bindingSignatures,r,$.signature.subkeyBinding,n,e,t)}catch(e){return null}const s=Xo(this.keyPacket,i),a=i.getExpirationTime();return s<a?s:a}async update(e,t=new Date,r=ae){const n=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(e))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===$.packet.publicSubkey&&e.keyPacket.constructor.tag===$.packet.secretSubkey&&(this.keyPacket=e.keyPacket);const i=this,s={key:n,bind:i.keyPacket};await Zo(e,this,"bindingSignatures",t,(async function(e){for(let t=0;t<i.bindingSignatures.length;t++)if(i.bindingSignatures[t].issuerKeyID.equals(e.issuerKeyID))return e.created>i.bindingSignatures[t].created&&(i.bindingSignatures[t]=e),!1;try{return await e.verify(n,$.signature.subkeyBinding,s,t,void 0,r),!0}catch(e){return!1}})),await Zo(e,this,"revocationSignatures",t,(function(e){return Yo(n,$.signature.subkeyRevocation,s,[e],void 0,void 0,t,r)}))}async revoke(e,{flag:t=$.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=ae){const s={key:e,bind:this.keyPacket},a=new ac(this.keyPacket,this.mainKey);return a.revocationSignatures.push(await $o(s,null,e,{signatureType:$.signature.subkeyRevocation,reasonForRevocationFlag:$.write($.reasonForRevocation,t),reasonForRevocationString:r},n,void 0,void 0,!1,i)),await a.update(this),a}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach((e=>{ac.prototype[e]=function(){return this.keyPacket[e]()}}));const oc=Y.constructAllowedPackets([so]),cc=new Set([$.packet.publicKey,$.packet.privateKey]),uc=new Set([$.packet.publicKey,$.packet.privateKey,$.packet.publicSubkey,$.packet.privateSubkey]);class lc{packetListToStructure(e,t=new Set){let r,n,i,s;for(const a of e){if(a instanceof si){uc.has(a.tag)&&!s&&(s=cc.has(a.tag)?cc:uc);continue}const e=a.constructor.tag;if(s){if(!s.has(e))continue;s=null}if(t.has(e))throw Error("Unexpected packet type: "+e);switch(e){case $.packet.publicKey:case $.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=a,n=this.getKeyID(),!n)throw Error("Missing Key ID");break;case $.packet.userID:case $.packet.userAttribute:r=new sc(a,this),this.users.push(r);break;case $.packet.publicSubkey:case $.packet.secretSubkey:r=null,i=new ac(a,this),this.subkeys.push(i);break;case $.packet.signature:switch(a.signatureType){case $.signature.certGeneric:case $.signature.certPersona:case $.signature.certCasual:case $.signature.certPositive:if(!r){Y.printDebug("Dropping certification signatures without preceding user packet");continue}a.issuerKeyID.equals(n)?r.selfCertifications.push(a):r.otherCertifications.push(a);break;case $.signature.certRevocation:r?r.revocationSignatures.push(a):this.directSignatures.push(a);break;case $.signature.key:this.directSignatures.push(a);break;case $.signature.subkeyBinding:if(!i){Y.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}i.bindingSignatures.push(a);break;case $.signature.keyRevocation:this.revocationSignatures.push(a);break;case $.signature.subkeyRevocation:if(!i){Y.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}i.revocationSignatures.push(a)}}}}toPacketList(){const e=new uo;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map((t=>e.push(...t.toPacketList()))),this.subkeys.map((t=>e.push(...t.toPacketList()))),e}clone(e=!1){const t=new this.constructor(this.toPacketList());return e&&t.getKeys().forEach((e=>{if(e.keyPacket=Object.create(Object.getPrototypeOf(e.keyPacket),Object.getOwnPropertyDescriptors(e.keyPacket)),!e.keyPacket.isDecrypted())return;const t={};Object.keys(e.keyPacket.privateParams).forEach((r=>{t[r]=new Uint8Array(e.keyPacket.privateParams[r])})),e.keyPacket.privateParams=t})),t}getSubkeys(e=null){return this.subkeys.filter((t=>!e||t.getKeyID().equals(e,!0)))}getKeys(e=null){const t=[];return e&&!this.getKeyID().equals(e,!0)||t.push(this),t.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map((e=>e.getKeyID()))}getUserIDs(){return this.users.map((e=>e.userID?e.userID.userID:null)).filter((e=>null!==e))}write(){return this.toPacketList().write()}async getSigningKey(e=null,t=new Date,r={},n=ae){await this.verifyPrimaryKey(t,r,n);const i=this.keyPacket,s=this.subkeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let a;for(const r of s)if(!e||r.getKeyID().equals(e))try{await r.verify(t,n);const e={key:i,bind:r.keyPacket},s=await Go(r.bindingSignatures,i,$.signature.subkeyBinding,e,t,n);if(!tc(r.keyPacket,s))continue;if(!s.embeddedSignature)throw Error("Missing embedded signature");return await Go([s.embeddedSignature],r.keyPacket,$.signature.keyBinding,e,t,n),ic(r.keyPacket,n),r}catch(e){a=e}try{const s=await this.getPrimaryUser(t,r,n);if((!e||i.getKeyID().equals(e))&&tc(i,s.selfCertification))return ic(i,n),this}catch(e){a=e}throw Y.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),a)}async getEncryptionKey(e,t=new Date,r={},n=ae){await this.verifyPrimaryKey(t,r,n);const i=this.keyPacket,s=this.subkeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let a;for(const r of s)if(!e||r.getKeyID().equals(e))try{await r.verify(t,n);const e={key:i,bind:r.keyPacket},s=await Go(r.bindingSignatures,i,$.signature.subkeyBinding,e,t,n);if(rc(r.keyPacket,s))return ic(r.keyPacket,n),r}catch(e){a=e}try{const s=await this.getPrimaryUser(t,r,n);if((!e||i.getKeyID().equals(e))&&rc(i,s.selfCertification))return ic(i,n),this}catch(e){a=e}throw Y.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),a)}async isRevoked(e,t,r=new Date,n=ae){return Yo(this.keyPacket,$.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verifyPrimaryKey(e=new Date,t={},r=ae){const n=this.keyPacket;if(await this.isRevoked(null,null,e,r))throw Error("Primary key is revoked");const{selfCertification:i}=await this.getPrimaryUser(e,t,r);if(Wo(n,i,e))throw Error("Primary key is expired");const s=await Go(this.directSignatures,n,$.signature.key,{key:n},e,r).catch((()=>{}));if(s&&Wo(n,s,e))throw Error("Primary key is expired")}async getExpirationTime(e,t=ae){let r;try{const{selfCertification:n}=await this.getPrimaryUser(null,e,t),i=Xo(this.keyPacket,n),s=n.getExpirationTime(),a=await Go(this.directSignatures,this.keyPacket,$.signature.key,{key:this.keyPacket},null,t).catch((()=>{}));if(a){const e=Xo(this.keyPacket,a);r=Math.min(i,s,e)}else r=i<s?i:s}catch(e){r=null}return Y.normalizeDate(r)}async getPrimaryUser(e=new Date,t={},r=ae){const n=this.keyPacket,i=[];let s;for(let a=0;a<this.users.length;a++)try{const s=this.users[a];if(!s.userID)continue;if(void 0!==t.name&&s.userID.name!==t.name||void 0!==t.email&&s.userID.email!==t.email||void 0!==t.comment&&s.userID.comment!==t.comment)throw Error("Could not find user that matches that user ID");const o={userID:s.userID,key:n},c=await Go(s.selfCertifications,n,$.signature.certGeneric,o,e,r);i.push({index:a,user:s,selfCertification:c})}catch(e){s=e}if(!i.length)throw s||Error("Could not find primary user");await Promise.all(i.map((async function(t){return t.selfCertification.revoked||t.user.isRevoked(t.selfCertification,null,e,r)})));const a=i.sort((function(e,t){const r=e.selfCertification,n=t.selfCertification;return n.revoked-r.revoked||r.isPrimaryUserID-n.isPrimaryUserID||r.created-n.created})).pop(),{user:o,selfCertification:c}=a;if(c.revoked||await o.isRevoked(c,null,e,r))throw Error("Primary user is revoked");return a}async update(e,t=new Date,r=ae){if(!this.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&e.isPrivate()){if(this.subkeys.length!==e.subkeys.length||!this.subkeys.every((t=>e.subkeys.some((e=>t.hasSameFingerprintAs(e))))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,r)}const n=this.clone();return await Zo(e,n,"revocationSignatures",t,(i=>Yo(n.keyPacket,$.signature.keyRevocation,n,[i],null,e.keyPacket,t,r))),await Zo(e,n,"directSignatures",t),await Promise.all(e.users.map((async e=>{const i=n.users.filter((t=>e.userID&&e.userID.equals(t.userID)||e.userAttribute&&e.userAttribute.equals(t.userAttribute)));if(i.length>0)await Promise.all(i.map((n=>n.update(e,t,r))));else{const t=e.clone();t.mainKey=n,n.users.push(t)}}))),await Promise.all(e.subkeys.map((async e=>{const i=n.subkeys.filter((t=>t.hasSameFingerprintAs(e)));if(i.length>0)await Promise.all(i.map((n=>n.update(e,t,r))));else{const t=e.clone();t.mainKey=n,n.subkeys.push(t)}}))),n}async getRevocationCertificate(e=new Date,t=ae){const r={key:this.keyPacket},n=await Go(this.revocationSignatures,this.keyPacket,$.signature.keyRevocation,r,e,t),i=new uo;return i.push(n),ye($.armor.publicKey,i.write(),null,null,"This is a revocation certificate")}async applyRevocationCertificate(e,t=new Date,r=ae){const n=await pe(e,r),i=(await uo.fromBinary(n.data,oc,r)).findPacket($.packet.signature);if(!i||i.signatureType!==$.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!i.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{await i.verify(this.keyPacket,$.signature.keyRevocation,{key:this.keyPacket},t,void 0,r)}catch(e){throw Y.wrapError("Could not verify revocation signature",e)}const s=this.clone();return s.revocationSignatures.push(i),s}async signPrimaryUser(e,t,r,n=ae){const{index:i,user:s}=await this.getPrimaryUser(t,r,n),a=await s.certify(e,t,n),o=this.clone();return o.users[i]=a,o}async signAllUsers(e,t=new Date,r=ae){const n=this.clone();return n.users=await Promise.all(this.users.map((function(n){return n.certify(e,t,r)}))),n}async verifyPrimaryUser(e,t=new Date,r,n=ae){const i=this.keyPacket,{user:s}=await this.getPrimaryUser(t,r,n);return e?await s.verifyAllCertifications(e,t,n):[{keyID:i.getKeyID(),valid:await s.verify(t,n).catch((()=>!1))}]}async verifyAllUsers(e,t=new Date,r=ae){const n=this.keyPacket,i=[];return await Promise.all(this.users.map((async s=>{const a=e?await s.verifyAllCertifications(e,t,r):[{keyID:n.getKeyID(),valid:await s.verify(t,r).catch((()=>!1))}];i.push(...a.map((e=>({userID:s.userID?s.userID.userID:null,userAttribute:s.userAttribute,keyID:e.keyID,valid:e.valid}))))}))),i}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach((e=>{lc.prototype[e]=ac.prototype[e]}));class dc extends lc{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([$.packet.secretKey,$.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(e=ae){return ye($.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e)}}class hc extends dc{constructor(e){if(super(),this.packetListToStructure(e,new Set([$.packet.publicKey,$.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const e=new uo,t=this.toPacketList();for(const r of t)switch(r.constructor.tag){case $.packet.secretKey:{const t=Co.fromSecretKeyPacket(r);e.push(t);break}case $.packet.secretSubkey:{const t=Io.fromSecretSubkeyPacket(r);e.push(t);break}default:e.push(r)}return new dc(e)}armor(e=ae){return ye($.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e)}async getDecryptionKeys(e,t=new Date,r={},n=ae){const i=this.keyPacket,s=[];for(let r=0;r<this.subkeys.length;r++)if(!e||this.subkeys[r].getKeyID().equals(e,!0))try{const e={key:i,bind:this.subkeys[r].keyPacket};nc(await Go(this.subkeys[r].bindingSignatures,i,$.signature.subkeyBinding,e,t,n),n)&&s.push(this.subkeys[r])}catch(e){}const a=await this.getPrimaryUser(t,r,n);return e&&!i.getKeyID().equals(e,!0)||!nc(a.selfCertification,n)||s.push(this),s}isDecrypted(){return this.getKeys().some((({keyPacket:e})=>e.isDecrypted()))}async validate(e=ae){if(!this.isPrivate())throw Error("Cannot validate a public key");let t;if(this.keyPacket.isDummy()){const r=await this.getSigningKey(null,null,void 0,{...e,rejectPublicKeyAlgorithms:new Set,minRSABits:0});r&&!r.keyPacket.isDummy()&&(t=r.keyPacket)}else t=this.keyPacket;if(t)return t.validate();{const e=this.getKeys(),t=e.map((e=>e.keyPacket.isDummy())).every(Boolean);if(t)throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(e.map((async e=>e.keyPacket.validate())))}}clearPrivateParams(){this.getKeys().forEach((({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()}))}async revoke({flag:e=$.reasonForRevocation.noReason,string:t=""}={},r=new Date,n=ae){if(!this.isPrivate())throw Error("Need private key for revoking");const i={key:this.keyPacket},s=this.clone();return s.revocationSignatures.push(await $o(i,null,this.keyPacket,{signatureType:$.signature.keyRevocation,reasonForRevocationFlag:$.write($.reasonForRevocation,e),reasonForRevocationString:t},r,void 0,void 0,void 0,n)),s}async addSubkey(e={}){const t={...ae,...e.config};if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<t.minRSABits)throw Error(`rsaBits should be at least ${t.minRSABits}, got: ${e.rsaBits}`);const r=this.keyPacket;if(r.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!r.isDecrypted())throw Error("Key is not decrypted");const n=r.getAlgorithmInfo();n.type=n.curve?"ecc":"rsa",n.rsaBits=n.bits||4096,n.curve=n.curve||"curve25519",e=ec(e,n);const i=await qo(e);ic(i,t);const s=await Vo(i,r,e,t),a=this.toPacketList();return a.push(i,s),new hc(a)}}const fc=Y.constructAllowedPackets([Co,Io,Mo,jo,Uo,To,so]);function pc(e){for(const t of e)switch(t.constructor.tag){case $.packet.secretKey:return new hc(e);case $.packet.publicKey:return new dc(e)}throw Error("No key packet found")}async function yc(e,t,r,n){r.passphrase&&await e.encrypt(r.passphrase,n),await Promise.all(t.map((async function(e,t){const i=r.subkeys[t].passphrase;i&&await e.encrypt(i,n)})));const i=new uo;i.push(e),await Promise.all(r.userIDs.map((async function(t,i){function s(e,t){return[t,...e.filter((e=>e!==t))]}const a=Uo.fromObject(t),o={};o.userID=a,o.key=e;const c={};return c.signatureType=$.signature.certGeneric,c.keyFlags=[$.keyFlags.certifyKeys|$.keyFlags.signData],c.preferredSymmetricAlgorithms=s([$.symmetric.aes256,$.symmetric.aes128,$.symmetric.aes192],n.preferredSymmetricAlgorithm),n.aeadProtect&&(c.preferredAEADAlgorithms=s([$.aead.eax,$.aead.ocb],n.preferredAEADAlgorithm)),c.preferredHashAlgorithms=s([$.hash.sha256,$.hash.sha512],n.preferredHashAlgorithm),c.preferredCompressionAlgorithms=s([$.compression.zlib,$.compression.zip,$.compression.uncompressed],n.preferredCompressionAlgorithm),0===i&&(c.isPrimaryUserID=!0),c.features=[0],c.features[0]|=$.features.modificationDetection,n.aeadProtect&&(c.features[0]|=$.features.aead),n.v5Keys&&(c.features[0]|=$.features.v5Keys),r.keyExpirationTime>0&&(c.keyExpirationTime=r.keyExpirationTime,c.keyNeverExpires=!1),{userIDPacket:a,signaturePacket:await $o(o,null,e,c,r.date,void 0,void 0,void 0,n)}}))).then((e=>{e.forEach((({userIDPacket:e,signaturePacket:t})=>{i.push(e),i.push(t)}))})),await Promise.all(t.map((async function(t,i){const s=r.subkeys[i];return{secretSubkeyPacket:t,subkeySignaturePacket:await Vo(t,e,s,n)}}))).then((e=>{e.forEach((({secretSubkeyPacket:e,subkeySignaturePacket:t})=>{i.push(e),i.push(t)}))}));const s={key:e};return i.push(await $o(s,null,e,{signatureType:$.signature.keyRevocation,reasonForRevocationFlag:$.reasonForRevocation.noReason,reasonForRevocationString:""},r.date,void 0,void 0,void 0,n)),r.passphrase&&e.clearPrivateParams(),await Promise.all(t.map((async function(e,t){r.subkeys[t].passphrase&&e.clearPrivateParams()}))),new hc(i)}async function gc({armoredKey:e,binaryKey:t,config:r,...n}){if(r={...ae,...r},!e&&!t)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!Y.isString(e))throw Error("readKey: options.armoredKey must be a string");if(t&&!Y.isUint8Array(t))throw Error("readKey: options.binaryKey must be a Uint8Array");const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));let s;if(e){const{type:t,data:n}=await pe(e,r);if(t!==$.armor.publicKey&&t!==$.armor.privateKey)throw Error("Armored text not of type key");s=n}else s=t;return pc(await uo.fromBinary(s,fc,r))}async function mc({armoredKey:e,binaryKey:t,config:r,...n}){if(r={...ae,...r},!e&&!t)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!Y.isString(e))throw Error("readPrivateKey: options.armoredKey must be a string");if(t&&!Y.isUint8Array(t))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));let s;if(e){const{type:t,data:n}=await pe(e,r);if(t!==$.armor.privateKey)throw Error("Armored text not of type private key");s=n}else s=t;const a=await uo.fromBinary(s,fc,r);return new hc(a)}async function bc({armoredKeys:e,binaryKeys:t,config:r,...n}){r={...ae,...r};let i=e||t;if(!i)throw Error("readKeys: must pass options object containing `armoredKeys` or `binaryKeys`");if(e&&!Y.isString(e))throw Error("readKeys: options.armoredKeys must be a string");if(t&&!Y.isUint8Array(t))throw Error("readKeys: options.binaryKeys must be a Uint8Array");const s=Object.keys(n);if(s.length>0)throw Error("Unknown option: "+s.join(", "));if(e){const{type:t,data:n}=await pe(e,r);if(t!==$.armor.publicKey&&t!==$.armor.privateKey)throw Error("Armored text not of type key");i=n}const a=[],o=await uo.fromBinary(i,fc,r),c=o.indexOfTag($.packet.publicKey,$.packet.secretKey);if(0===c.length)throw Error("No key packet found");for(let e=0;e<c.length;e++){const t=pc(o.slice(c[e],c[e+1]));a.push(t)}return a}async function wc({armoredKeys:e,binaryKeys:t,config:r}){r={...ae,...r};let n=e||t;if(!n)throw Error("readPrivateKeys: must pass options object containing `armoredKeys` or `binaryKeys`");if(e&&!Y.isString(e))throw Error("readPrivateKeys: options.armoredKeys must be a string");if(t&&!Y.isUint8Array(t))throw Error("readPrivateKeys: options.binaryKeys must be a Uint8Array");if(e){const{type:t,data:i}=await pe(e,r);if(t!==$.armor.privateKey)throw Error("Armored text not of type private key");n=i}const i=[],s=await uo.fromBinary(n,fc,r),a=s.indexOfTag($.packet.secretKey);if(0===a.length)throw Error("No secret key packet found");for(let e=0;e<a.length;e++){const t=s.slice(a[e],a[e+1]),r=new hc(t);i.push(r)}return i}const vc=Y.constructAllowedPackets([ro,ho,_o,Ao,Oo,Po,xo,oo,so]),Ac=Y.constructAllowedPackets([xo]),kc=Y.constructAllowedPackets([so]);class _c{constructor(e){this.packets=e||new uo}getEncryptionKeyIDs(){const e=[];return this.packets.filterByTag($.packet.publicKeyEncryptedSessionKey).forEach((function(t){e.push(t.publicKeyID)})),e}getSigningKeyIDs(){const e=this.unwrapCompressed(),t=e.packets.filterByTag($.packet.onePassSignature);return t.length>0?t.map((e=>e.issuerKeyID)):e.packets.filterByTag($.packet.signature).map((e=>e.issuerKeyID))}async decrypt(e,t,r,n=new Date,i=ae){const s=r||await this.decryptSessionKeys(e,t,n,i),a=this.packets.filterByTag($.packet.symmetricallyEncryptedData,$.packet.symEncryptedIntegrityProtectedData,$.packet.aeadEncryptedData);if(0===a.length)throw Error("No encrypted data found");const o=a[0];let c=null;const u=Promise.all(s.map((async({algorithm:e,data:t})=>{if(!Y.isUint8Array(t)||!Y.isString(e))throw Error("Invalid session key for decryption.");try{const r=$.write($.symmetric,e);await o.decrypt(r,t,i)}catch(e){Y.printDebugError(e),c=e}})));if(W(o.encrypted),o.encrypted=null,await u,!o.packets||!o.packets.length)throw c||Error("Decryption failed.");const l=new _c(o.packets);return o.packets=new uo,l}async decryptSessionKeys(e,t,r=new Date,n=ae){let i,s=[];if(t){const e=this.packets.filterByTag($.packet.symEncryptedSessionKey);if(0===e.length)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(t.map((async function(t,r){let i;i=r?await uo.fromBinary(e.write(),Ac,n):e,await Promise.all(i.map((async function(e){try{await e.decrypt(t),s.push(e)}catch(e){Y.printDebugError(e)}})))})))}else{if(!e)throw Error("No key or password specified.");{const t=this.packets.filterByTag($.packet.publicKeyEncryptedSessionKey);if(0===t.length)throw Error("No public key encrypted session key packet found.");await Promise.all(t.map((async function(t){await Promise.all(e.map((async function(e){let a=[$.symmetric.aes256,$.symmetric.aes128,$.symmetric.tripledes,$.symmetric.cast5];try{const t=await e.getPrimaryUser(r,void 0,n);t.selfCertification.preferredSymmetricAlgorithms&&(a=a.concat(t.selfCertification.preferredSymmetricAlgorithms))}catch(e){}const o=(await e.getDecryptionKeys(t.publicKeyID,null,void 0,n)).map((e=>e.keyPacket));await Promise.all(o.map((async function(e){if(e&&!e.isDummy()){if(!e.isDecrypted())throw Error("Decryption key is not decrypted.");if(!n.constantTimePKCS1Decryption||t.publicKeyAlgorithm!==$.publicKey.rsaEncrypt&&t.publicKeyAlgorithm!==$.publicKey.rsaEncryptSign&&t.publicKeyAlgorithm!==$.publicKey.rsaSign&&t.publicKeyAlgorithm!==$.publicKey.elgamal)try{if(await t.decrypt(e),!a.includes($.write($.symmetric,t.sessionKeyAlgorithm)))throw Error("A non-preferred symmetric algorithm was used.");s.push(t)}catch(e){Y.printDebugError(e),i=e}else{const r=t.write();await Promise.all(Array.from(n.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms).map((async t=>{const n=new Po;n.read(r);const a={sessionKeyAlgorithm:t,sessionKey:ss.generateSessionKey(t)};try{await n.decrypt(e,a),s.push(n)}catch(e){Y.printDebugError(e),i=e}})))}}})))}))),W(t.encrypted),t.encrypted=null})))}}if(s.length>0){if(s.length>1){const e=new Set;s=s.filter((t=>{const r=t.sessionKeyAlgorithm+Y.uint8ArrayToString(t.sessionKey);return!e.has(r)&&(e.add(r),!0)}))}return s.map((e=>({data:e.sessionKey,algorithm:$.read($.symmetric,e.sessionKeyAlgorithm)})))}throw i||Error("Session key decryption failed.")}getLiteralData(){const e=this.unwrapCompressed().packets.findPacket($.packet.literalData);return e&&e.getBytes()||null}getFilename(){const e=this.unwrapCompressed().packets.findPacket($.packet.literalData);return e&&e.getFilename()||null}getText(){const e=this.unwrapCompressed().packets.findPacket($.packet.literalData);return e?e.getText():null}static async generateSessionKey(e=[],t=new Date,r=[],n=ae){const i=await Qo("symmetric",e,t,r,n),s=$.read($.symmetric,i),a=n.aeadProtect&&await async function(e,t=new Date,r=[],n=ae){let i=!0;return await Promise.all(e.map((async function(e,s){const a=await e.getPrimaryUser(t,r[s],n);a.selfCertification.features&&a.selfCertification.features[0]&$.features.aead||(i=!1)}))),i}(e,t,r,n)?$.read($.aead,await Qo("aead",e,t,r,n)):void 0;return await Promise.all(e.map((e=>e.getEncryptionKey().catch((()=>null)).then((e=>{if(e&&e.keyPacket.algorithm===$.publicKey.x25519&&!Y.isAES(i))throw Error("Could not generate a session key compatible with the given `encryptionKeys`: X22519 keys can only be used to encrypt AES session keys; change `config.preferredSymmetricAlgorithm` accordingly.")}))))),{data:ss.generateSessionKey(i),algorithm:s,aeadAlgorithm:a}}async encrypt(e,t,r,n=!1,i=[],s=new Date,a=[],o=ae){if(r){if(!Y.isUint8Array(r.data)||!Y.isString(r.algorithm))throw Error("Invalid session key for encryption.")}else if(e&&e.length)r=await _c.generateSessionKey(e,s,a,o);else{if(!t||!t.length)throw Error("No keys, passwords, or session key provided.");r=await _c.generateSessionKey(void 0,void 0,void 0,o)}const{data:c,algorithm:u,aeadAlgorithm:l}=r,d=await _c.encryptSessionKey(c,u,l,e,t,n,i,s,a,o);let h;l?(h=new _o,h.aeadAlgorithm=$.write($.aead,l)):h=new Ao,h.packets=this.packets;const f=$.write($.symmetric,u);return await h.encrypt(f,c,o),d.packets.push(h),h.packets=new uo,d}static async encryptSessionKey(e,t,r,n,i,s=!1,a=[],o=new Date,c=[],u=ae){const l=new uo,d=$.write($.symmetric,t),h=r&&$.write($.aead,r);if(n){const t=await Promise.all(n.map((async function(t,r){const n=await t.getEncryptionKey(a[r],o,c,u),i=new Po;return i.publicKeyID=s?ge.wildcard():n.getKeyID(),i.publicKeyAlgorithm=n.keyPacket.algorithm,i.sessionKey=e,i.sessionKeyAlgorithm=d,await i.encrypt(n.keyPacket),delete i.sessionKey,i})));l.push(...t)}if(i){const t=async function(e,t){try{return await e.decrypt(t),1}catch(e){return 0}},r=(e,t)=>e+t,n=async function(e,s,a,o){const c=new xo(u);return c.sessionKey=e,c.sessionKeyAlgorithm=s,a&&(c.aeadAlgorithm=a),await c.encrypt(o,u),u.passwordCollisionCheck&&1!==(await Promise.all(i.map((e=>t(c,e))))).reduce(r)?n(e,s,o):(delete c.sessionKey,c)},s=await Promise.all(i.map((t=>n(e,d,h,t))));l.push(...s)}return new _c(l)}async sign(e=[],t=null,r=[],n=new Date,i=[],s=[],a=ae){const o=new uo,c=this.packets.findPacket($.packet.literalData);if(!c)throw Error("No literal data packet to sign.");let u,l;const d=null===c.text?$.signature.binary:$.signature.text;if(t)for(l=t.packets.filterByTag($.packet.signature),u=l.length-1;u>=0;u--){const t=l[u],r=new oo;r.signatureType=t.signatureType,r.hashAlgorithm=t.hashAlgorithm,r.publicKeyAlgorithm=t.publicKeyAlgorithm,r.issuerKeyID=t.issuerKeyID,e.length||0!==u||(r.flags=1),o.push(r)}return await Promise.all(Array.from(e).reverse().map((async function(t,s){if(!t.isPrivate())throw Error("Need private key for signing");const o=r[e.length-1-s],c=await t.getSigningKey(o,n,i,a),u=new oo;return u.signatureType=d,u.hashAlgorithm=await Jo(t,c.keyPacket,n,i,a),u.publicKeyAlgorithm=c.keyPacket.algorithm,u.issuerKeyID=c.getKeyID(),s===e.length-1&&(u.flags=1),u}))).then((e=>{e.forEach((e=>o.push(e)))})),o.push(c),o.push(...await Pc(c,e,t,r,n,i,s,!1,a)),new _c(o)}compress(e,t=ae){if(e===$.compression.uncompressed)return this;const r=new ho(t);r.algorithm=e,r.packets=this.packets;const n=new uo;return n.push(r),new _c(n)}async signDetached(e=[],t=null,r=[],n=new Date,i=[],s=[],a=ae){const o=this.packets.findPacket($.packet.literalData);if(!o)throw Error("No literal data packet to sign.");return new Lo(await Pc(o,e,t,r,n,i,s,!0,a))}async verify(e,t=new Date,r=ae){const n=this.unwrapCompressed(),i=n.packets.filterByTag($.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");u(n.packets.stream)&&n.packets.push(...await G(n.packets.stream,(e=>e||[])));const s=n.packets.filterByTag($.packet.onePassSignature).reverse(),a=n.packets.filterByTag($.packet.signature);return s.length&&!a.length&&Y.isStream(n.packets.stream)&&!u(n.packets.stream)?(await Promise.all(s.map((async e=>{e.correspondingSig=new Promise(((t,r)=>{e.correspondingSigResolve=t,e.correspondingSigReject=r})),e.signatureData=V((async()=>(await e.correspondingSig).signatureData)),e.hashed=G(await e.hash(e.signatureType,i[0],void 0,!1)),e.hashed.catch((()=>{}))}))),n.packets.stream=F(n.packets.stream,(async(e,t)=>{const r=T(e),n=M(t);try{for(let e=0;e<s.length;e++){const{value:t}=await r.read();s[e].correspondingSigResolve(t)}await r.readToEnd(),await n.ready,await n.close()}catch(e){s.forEach((t=>{t.correspondingSigReject(e)})),await n.abort(e)}})),Ec(s,i,e,t,!1,r)):Ec(a,i,e,t,!1,r)}verifyDetached(e,t,r=new Date,n=ae){const i=this.unwrapCompressed().packets.filterByTag($.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");return Ec(e.packets.filterByTag($.packet.signature),i,t,r,!0,n)}unwrapCompressed(){const e=this.packets.filterByTag($.packet.compressedData);return e.length?new _c(e[0].packets):this}async appendSignature(e,t=ae){await this.packets.read(Y.isUint8Array(e)?e:(await pe(e)).data,kc,t)}write(){return this.packets.write()}armor(e=ae){return ye($.armor.message,this.write(),null,null,null,e)}}async function Pc(e,t,r=null,n=[],i=new Date,s=[],a=[],o=!1,c=ae){const u=new uo,l=null===e.text?$.signature.binary:$.signature.text;if(await Promise.all(t.map((async(t,r)=>{const u=s[r];if(!t.isPrivate())throw Error("Need private key for signing");const d=await t.getSigningKey(n[r],i,u,c);return $o(e,t,d.keyPacket,{signatureType:l},i,u,a,o,c)}))).then((e=>{u.push(...e)})),r){const e=r.packets.filterByTag($.packet.signature);u.push(...e)}return u}async function Ec(e,t,r,n=new Date,i=!1,s=ae){return Promise.all(e.filter((function(e){return["text","binary"].includes($.read($.signature,e.signatureType))})).map((async function(e){return async function(e,t,r,n=new Date,i=!1,s=ae){let a,o;for(const t of r){const r=t.getKeys(e.issuerKeyID);if(r.length>0){a=t,o=r[0];break}}const c=e instanceof oo?e.correspondingSig:e,u={keyID:e.issuerKeyID,verified:(async()=>{if(!o)throw Error("Could not find signing key with key ID "+e.issuerKeyID.toHex());await e.verify(o.keyPacket,e.signatureType,t[0],n,i,s);const r=await c;if(o.getCreationTime()>r.created)throw Error("Key is newer than the signature");try{await a.getSigningKey(o.getKeyID(),r.created,void 0,s)}catch(e){if(!s.allowInsecureVerificationWithReformattedKeys||!e.message.match(/Signature creation time is in the future/))throw e;await a.getSigningKey(o.getKeyID(),n,void 0,s)}return!0})(),signature:(async()=>{const e=await c,t=new uo;return e&&t.push(e),new Lo(t)})()};return u.signature.catch((()=>{})),u.verified.catch((()=>{})),u}(e,t,r,n,i,s)})))}async function Sc({armoredMessage:e,binaryMessage:t,config:r,...n}){r={...ae,...r};let i=e||t;if(!i)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(e&&!Y.isString(e)&&!Y.isStream(e))throw Error("readMessage: options.armoredMessage must be a string or stream");if(t&&!Y.isUint8Array(t)&&!Y.isStream(t))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const s=Object.keys(n);if(s.length>0)throw Error("Unknown option: "+s.join(", "));const a=Y.isStream(i);if(a&&(await C(),i=O(i)),e){const{type:e,data:t}=await pe(i,r);if(e!==$.armor.message)throw Error("Armored text not of type message");i=t}const o=await uo.fromBinary(i,vc,r),c=new _c(o);return c.fromStream=a,c}async function xc({text:e,binary:t,filename:r,date:n=new Date,format:i=(void 0!==e?"utf8":"binary"),...s}){let a=void 0!==e?e:t;if(void 0===a)throw Error("createMessage: must pass options object containing `text` or `binary`");if(e&&!Y.isString(e)&&!Y.isStream(e))throw Error("createMessage: options.text must be a string or stream");if(t&&!Y.isUint8Array(t)&&!Y.isStream(t))throw Error("createMessage: options.binary must be a Uint8Array or stream");const o=Object.keys(s);if(o.length>0)throw Error("Unknown option: "+o.join(", "));const c=Y.isStream(a);c&&(await C(),a=O(a));const u=new ro(n);void 0!==e?u.setText(a,$.write($.literal,i)):u.setBytes(a,$.write($.literal,i)),void 0!==r&&u.setFilename(r);const l=new uo;l.push(u);const d=new _c(l);return d.fromStream=c,d}const Cc=Y.constructAllowedPackets([so]);class Bc{constructor(e,t){if(this.text=Y.removeTrailingSpaces(e).replace(/\r?\n/g,"\r\n"),t&&!(t instanceof Lo))throw Error("Invalid signature input");this.signature=t||new Lo(new uo)}getSigningKeyIDs(){const e=[];return this.signature.packets.forEach((function(t){e.push(t.issuerKeyID)})),e}async sign(e,t=null,r=[],n=new Date,i=[],s=[],a=ae){const o=new ro;o.setText(this.text);const c=new Lo(await Pc(o,e,t,r,n,i,s,!0,a));return new Bc(this.text,c)}verify(e,t=new Date,r=ae){const n=this.signature.packets.filterByTag($.packet.signature),i=new ro;return i.setText(this.text),Ec(n,[i],e,t,!0,r)}getText(){return this.text.replace(/\r\n/g,"\n")}armor(e=ae){let t=this.signature.packets.map((function(e){return $.read($.hash,e.hashAlgorithm).toUpperCase()}));t=t.filter((function(e,t,r){return r.indexOf(e)===t}));const r={hash:t.join(),text:this.text,data:this.signature.packets.write()};return ye($.armor.signed,r,void 0,void 0,void 0,e)}}async function Oc({cleartextMessage:e,config:t,...r}){if(t={...ae,...t},!e)throw Error("readCleartextMessage: must pass options object containing `cleartextMessage`");if(!Y.isString(e))throw Error("readCleartextMessage: options.cleartextMessage must be a string");const n=Object.keys(r);if(n.length>0)throw Error("Unknown option: "+n.join(", "));const i=await pe(e);if(i.type!==$.armor.signed)throw Error("No cleartext signed message.");const s=await uo.fromBinary(i.data,Cc,t);!function(e,t){const r=function(e){const r=e=>t=>e.hashAlgorithm===t;for(let n=0;n<t.length;n++)if(t[n].constructor.tag===$.packet.signature&&!e.some(r(t[n])))return!1;return!0};let n=null,i=[];if(e.forEach((function(e){if(n=e.match(/^Hash: (.+)$/),!n)throw Error('Only "Hash" header allowed in cleartext signed message');n=n[1].replace(/\s/g,""),n=n.split(","),n=n.map((function(e){e=e.toLowerCase();try{return $.write($.hash,e)}catch(t){throw Error("Unknown hash algorithm in armor header: "+e)}})),i=i.concat(n)})),!i.length&&!r([$.hash.md5]))throw Error('If no "Hash" header in cleartext signed message, then only MD5 signatures allowed');if(i.length&&!r(i))throw Error("Hash algorithm mismatch in armor header and signature")}(i.headers,s);const a=new Lo(s);return new Bc(i.text,a)}async function Rc({text:e,...t}){if(!e)throw Error("createCleartextMessage: must pass options object containing `text`");if(!Y.isString(e))throw Error("createCleartextMessage: options.text must be a string");const r=Object.keys(t);if(r.length>0)throw Error("Unknown option: "+r.join(", "));return new Bc(e)}async function Ic({userIDs:e=[],passphrase:t,type:r="ecc",rsaBits:n=4096,curve:i="curve25519",keyExpirationTime:s=0,date:a=new Date,subkeys:o=[{}],format:c="armored",config:u,...l}){Jc(u={...ae,...u}),e=Qc(e);const d=Object.keys(l);if(d.length>0)throw Error("Unknown option: "+d.join(", "));if(0===e.length)throw Error("UserIDs are required for key generation");if("rsa"===r&&n<u.minRSABits)throw Error(`rsaBits should be at least ${u.minRSABits}, got: ${n}`);const h={userIDs:e,passphrase:t,type:r,rsaBits:n,curve:i,keyExpirationTime:s,date:a,subkeys:o};try{const{key:e,revocationCertificate:t}=await async function(e,t){e.sign=!0,(e=ec(e)).subkeys=e.subkeys.map(((t,r)=>ec(e.subkeys[r],e)));let r=[Ho(e,t)];r=r.concat(e.subkeys.map((e=>qo(e,t))));const n=await Promise.all(r),i=await yc(n[0],n.slice(1),e,t),s=await i.getRevocationCertificate(e.date,t);return i.revocationSignatures=[],{key:i,revocationCertificate:s}}(h,u);return e.getKeys().forEach((({keyPacket:e})=>ic(e,u))),{privateKey:Yc(e,c,u),publicKey:Yc(e.toPublic(),c,u),revocationCertificate:t}}catch(e){throw Y.wrapError("Error generating keypair",e)}}async function Tc({privateKey:e,userIDs:t=[],passphrase:r,keyExpirationTime:n=0,date:i,format:s="armored",config:a,...o}){Jc(a={...ae,...a}),t=Qc(t);const c=Object.keys(o);if(c.length>0)throw Error("Unknown option: "+c.join(", "));if(0===t.length)throw Error("UserIDs are required for key reformat");const u={privateKey:e,userIDs:t,passphrase:r,keyExpirationTime:n,date:i};try{const{key:e,revocationCertificate:t}=await async function(e,t){e=o(e);const{privateKey:r}=e;if(!r.isPrivate())throw Error("Cannot reformat a public key");if(r.keyPacket.isDummy())throw Error("Cannot reformat a gnu-dummy primary key");if(!r.getKeys().every((({keyPacket:e})=>e.isDecrypted())))throw Error("Key is not decrypted");const n=r.keyPacket;e.subkeys||(e.subkeys=await Promise.all(r.subkeys.map((async e=>{const r=e.keyPacket,i={key:n,bind:r},s=await Go(e.bindingSignatures,n,$.signature.subkeyBinding,i,null,t).catch((()=>({})));return{sign:s.keyFlags&&s.keyFlags[0]&$.keyFlags.signData}}))));const i=r.subkeys.map((e=>e.keyPacket));if(e.subkeys.length!==i.length)throw Error("Number of subkey options does not match number of subkeys");e.subkeys=e.subkeys.map((t=>o(t,e)));const s=await yc(n,i,e,t),a=await s.getRevocationCertificate(e.date,t);return s.revocationSignatures=[],{key:s,revocationCertificate:a};function o(e,t={}){return e.keyExpirationTime=e.keyExpirationTime||t.keyExpirationTime,e.passphrase=Y.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e}}(u,a);return{privateKey:Yc(e,s,a),publicKey:Yc(e.toPublic(),s,a),revocationCertificate:t}}catch(e){throw Y.wrapError("Error reformatting keypair",e)}}async function Mc({key:e,revocationCertificate:t,reasonForRevocation:r,date:n=new Date,format:i="armored",config:s,...a}){Jc(s={...ae,...s});const o=Object.keys(a);if(o.length>0)throw Error("Unknown option: "+o.join(", "));try{const a=t?await e.applyRevocationCertificate(t,n,s):await e.revoke(r,n,s);return a.isPrivate()?{privateKey:Yc(a,i,s),publicKey:Yc(a.toPublic(),i,s)}:{privateKey:null,publicKey:Yc(a,i,s)}}catch(e){throw Y.wrapError("Error revoking key",e)}}async function Nc({privateKey:e,passphrase:t,config:r,...n}){Jc(r={...ae,...r});const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));if(!e.isPrivate())throw Error("Cannot decrypt a public key");const s=e.clone(!0),a=Y.isArray(t)?t:[t];try{return await Promise.all(s.getKeys().map((e=>Y.anyPromise(a.map((t=>e.keyPacket.decrypt(t))))))),await s.validate(r),s}catch(e){throw s.clearPrivateParams(),Y.wrapError("Error decrypting private key",e)}}async function Dc({privateKey:e,passphrase:t,config:r,...n}){Jc(r={...ae,...r});const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));if(!e.isPrivate())throw Error("Cannot encrypt a public key");const s=e.clone(!0),a=s.getKeys(),o=Y.isArray(t)?t:Array(a.length).fill(t);if(o.length!==a.length)throw Error("Invalid number of passphrases given for key encryption");try{return await Promise.all(a.map((async(e,t)=>{const{keyPacket:n}=e;await n.encrypt(o[t],r),n.clearPrivateParams()}))),s}catch(e){throw s.clearPrivateParams(),Y.wrapError("Error encrypting private key",e)}}async function Uc({message:e,encryptionKeys:t,signingKeys:r,passwords:n,sessionKey:i,format:s="armored",signature:a=null,wildcard:o=!1,signingKeyIDs:c=[],encryptionKeyIDs:u=[],date:l=new Date,signingUserIDs:d=[],encryptionUserIDs:h=[],signatureNotations:f=[],config:p,...y}){if(Jc(p={...ae,...p}),Hc(e),Wc(s),t=Qc(t),r=Qc(r),n=Qc(n),c=Qc(c),u=Qc(u),d=Qc(d),h=Qc(h),f=Qc(f),y.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(y.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(y.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(void 0!==y.armor)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const g=Object.keys(y);if(g.length>0)throw Error("Unknown option: "+g.join(", "));r||(r=[]);const m=e.fromStream;try{if((r.length||a)&&(e=await e.sign(r,a,c,l,d,f,p)),e=e.compress(await Qo("compression",t,l,h,p),p),e=await e.encrypt(t,n,i,o,u,l,h,p),"object"===s)return e;const y="armored"===s;return $c(y?e.armor(p):e.write(),m,y?"utf8":"binary")}catch(e){throw Y.wrapError("Error encrypting message",e)}}async function jc({message:e,decryptionKeys:t,passwords:r,sessionKeys:n,verificationKeys:i,expectSigned:s=!1,format:a="utf8",signature:o=null,date:c=new Date,config:u,...l}){if(Jc(u={...ae,...u}),Hc(e),i=Qc(i),t=Qc(t),r=Qc(r),n=Qc(n),l.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(l.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const d=Object.keys(l);if(d.length>0)throw Error("Unknown option: "+d.join(", "));try{const l=await e.decrypt(t,r,n,c,u);i||(i=[]);const d={};if(d.signatures=o?await l.verifyDetached(o,i,c,u):await l.verify(i,c,u),d.data="binary"===a?l.getLiteralData():l.getText(),d.filename=l.getFilename(),Zc(d,e),s){if(0===i.length)throw Error("Verification keys are required to verify message signatures");if(0===d.signatures.length)throw Error("Message is not signed");d.data=I([d.data,V((async()=>{await Y.anyPromise(d.signatures.map((e=>e.verified)))}))])}return d.data=await $c(d.data,e.fromStream,a),d}catch(e){throw Y.wrapError("Error decrypting message",e)}}async function Fc({message:e,signingKeys:t,format:r="armored",detached:n=!1,signingKeyIDs:i=[],date:s=new Date,signingUserIDs:a=[],signatureNotations:o=[],config:c,...u}){if(Jc(c={...ae,...c}),Gc(e),Wc(r),t=Qc(t),i=Qc(i),a=Qc(a),o=Qc(o),u.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.sign, pass `signingKeys` instead");if(void 0!==u.armor)throw Error("The `armor` option has been removed from openpgp.sign, pass `format` instead.");const l=Object.keys(u);if(l.length>0)throw Error("Unknown option: "+l.join(", "));if(e instanceof Bc&&"binary"===r)throw Error("Cannot return signed cleartext message in binary format");if(e instanceof Bc&&n)throw Error("Cannot detach-sign a cleartext message");if(!t||0===t.length)throw Error("No signing keys provided");try{let u;if(u=n?await e.signDetached(t,void 0,i,s,a,o,c):await e.sign(t,void 0,i,s,a,o,c),"object"===r)return u;const l="armored"===r;return u=l?u.armor(c):u.write(),n&&(u=F(e.packets.write(),(async(e,t)=>{await Promise.all([N(u,t),G(e).catch((()=>{}))])}))),$c(u,e.fromStream,l?"utf8":"binary")}catch(e){throw Y.wrapError("Error signing message",e)}}async function Kc({message:e,verificationKeys:t,expectSigned:r=!1,format:n="utf8",signature:i=null,date:s=new Date,config:a,...o}){if(Jc(a={...ae,...a}),Gc(e),t=Qc(t),o.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.verify, pass `verificationKeys` instead");const c=Object.keys(o);if(c.length>0)throw Error("Unknown option: "+c.join(", "));if(e instanceof Bc&&"binary"===n)throw Error("Can't return cleartext message data as binary");if(e instanceof Bc&&i)throw Error("Can't verify detached cleartext signature");try{const o={};if(o.signatures=i?await e.verifyDetached(i,t,s,a):await e.verify(t,s,a),o.data="binary"===n?e.getLiteralData():e.getText(),e.fromStream&&!i&&Zc(o,e),r){if(0===o.signatures.length)throw Error("Message is not signed");o.data=I([o.data,V((async()=>{await Y.anyPromise(o.signatures.map((e=>e.verified)))}))])}return o.data=await $c(o.data,e.fromStream,n),o}catch(e){throw Y.wrapError("Error verifying signed message",e)}}async function Lc({encryptionKeys:e,date:t=new Date,encryptionUserIDs:r=[],config:n,...i}){if(Jc(n={...ae,...n}),e=Qc(e),r=Qc(r),i.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.generateSessionKey, pass `encryptionKeys` instead");const s=Object.keys(i);if(s.length>0)throw Error("Unknown option: "+s.join(", "));try{return await _c.generateSessionKey(e,t,r,n)}catch(e){throw Y.wrapError("Error generating session key",e)}}async function zc({data:e,algorithm:t,aeadAlgorithm:r,encryptionKeys:n,passwords:i,format:s="armored",wildcard:a=!1,encryptionKeyIDs:o=[],date:c=new Date,encryptionUserIDs:u=[],config:l,...d}){if(Jc(l={...ae,...l}),function(e){if(!Y.isUint8Array(e))throw Error("Parameter [data] must be of type Uint8Array")}(e),function(e){if(!Y.isString(e))throw Error("Parameter [algorithm] must be of type String")}(t),Wc(s),n=Qc(n),i=Qc(i),o=Qc(o),u=Qc(u),d.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encryptSessionKey, pass `encryptionKeys` instead");const h=Object.keys(d);if(h.length>0)throw Error("Unknown option: "+h.join(", "));if(!(n&&0!==n.length||i&&0!==i.length))throw Error("No encryption keys or passwords provided.");try{return Yc(await _c.encryptSessionKey(e,t,r,n,i,a,o,c,u,l),s,l)}catch(e){throw Y.wrapError("Error encrypting session key",e)}}async function qc({message:e,decryptionKeys:t,passwords:r,date:n=new Date,config:i,...s}){if(Jc(i={...ae,...i}),Hc(e),t=Qc(t),r=Qc(r),s.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decryptSessionKeys, pass `decryptionKeys` instead");const a=Object.keys(s);if(a.length>0)throw Error("Unknown option: "+a.join(", "));try{return await e.decryptSessionKeys(t,r,n,i)}catch(e){throw Y.wrapError("Error decrypting session keys",e)}}function Hc(e){if(!(e instanceof _c))throw Error("Parameter [message] needs to be of type Message")}function Gc(e){if(!(e instanceof Bc||e instanceof _c))throw Error("Parameter [message] needs to be of type Message or CleartextMessage")}function Wc(e){if("armored"!==e&&"binary"!==e&&"object"!==e)throw Error("Unsupported format "+e)}const Vc=Object.keys(ae).length;function Jc(e){const t=Object.keys(e);if(t.length!==Vc)for(const e of t)if(void 0===ae[e])throw Error("Unknown config property: "+e)}function Qc(e){return e&&!Y.isArray(e)&&(e=[e]),e}async function $c(e,t,r="utf8"){const n=Y.isStream(e);return"array"===n?G(e):"node"===t?(e=w(e),"binary"!==r&&e.setEncoding(r),e):"web"===t&&"ponyfill"===n?P(e):e}function Zc(e,t){e.data=F(t.packets.stream,(async(t,r)=>{await N(e.data,r,{preventClose:!0});const n=M(r);try{await G(t,(e=>e)),await n.close()}catch(e){await n.abort(e)}}))}function Yc(e,t,r){switch(t){case"object":return e;case"armored":return e.armor(r);case"binary":return e.write();default:throw Error("Unsupported format "+t)}}const Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function eu(){}const tu="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function ru(e){return"object"==typeof e&&null!==e||"function"==typeof e}const nu=eu,iu=Promise,su=Promise.prototype.then,au=Promise.resolve.bind(iu),ou=Promise.reject.bind(iu);function cu(e){return new iu(e)}function uu(e){return au(e)}function lu(e){return ou(e)}function du(e,t,r){return su.call(e,t,r)}function hu(e,t,r){du(du(e,t,r),void 0,nu)}function fu(e,t){hu(e,t)}function pu(e,t){hu(e,void 0,t)}function yu(e,t,r){return du(e,t,r)}function gu(e){du(e,void 0,nu)}const mu=(()=>{const e=tu&&tu.queueMicrotask;if("function"==typeof e)return e;const t=uu(void 0);return e=>du(t,e)})();function bu(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function wu(e,t,r){try{return uu(bu(e,t,r))}catch(e){return lu(e)}}class vu{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const i=e._elements,s=i[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,s}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function Au(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?Eu(e):"closed"===t._state?function(e){Eu(e),Cu(e)}(e):Su(e,t._storedError)}function ku(e,t){return nh(e._ownerReadableStream,t)}function _u(e){"readable"===e._ownerReadableStream._state?xu(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e){Su(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Pu(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Eu(e){e._closedPromise=cu(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function Su(e,t){Eu(e),xu(e,t)}function xu(e,t){void 0!==e._closedPromise_reject&&(gu(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Cu(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const Bu=Xc("[[AbortSteps]]"),Ou=Xc("[[ErrorSteps]]"),Ru=Xc("[[CancelSteps]]"),Iu=Xc("[[PullSteps]]"),Tu=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Mu=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Nu(e,t){if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw new TypeError(t+" is not an object.");var r}function Du(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function.")}function Uu(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(t+" is not an object.")}function ju(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function Fu(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function Ku(e){return Number(e)}function Lu(e){return 0===e?0:e}function zu(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=Lu(n),!Tu(n))throw new TypeError(t+" is not a finite number");if(n=function(e){return Lu(Mu(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return Tu(n)&&0!==n?n:0}function qu(e,t){if(!th(e))throw new TypeError(t+" is not a ReadableStream.")}function Hu(e){return new Qu(e)}function Gu(e,t){e._reader._readRequests.push(t)}function Wu(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function Vu(e){return e._reader._readRequests.length}function Ju(e){const t=e._reader;return void 0!==t&&!!$u(t)}class Qu{constructor(e){if(ju(e,1,"ReadableStreamDefaultReader"),qu(e,"First parameter"),rh(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Au(this,e),this._readRequests=new vu}get closed(){return $u(this)?this._closedPromise:lu(Yu("closed"))}cancel(e=void 0){return $u(this)?void 0===this._ownerReadableStream?lu(Pu("cancel")):ku(this,e):lu(Yu("cancel"))}read(){if(!$u(this))return lu(Yu("read"));if(void 0===this._ownerReadableStream)return lu(Pu("read from"));let e,t;const r=cu(((r,n)=>{e=r,t=n}));return Zu(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!$u(this))throw Yu("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");_u(this)}}}function $u(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function Zu(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[Iu](t)}function Yu(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Xu;Object.defineProperties(Qu.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(Qu.prototype,Xc.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Xc.asyncIterator&&(Xu={[Xc.asyncIterator](){return this}},Object.defineProperty(Xu,Xc.asyncIterator,{enumerable:!1}));class el{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?yu(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?yu(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return lu(Pu("iterate"));let t,r;const n=cu(((e,n)=>{t=e,r=n}));return Zu(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,mu((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,_u(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,_u(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return lu(Pu("finish iterating"));if(!this._preventCancel){const r=ku(t,e);return _u(t),yu(r,(()=>({value:e,done:!0})))}return _u(t),uu({value:e,done:!0})}}const tl={next(){return rl(this)?this._asyncIteratorImpl.next():lu(nl("next"))},return(e){return rl(this)?this._asyncIteratorImpl.return(e):lu(nl("return"))}};function rl(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")}function nl(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==Xu&&Object.setPrototypeOf(tl,Xu);const il=Number.isNaN||function(e){return e!=e};function sl(e){return!!function(e){return!("number"!=typeof e||il(e)||e<0)}(e)&&e!==1/0}function al(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ol(e,t,r){if(!sl(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function cl(e){e._queue=new vu,e._queueTotalSize=0}function ul(e){return e.slice()}class ll{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!fl(this))throw Cl("view");return this._view}respond(e){if(!fl(this))throw Cl("respond");if(ju(e,1,"respond"),e=zu(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){if(!sl(t=Number(t)))throw new RangeError("bytesWritten must be a finite");_l(e,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!fl(this))throw Cl("respondWithNewView");if(ju(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){const r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,_l(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ll.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(ll.prototype,Xc.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class dl{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!hl(this))throw Bl("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(ll.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(r,this,t),this._byobRequest=r}return this._byobRequest}get desiredSize(){if(!hl(this))throw Bl("desiredSize");return xl(this)}close(){if(!hl(this))throw Bl("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Sl(e,t),t}El(e),ih(t)}}(this)}enqueue(e){if(!hl(this))throw Bl("enqueue");if(ju(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);!function(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,i=t.byteOffset,s=t.byteLength,a=n;Ju(r)?0===Vu(r)?ml(e,a,i,s):Wu(r,new Uint8Array(a,i,s),!1):Il(r)?(ml(e,a,i,s),kl(e)):ml(e,a,i,s),pl(e)}(this,e)}error(e=void 0){if(!hl(this))throw Bl("error");Sl(this,e)}[Ru](e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),cl(this);const t=this._cancelAlgorithm(e);return El(this),t}[Iu](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,vl(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let n;try{n=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const i={buffer:n,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}Gu(t,e),pl(this)}}function hl(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function fl(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function pl(e){const t=function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&(!e._closeRequested&&(!!e._started&&(!!(Ju(t)&&Vu(t)>0)||(!!(Il(t)&&Rl(t)>0)||xl(e)>0))))}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,hu(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,pl(e))}),(t=>{Sl(e,t)}))))}function yl(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=gl(t);"default"===t.readerType?Wu(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function gl(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function ml(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function bl(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),s=t.bytesFilled+i,a=s-s%r;let o=i,c=!1;a>n&&(o=a-t.bytesFilled,c=!0);const u=e._queue;for(;o>0;){const r=u.peek(),n=Math.min(o,r.byteLength),i=t.byteOffset+t.bytesFilled;l=t.buffer,d=i,h=r.buffer,f=r.byteOffset,p=n,new Uint8Array(l).set(new Uint8Array(h,f,p),d),r.byteLength===n?u.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,wl(e,n,t),o-=n}var l,d,h,f,p;return c}function wl(e,t,r){Al(e),r.bytesFilled+=t}function vl(e){0===e._queueTotalSize&&e._closeRequested?(El(e),ih(e._controlledReadableByteStream)):pl(e)}function Al(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function kl(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();bl(e,t)&&(Pl(e),yl(e._controlledReadableByteStream,t))}}function _l(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=t.buffer;const r=e._controlledReadableByteStream;if(Il(r))for(;Rl(r)>0;)yl(r,Pl(e))}(e,r)}else!function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(wl(e,t,r),r.bytesFilled<r.elementSize)return;Pl(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,i=r.buffer.slice(t-n,t);ml(e,i,0,i.byteLength)}r.buffer=r.buffer,r.bytesFilled-=n,yl(e._controlledReadableByteStream,r),kl(e)}(e,t,r);pl(e)}function Pl(e){const t=e._pendingPullIntos.shift();return Al(e),t}function El(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Sl(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(function(e){Al(e),e._pendingPullIntos=new vu}(e),cl(e),El(e),sh(r,t))}function xl(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Cl(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Bl(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Ol(e,t){e._reader._readIntoRequests.push(t)}function Rl(e){return e._reader._readIntoRequests.length}function Il(e){const t=e._reader;return void 0!==t&&!!Ml(t)}Object.defineProperties(dl.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(dl.prototype,Xc.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Tl{constructor(e){if(ju(e,1,"ReadableStreamBYOBReader"),qu(e,"First parameter"),rh(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!hl(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Au(this,e),this._readIntoRequests=new vu}get closed(){return Ml(this)?this._closedPromise:lu(Nl("closed"))}cancel(e=void 0){return Ml(this)?void 0===this._ownerReadableStream?lu(Pu("cancel")):ku(this,e):lu(Nl("cancel"))}read(e){if(!Ml(this))return lu(Nl("read"));if(!ArrayBuffer.isView(e))return lu(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return lu(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return lu(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return lu(Pu("read from"));let t,r;const n=cu(((e,n)=>{t=e,r=n}));return function(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let i=1;t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT);const s=t.constructor,a={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,viewConstructor:s,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),void Ol(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(bl(e,a)){const t=gl(a);return vl(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Sl(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(a),Ol(n,r),pl(e)}else{const e=new s(a.buffer,a.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!Ml(this))throw Nl("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");_u(this)}}}function Ml(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function Nl(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Dl(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(il(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Ul(e){const{size:t}=e;return t||(()=>1)}function jl(e,t){Nu(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:Ku(r),size:void 0===n?void 0:Fl(n,t+" has member 'size' that")}}function Fl(e,t){return Du(e,t),t=>Ku(e(t))}function Kl(e,t,r){return Du(e,r),r=>wu(e,t,[r])}function Ll(e,t,r){return Du(e,r),()=>wu(e,t,[])}function zl(e,t,r){return Du(e,r),r=>bu(e,t,[r])}function ql(e,t,r){return Du(e,r),(r,n)=>wu(e,t,[r,n])}function Hl(e,t){if(!Jl(e))throw new TypeError(t+" is not a WritableStream.")}Object.defineProperties(Tl.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(Tl.prototype,Xc.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Gl{constructor(e={},t={}){void 0===e?e=null:Uu(e,"First parameter");const r=jl(t,"Second parameter"),n=function(e,t){Nu(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,s=null==e?void 0:e.type,a=null==e?void 0:e.write;return{abort:void 0===r?void 0:Kl(r,e,t+" has member 'abort' that"),close:void 0===n?void 0:Ll(n,e,t+" has member 'close' that"),start:void 0===i?void 0:zl(i,e,t+" has member 'start' that"),write:void 0===a?void 0:ql(a,e,t+" has member 'write' that"),type:s}}(e,"First parameter");if(Vl(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const i=Ul(r);!function(e,t,r,n){const i=Object.create(dd.prototype);let s=()=>{},a=()=>uu(void 0),o=()=>uu(void 0),c=()=>uu(void 0);void 0!==t.start&&(s=()=>t.start(i)),void 0!==t.write&&(a=e=>t.write(e,i)),void 0!==t.close&&(o=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),hd(e,i,s,a,o,c,r,n)}(this,n,Dl(r,1),i)}get locked(){if(!Jl(this))throw wd("locked");return Ql(this)}abort(e=void 0){return Jl(this)?Ql(this)?lu(new TypeError("Cannot abort a stream that already has a writer")):$l(this,e):lu(wd("abort"))}close(){return Jl(this)?Ql(this)?lu(new TypeError("Cannot close a stream that already has a writer")):td(this)?lu(new TypeError("Cannot close an already-closing stream")):Zl(this):lu(wd("close"))}getWriter(){if(!Jl(this))throw wd("getWriter");return Wl(this)}}function Wl(e){return new id(e)}function Vl(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new vu,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Jl(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function Ql(e){return void 0!==e._writer}function $l(e,t){const r=e._state;if("closed"===r||"errored"===r)return uu(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;"erroring"===r&&(n=!0,t=void 0);const i=cu(((r,i)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:i,_reason:t,_wasAlreadyErroring:n}}));return e._pendingAbortRequest._promise=i,n||Xl(e,t),i}function Zl(e){const t=e._state;if("closed"===t||"errored"===t)return lu(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=cu(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var i;return void 0!==n&&e._backpressure&&"writable"===t&&Od(n),ol(i=e._writableStreamController,ld,0),yd(i),r}function Yl(e,t){"writable"!==e._state?ed(e):Xl(e,t)}function Xl(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&od(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&ed(e)}function ed(e){e._state="errored",e._writableStreamController[Ou]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new vu,void 0===e._pendingAbortRequest)return void rd(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void rd(e);hu(e._writableStreamController[Bu](r._reason),(()=>{r._resolve(),rd(e)}),(t=>{r._reject(t),rd(e)}))}function td(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function rd(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&Pd(t,e._storedError)}function nd(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){Sd(e)}(r):Od(r)),e._backpressure=t}Object.defineProperties(Gl.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(Gl.prototype,Xc.toStringTag,{value:"WritableStream",configurable:!0});class id{constructor(e){if(ju(e,1,"WritableStreamDefaultWriter"),Hl(e,"First parameter"),Ql(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!td(e)&&e._backpressure?Sd(this):Cd(this),kd(this);else if("erroring"===t)xd(this,e._storedError),kd(this);else if("closed"===t)Cd(this),kd(this),Ed(this);else{const t=e._storedError;xd(this,t),_d(this,t)}}get closed(){return sd(this)?this._closedPromise:lu(vd("closed"))}get desiredSize(){if(!sd(this))throw vd("desiredSize");if(void 0===this._ownerWritableStream)throw Ad("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:pd(t._writableStreamController)}(this)}get ready(){return sd(this)?this._readyPromise:lu(vd("ready"))}abort(e=void 0){return sd(this)?void 0===this._ownerWritableStream?lu(Ad("abort")):function(e,t){return $l(e._ownerWritableStream,t)}(this,e):lu(vd("abort"))}close(){if(!sd(this))return lu(vd("close"));const e=this._ownerWritableStream;return void 0===e?lu(Ad("close")):td(e)?lu(new TypeError("Cannot close an already-closing stream")):ad(this)}releaseLock(){if(!sd(this))throw vd("releaseLock");void 0!==this._ownerWritableStream&&cd(this)}write(e=void 0){return sd(this)?void 0===this._ownerWritableStream?lu(Ad("write to")):ud(this,e):lu(vd("write"))}}function sd(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function ad(e){return Zl(e._ownerWritableStream)}function od(e,t){"pending"===e._readyPromiseState?Bd(e,t):function(e,t){xd(e,t)}(e,t)}function cd(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");od(e,r),function(e,t){"pending"===e._closedPromiseState?Pd(e,t):function(e,t){_d(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function ud(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return gd(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return lu(Ad("write to"));const s=r._state;if("errored"===s)return lu(r._storedError);if(td(r)||"closed"===s)return lu(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===s)return lu(r._storedError);const a=function(e){return cu(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{ol(e,t,r)}catch(t){return void gd(e,t)}const n=e._controlledWritableStream;td(n)||"writable"!==n._state||nd(n,md(e)),yd(e)}(n,t,i),a}Object.defineProperties(id.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(id.prototype,Xc.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const ld={};class dd{constructor(){throw new TypeError("Illegal constructor")}error(e=void 0){if(!function(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&bd(this,e)}[Bu](e){const t=this._abortAlgorithm(e);return fd(this),t}[Ou](){cl(this)}}function hd(e,t,r,n,i,s,a,o){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,cl(t),t._started=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=s;const c=md(t);nd(e,c),hu(uu(r()),(()=>{t._started=!0,yd(t)}),(r=>{t._started=!0,Yl(e,r)}))}function fd(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function pd(e){return e._strategyHWM-e._queueTotalSize}function yd(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void ed(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===ld?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),al(e);const r=e._closeAlgorithm();fd(e),hu(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&Ed(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),Yl(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r),hu(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(al(e),!td(r)&&"writable"===t){const t=md(e);nd(r,t)}yd(e)}),(t=>{"writable"===r._state&&fd(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,Yl(e,t)}(r,t)}))}(e,r)}function gd(e,t){"writable"===e._controlledWritableStream._state&&bd(e,t)}function md(e){return pd(e)<=0}function bd(e,t){const r=e._controlledWritableStream;fd(e),Xl(r,t)}function wd(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function vd(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Ad(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function kd(e){e._closedPromise=cu(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function _d(e,t){kd(e),Pd(e,t)}function Pd(e,t){void 0!==e._closedPromise_reject&&(gu(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ed(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Sd(e){e._readyPromise=cu(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function xd(e,t){Sd(e),Bd(e,t)}function Cd(e){Sd(e),Od(e)}function Bd(e,t){void 0!==e._readyPromise_reject&&(gu(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Od(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(dd.prototype,{error:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(dd.prototype,Xc.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Rd="undefined"!=typeof DOMException?DOMException:void 0,Id=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Rd)?Rd:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Object.defineProperty(e.prototype=Object.create(Error.prototype),"constructor",{value:e,writable:!0,configurable:!0}),e}();function Td(e,t,r,n,i,s){const a=Hu(e),o=Wl(t);e._disturbed=!0;let c=!1,u=uu(void 0);return cu(((l,d)=>{let h;if(void 0!==s){if(h=()=>{const r=new Id("Aborted","AbortError"),s=[];n||s.push((()=>"writable"===t._state?$l(t,r):uu(void 0))),i||s.push((()=>"readable"===e._state?nh(e,r):uu(void 0))),y((()=>Promise.all(s.map((e=>e())))),!0,r)},s.aborted)return void h();s.addEventListener("abort",h)}if(p(e,a._closedPromise,(e=>{n?g(!0,e):y((()=>$l(t,e)),!0,e)})),p(t,o._closedPromise,(t=>{i?g(!0,t):y((()=>nh(e,t)),!0,t)})),function(e,t,r){"closed"===e._state?r():fu(t,r)}(e,a._closedPromise,(()=>{r?g():y((()=>function(e){const t=e._ownerWritableStream,r=t._state;return td(t)||"closed"===r?uu(void 0):"errored"===r?lu(t._storedError):ad(e)}(o)))})),td(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?g(!0,t):y((()=>nh(e,t)),!0,t)}function f(){const e=u;return du(u,(()=>e!==u?f():void 0))}function p(e,t,r){"errored"===e._state?r(e._storedError):pu(t,r)}function y(e,r,n){function i(){hu(e(),(()=>m(r,n)),(e=>m(!0,e)))}c||(c=!0,"writable"!==t._state||td(t)?i():fu(f(),i))}function g(e,r){c||(c=!0,"writable"!==t._state||td(t)?m(e,r):fu(f(),(()=>m(e,r))))}function m(e,t){cd(o),_u(a),void 0!==s&&s.removeEventListener("abort",h),e?d(t):l(void 0)}gu(cu(((e,t)=>{!function r(n){n?e():du(c?uu(!0):du(o._readyPromise,(()=>cu(((e,t)=>{Zu(a,{_chunkSteps:t=>{u=du(ud(o,t),void 0,eu),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),r,t)}(!1)})))}))}class Md{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Nd(this))throw Gd("desiredSize");return zd(this)}close(){if(!Nd(this))throw Gd("close");if(!qd(this))throw new TypeError("The stream is not in a state that permits close");Fd(this)}enqueue(e=void 0){if(!Nd(this))throw Gd("enqueue");if(!qd(this))throw new TypeError("The stream is not in a state that permits enqueue");return Kd(this,e)}error(e=void 0){if(!Nd(this))throw Gd("error");Ld(this,e)}[Ru](e){cl(this);const t=this._cancelAlgorithm(e);return jd(this),t}[Iu](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=al(this);this._closeRequested&&0===this._queue.length?(jd(this),ih(t)):Dd(this),e._chunkSteps(r)}else Gu(t,e),Dd(this)}}function Nd(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function Dd(e){Ud(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,hu(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Dd(e))}),(t=>{Ld(e,t)}))))}function Ud(e){const t=e._controlledReadableStream;return!!qd(e)&&!!e._started&&(!!(rh(t)&&Vu(t)>0)||zd(e)>0)}function jd(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Fd(e){if(!qd(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(jd(e),ih(t))}function Kd(e,t){if(!qd(e))return;const r=e._controlledReadableStream;if(rh(r)&&Vu(r)>0)Wu(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw Ld(e,t),t}try{ol(e,t,r)}catch(t){throw Ld(e,t),t}}Dd(e)}function Ld(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(cl(e),jd(e),sh(r,t))}function zd(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function qd(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function Hd(e,t,r,n,i,s,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,cl(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,hu(uu(r()),(()=>{t._started=!0,Dd(t)}),(e=>{Ld(t,e)}))}function Gd(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Wd(e,t,r){return Du(e,r),r=>wu(e,t,[r])}function Vd(e,t,r){return Du(e,r),r=>wu(e,t,[r])}function Jd(e,t,r){return Du(e,r),r=>bu(e,t,[r])}function Qd(e,t){if("bytes"!=(e=""+e))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function $d(e,t){if("byob"!=(e=""+e))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Zd(e,t){Nu(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,s=null==e?void 0:e.signal;return void 0!==s&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(t+" is not an AbortSignal.")}(s,t+" has member 'signal' that"),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:s}}Object.defineProperties(Md.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(Md.prototype,Xc.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Yd{constructor(e={},t={}){void 0===e?e=null:Uu(e,"First parameter");const r=jl(t,"Second parameter"),n=function(e,t){Nu(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,s=null==r?void 0:r.pull,a=null==r?void 0:r.start,o=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:zu(n,t+" has member 'autoAllocateChunkSize' that"),cancel:void 0===i?void 0:Wd(i,r,t+" has member 'cancel' that"),pull:void 0===s?void 0:Vd(s,r,t+" has member 'pull' that"),start:void 0===a?void 0:Jd(a,r,t+" has member 'start' that"),type:void 0===o?void 0:Qd(o,t+" has member 'type' that")}}(e,"First parameter");if(eh(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(dl.prototype);let i=()=>{},s=()=>uu(void 0),a=()=>uu(void 0);void 0!==t.start&&(i=()=>t.start(n)),void 0!==t.pull&&(s=()=>t.pull(n)),void 0!==t.cancel&&(a=e=>t.cancel(e));const o=t.autoAllocateChunkSize;if(0===o)throw new TypeError("autoAllocateChunkSize must be greater than 0");!function(e,t,r,n,i,s,a){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,cl(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=s,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=a,t._pendingPullIntos=new vu,e._readableStreamController=t,hu(uu(r()),(()=>{t._started=!0,pl(t)}),(e=>{Sl(t,e)}))}(e,n,i,s,a,r,o)}(this,n,Dl(r,0))}else{const e=Ul(r);!function(e,t,r,n){const i=Object.create(Md.prototype);let s=()=>{},a=()=>uu(void 0),o=()=>uu(void 0);void 0!==t.start&&(s=()=>t.start(i)),void 0!==t.pull&&(a=()=>t.pull(i)),void 0!==t.cancel&&(o=e=>t.cancel(e)),Hd(e,i,s,a,o,r,n)}(this,n,Dl(r,1),e)}}get locked(){if(!th(this))throw ah("locked");return rh(this)}cancel(e=void 0){return th(this)?rh(this)?lu(new TypeError("Cannot cancel a stream that already has a reader")):nh(this,e):lu(ah("cancel"))}getReader(e=void 0){if(!th(this))throw ah("getReader");const t=function(e,t){Nu(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:$d(r,t+" has member 'mode' that")}}(e,"First parameter");return void 0===t.mode?Hu(this):function(e){return new Tl(e)}(this)}pipeThrough(e,t={}){if(!th(this))throw ah("pipeThrough");ju(e,1,"pipeThrough");const r=function(e,t){Nu(e,t);const r=null==e?void 0:e.readable;Fu(r,"readable","ReadableWritablePair"),qu(r,t+" has member 'readable' that");const n=null==e?void 0:e.writable;return Fu(n,"writable","ReadableWritablePair"),Hl(n,t+" has member 'writable' that"),{readable:r,writable:n}}(e,"First parameter"),n=Zd(t,"Second parameter");if(rh(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ql(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return gu(Td(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!th(this))return lu(ah("pipeTo"));if(void 0===e)return lu("Parameter 1 is required in 'pipeTo'.");if(!Jl(e))return lu(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=Zd(t,"Second parameter")}catch(e){return lu(e)}return rh(this)?lu(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ql(e)?lu(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Td(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!th(this))throw ah("tee");const e=function(e){const t=Hu(e);let r,n,i,s,a,o=!1,c=!1,u=!1;const l=cu((e=>{a=e}));function d(){return o||(o=!0,Zu(t,{_chunkSteps:e=>{mu((()=>{o=!1;const t=e,r=e;c||Kd(i._readableStreamController,t),u||Kd(s._readableStreamController,r)}))},_closeSteps:()=>{o=!1,c||Fd(i._readableStreamController),u||Fd(s._readableStreamController),c&&u||a(void 0)},_errorSteps:()=>{o=!1}})),uu(void 0)}function h(){}return i=Xd(h,d,(function(t){if(c=!0,r=t,u){const t=ul([r,n]),i=nh(e,t);a(i)}return l})),s=Xd(h,d,(function(t){if(u=!0,n=t,c){const t=ul([r,n]),i=nh(e,t);a(i)}return l})),pu(t._closedPromise,(e=>{Ld(i._readableStreamController,e),Ld(s._readableStreamController,e),c&&u||a(void 0)})),[i,s]}(this);return ul(e)}values(e=void 0){if(!th(this))throw ah("values");return function(e,t){const r=Hu(e),n=new el(r,t),i=Object.create(tl);return i._asyncIteratorImpl=n,i}(this,function(e){return Nu(e,"First parameter"),{preventCancel:!!(null==e?void 0:e.preventCancel)}}(e).preventCancel)}}function Xd(e,t,r,n=1,i=()=>1){const s=Object.create(Yd.prototype);return eh(s),Hd(s,Object.create(Md.prototype),e,t,r,n,i),s}function eh(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function th(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function rh(e){return void 0!==e._reader}function nh(e,t){return e._disturbed=!0,"closed"===e._state?uu(void 0):"errored"===e._state?lu(e._storedError):(ih(e),yu(e._readableStreamController[Ru](t),eu))}function ih(e){e._state="closed";const t=e._reader;void 0!==t&&(Cu(t),$u(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new vu))}function sh(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(xu(r,t),$u(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new vu):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new vu))}function ah(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function oh(e,t){Nu(e,t);const r=null==e?void 0:e.highWaterMark;return Fu(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Ku(r)}}Object.defineProperties(Yd.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(Yd.prototype,Xc.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Xc.asyncIterator&&Object.defineProperty(Yd.prototype,Xc.asyncIterator,{value:Yd.prototype.values,writable:!0,configurable:!0});const ch=function(e){return e.byteLength};class uh{constructor(e){ju(e,1,"ByteLengthQueuingStrategy"),e=oh(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!dh(this))throw lh("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!dh(this))throw lh("size");return ch}}function lh(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function dh(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(uh.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(uh.prototype,Xc.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const hh=function(){return 1};class fh{constructor(e){ju(e,1,"CountQueuingStrategy"),e=oh(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!yh(this))throw ph("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!yh(this))throw ph("size");return hh}}function ph(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function yh(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")}function gh(e,t,r){return Du(e,r),r=>wu(e,t,[r])}function mh(e,t,r){return Du(e,r),r=>bu(e,t,[r])}function bh(e,t,r){return Du(e,r),(r,n)=>wu(e,t,[r,n])}Object.defineProperties(fh.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(fh.prototype,Xc.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class wh{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=jl(t,"Second parameter"),i=jl(r,"Third parameter"),s=function(e,t){Nu(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,i=null==e?void 0:e.start,s=null==e?void 0:e.transform,a=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:gh(r,e,t+" has member 'flush' that"),readableType:n,start:void 0===i?void 0:mh(i,e,t+" has member 'start' that"),transform:void 0===s?void 0:bh(s,e,t+" has member 'transform' that"),writableType:a}}(e,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");const a=Dl(i,0),o=Ul(i),c=Dl(n,1),u=Ul(n);let l;!function(e,t,r,n,i,s){function a(){return t}e._writable=function(e,t,r,n,i=1,s=()=>1){const a=Object.create(Gl.prototype);return Vl(a),hd(a,Object.create(dd.prototype),e,t,r,n,i,s),a}(a,(function(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?yu(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return Ch(r,t)})):Ch(r,t)}(e,t)}),(function(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return Sh(r),yu(n,(()=>{if("errored"===t._state)throw t._storedError;Fd(t._readableStreamController)}),(r=>{throw Ah(e,r),t._storedError}))}(e)}),(function(t){return function(e,t){return Ah(e,t),uu(void 0)}(e,t)}),r,n),e._readable=Xd(a,(function(){return function(e){return _h(e,!1),e._backpressureChangePromise}(e)}),(function(t){return kh(e,t),uu(void 0)}),i,s),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,_h(e,!0),e._transformStreamController=void 0}(this,cu((e=>{l=e})),c,u,a,o),function(e,t){const r=Object.create(Ph.prototype);let n=e=>{try{return xh(r,e),uu(void 0)}catch(e){return lu(e)}},i=()=>uu(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r)),void 0!==t.flush&&(i=()=>t.flush(r)),function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,i)}(this,s),void 0!==s.start?l(s.start(this._transformStreamController)):l(void 0)}get readable(){if(!vh(this))throw Oh("readable");return this._readable}get writable(){if(!vh(this))throw Oh("writable");return this._writable}}function vh(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function Ah(e,t){Ld(e._readable._readableStreamController,t),kh(e,t)}function kh(e,t){Sh(e._transformStreamController),gd(e._writable._writableStreamController,t),e._backpressure&&_h(e,!1)}function _h(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=cu((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(wh.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(wh.prototype,Xc.toStringTag,{value:"TransformStream",configurable:!0});class Ph{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Eh(this))throw Bh("desiredSize");return zd(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!Eh(this))throw Bh("enqueue");xh(this,e)}error(e=void 0){if(!Eh(this))throw Bh("error");var t;t=e,Ah(this._controlledTransformStream,t)}terminate(){if(!Eh(this))throw Bh("terminate");!function(e){const t=e._controlledTransformStream;Fd(t._readable._readableStreamController),kh(t,new TypeError("TransformStream terminated"))}(this)}}function Eh(e){return!!ru(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function Sh(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function xh(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!qd(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Kd(n,t)}catch(e){throw kh(r,e),r._readable._storedError}const i=function(e){return!Ud(e)}(n);i!==r._backpressure&&_h(r,!0)}function Ch(e,t){return yu(e._transformAlgorithm(t),void 0,(t=>{throw Ah(e._controlledTransformStream,t),t}))}function Bh(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Oh(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(Ph.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Xc.toStringTag&&Object.defineProperty(Ph.prototype,Xc.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Rh=Object.freeze({__proto__:null,ByteLengthQueuingStrategy:uh,CountQueuingStrategy:fh,ReadableByteStreamController:dl,ReadableStream:Yd,ReadableStreamBYOBReader:Tl,ReadableStreamBYOBRequest:ll,ReadableStreamDefaultController:Md,ReadableStreamDefaultReader:Qu,TransformStream:wh,TransformStreamDefaultController:Ph,WritableStream:Gl,WritableStreamDefaultController:dd,WritableStreamDefaultWriter:id}),Ih=function(e,t){return Ih=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Ih(e,t)};function Th(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function r(){this.constructor=e}Ih(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Mh(e){if(!e)throw new TypeError("Assertion failed")}function Nh(){}function Dh(e){return"object"==typeof e&&null!==e||"function"==typeof e}function Uh(e){if("function"!=typeof e)return!1;var t=!1;try{new e({start:function(){t=!0}})}catch(e){}return t}function jh(e){return!!Dh(e)&&"function"==typeof e.getReader}function Fh(e){return!!Dh(e)&&"function"==typeof e.getWriter}function Kh(e){return!!Dh(e)&&!!jh(e.readable)&&!!Fh(e.writable)}function Lh(e){try{return e.getReader({mode:"byob"}).releaseLock(),!0}catch(e){return!1}}function zh(e,t){var r=(void 0===t?{}:t).type;return Mh(jh(e)),Mh(!1===e.locked),"bytes"===(r=qh(r))?new Vh(e):new Gh(e)}function qh(e){var t=e+"";if("bytes"===t)return t;if(void 0===e)return e;throw new RangeError("Invalid type is specified")}var Hh=function(){function e(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return e.prototype.start=function(e){this._readableStreamController=e},e.prototype.cancel=function(e){return Mh(void 0!==this._underlyingReader),this._underlyingReader.cancel(e)},e.prototype._attachDefaultReader=function(){if("default"!==this._readerMode){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},e.prototype._attachReader=function(e){var t=this;Mh(void 0===this._underlyingReader),this._underlyingReader=e;var r=this._underlyingReader.closed;r&&r.then((function(){return t._finishPendingRead()})).then((function(){e===t._underlyingReader&&t._readableStreamController.close()}),(function(r){e===t._underlyingReader&&t._readableStreamController.error(r)})).catch(Nh)},e.prototype._detachReader=function(){void 0!==this._underlyingReader&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},e.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var t=this._underlyingReader.read().then((function(t){var r=e._readableStreamController;t.done?e._tryClose():r.enqueue(t.value)}));return this._setPendingRead(t),t},e.prototype._tryClose=function(){try{this._readableStreamController.close()}catch(e){}},e.prototype._setPendingRead=function(e){var t,r=this,n=function(){r._pendingRead===t&&(r._pendingRead=void 0)};this._pendingRead=t=e.then(n,n)},e.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var t=function(){return e._finishPendingRead()};return this._pendingRead.then(t,t)}},e}(),Gh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Th(t,e),t.prototype.pull=function(){return this._pullWithDefaultReader()},t}(Hh);function Wh(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var Vh=function(e){function t(t){var r=this,n=Lh(t);return(r=e.call(this,t)||this)._supportsByob=n,r}return Th(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),t.prototype._attachByobReader=function(){if("byob"!==this._readerMode){Mh(this._supportsByob),this._detachReader();var e=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(e)}},t.prototype.pull=function(){if(this._supportsByob){var e=this._readableStreamController.byobRequest;if(e)return this._pullWithByobRequest(e)}return this._pullWithDefaultReader()},t.prototype._pullWithByobRequest=function(e){var t=this;this._attachByobReader();var r=new Uint8Array(e.view.byteLength),n=this._underlyingReader.read(r).then((function(r){var n,i,s;t._readableStreamController,r.done?(t._tryClose(),e.respond(0)):(n=r.value,i=e.view,s=Wh(n),Wh(i).set(s,0),e.respond(r.value.byteLength))}));return this._setPendingRead(n),n},t}(Hh);function Jh(e){Mh(Fh(e)),Mh(!1===e.locked);var t=e.getWriter();return new Qh(t)}var Qh=function(){function e(e){var t=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state="writable",this._storedError=void 0,this._underlyingWriter=e,this._errorPromise=new Promise((function(e,r){t._errorPromiseReject=r})),this._errorPromise.catch(Nh)}return e.prototype.start=function(e){var t=this;this._writableStreamController=e,this._underlyingWriter.closed.then((function(){t._state="closed"})).catch((function(e){return t._finishErroring(e)}))},e.prototype.write=function(e){var t=this,r=this._underlyingWriter;if(null===r.desiredSize)return r.ready;var n=r.write(e);n.catch((function(e){return t._finishErroring(e)})),r.ready.catch((function(e){return t._startErroring(e)}));var i=Promise.race([n,this._errorPromise]);return this._setPendingWrite(i),i},e.prototype.close=function(){var e=this;return void 0===this._pendingWrite?this._underlyingWriter.close():this._finishPendingWrite().then((function(){return e.close()}))},e.prototype.abort=function(e){if("errored"!==this._state)return this._underlyingWriter.abort(e)},e.prototype._setPendingWrite=function(e){var t,r=this,n=function(){r._pendingWrite===t&&(r._pendingWrite=void 0)};this._pendingWrite=t=e.then(n,n)},e.prototype._finishPendingWrite=function(){var e=this;if(void 0===this._pendingWrite)return Promise.resolve();var t=function(){return e._finishPendingWrite()};return this._pendingWrite.then(t,t)},e.prototype._startErroring=function(e){var t=this;if("writable"===this._state){this._state="erroring",this._storedError=e;var r=function(){return t._finishErroring(e)};void 0===this._pendingWrite?r():this._finishPendingWrite().then(r,r),this._writableStreamController.error(e)}},e.prototype._finishErroring=function(e){"writable"===this._state&&this._startErroring(e),"erroring"===this._state&&(this._state="errored",this._errorPromiseReject(this._storedError))},e}();function $h(e){Mh(Kh(e));var t=e.readable,r=e.writable;Mh(!1===t.locked),Mh(!1===r.locked);var n,i=t.getReader();try{n=r.getWriter()}catch(e){throw i.releaseLock(),e}return new Zh(i,n)}var Zh=function(){function e(e,t){var r=this;this._transformStreamController=void 0,this._onRead=function(e){if(!e.done)return r._transformStreamController.enqueue(e.value),r._reader.read().then(r._onRead)},this._onError=function(e){r._flushReject(e),r._transformStreamController.error(e),r._reader.cancel(e).catch(Nh),r._writer.abort(e).catch(Nh)},this._onTerminate=function(){r._flushResolve(),r._transformStreamController.terminate();var e=new TypeError("TransformStream terminated");r._writer.abort(e).catch(Nh)},this._reader=e,this._writer=t,this._flushPromise=new Promise((function(e,t){r._flushResolve=e,r._flushReject=t}))}return e.prototype.start=function(e){this._transformStreamController=e,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var t=this._reader.closed;t&&t.then(this._onTerminate,this._onError)},e.prototype.transform=function(e){return this._writer.write(e)},e.prototype.flush=function(){var e=this;return this._writer.close().then((function(){return e._flushPromise}))},e}(),Yh=Object.freeze({__proto__:null,createReadableStreamWrapper:function(e){Mh(function(e){return!!Uh(e)&&!!jh(new e)}(e));var t=function(e){try{return new e({type:"bytes"}),!0}catch(e){return!1}}(e);return function(r,n){var i=(void 0===n?{}:n).type;if("bytes"!==(i=qh(i))||t||(i=void 0),r.constructor===e&&("bytes"!==i||Lh(r)))return r;if("bytes"===i){var s=zh(r,{type:i});return new e(s)}return s=zh(r),new e(s)}},createTransformStreamWrapper:function(e){return Mh(function(e){return!!Uh(e)&&!!Kh(new e)}(e)),function(t){if(t.constructor===e)return t;var r=$h(t);return new e(r)}},createWrappingReadableSource:zh,createWrappingTransformer:$h,createWrappingWritableSink:Jh,createWritableStreamWrapper:function(e){return Mh(function(e){return!!Uh(e)&&!!Fh(new e)}(e)),function(t){if(t.constructor===e)return t;var r=Jh(t);return new e(r)}}}),Xh=it((function(e){!function(e,t){function r(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s=void 0}catch(e){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),s=t;s<i;s++){var a=e.charCodeAt(s)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function o(e,t,r,n){for(var i=0,s=Math.min(e.length,r),a=t;a<s;a++){var o=e.charCodeAt(a)-48;i*=n,i+=o>=49?o-49+10:o>=17?o-17+10:o}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,a,o=0;if("be"===n)for(i=e.length-1,s=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);else if("le"===n)for(i=0,s=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,s=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303,(s+=24)>=26&&(s-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303),this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,a=s%n,c=Math.min(s,s-a)+r,u=0,l=r;l<c;l+=n)u=o(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=o(e,l,e.length,t),l=0;l<a;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],a=i*s,o=67108863&a,c=a/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var p=u-f|0;l+=(a=(i=0|e.words[p])*(s=0|t.words[f])+d)/67108864|0,d=67108863&a}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,s=0,a=0;a<this.length;a++){var o=this.words[a],d=(16777215&(o<<i|s)).toString(16);n=0!=(s=o>>>24-i&16777215)||a!==this.length-1?c[6-d.length]+d+n:d+n,(i+=2)>=26&&(i-=26,a--)}for(0!==s&&(n=s.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=u[e],f=l[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(f).toString(e);n=(p=p.idivn(f)).isZero()?y+n:c[h-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==s),this.toArrayLike(s,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0"),this.strip();var a,o,c="le"===t,u=new e(s),l=this.clone();if(c){for(o=0;!l.isZero();o++)a=l.andln(255),l.iushrn(8),u[o]=a;for(;o<s;o++)u[o]=0}else{for(o=0;o<s-i;o++)u[o]=0;for(o=0;!l.isZero();o++)a=l.andln(255),l.iushrn(8),u[s-o-1]=a}return u},i.prototype._countBits=Math.clz32?function(e){return 32-Math.clz32(e)}:function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return!(8191&t)&&(r+=13,t>>>=13),!(127&t)&&(r+=7,t>>>=7),!(15&t)&&(r+=4,t>>>=4),!(3&t)&&(r+=2,t>>>=2),!(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(!(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(!(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(!(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,a=0;a<n.length;a++)s=(t=(0|r.words[a])-(0|n.words[a])+s)>>26,this.words[a]=67108863&t;for(;0!==s&&a<r.length;a++)s=(t=(0|r.words[a])+s)>>26,this.words[a]=67108863&t;if(0===s&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,r){var n,i,s,a=e.words,o=t.words,c=r.words,u=0,l=0|a[0],d=8191&l,h=l>>>13,f=0|a[1],p=8191&f,y=f>>>13,g=0|a[2],m=8191&g,b=g>>>13,w=0|a[3],v=8191&w,A=w>>>13,k=0|a[4],_=8191&k,P=k>>>13,E=0|a[5],S=8191&E,x=E>>>13,C=0|a[6],B=8191&C,O=C>>>13,R=0|a[7],I=8191&R,T=R>>>13,M=0|a[8],N=8191&M,D=M>>>13,U=0|a[9],j=8191&U,F=U>>>13,K=0|o[0],L=8191&K,z=K>>>13,q=0|o[1],H=8191&q,G=q>>>13,W=0|o[2],V=8191&W,J=W>>>13,Q=0|o[3],$=8191&Q,Z=Q>>>13,Y=0|o[4],X=8191&Y,ee=Y>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ie=0|o[6],se=8191&ie,ae=ie>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,le=0|o[8],de=8191&le,he=le>>>13,fe=0|o[9],pe=8191&fe,ye=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(n=Math.imul(d,L))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(h,L)|0))<<13)|0;u=((s=Math.imul(h,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,L),i=(i=Math.imul(p,z))+Math.imul(y,L)|0,s=Math.imul(y,z);var me=(u+(n=n+Math.imul(d,H)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(h,H)|0))<<13)|0;u=((s=s+Math.imul(h,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,L),i=(i=Math.imul(m,z))+Math.imul(b,L)|0,s=Math.imul(b,z),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,G)|0;var be=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(h,V)|0))<<13)|0;u=((s=s+Math.imul(h,J)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,L),i=(i=Math.imul(v,z))+Math.imul(A,L)|0,s=Math.imul(A,z),n=n+Math.imul(m,H)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(b,H)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,J)|0;var we=(u+(n=n+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,Z)|0)+Math.imul(h,$)|0))<<13)|0;u=((s=s+Math.imul(h,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(_,L),i=(i=Math.imul(_,z))+Math.imul(P,L)|0,s=Math.imul(P,z),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(A,H)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,$)|0,s=s+Math.imul(y,Z)|0;var ve=(u+(n=n+Math.imul(d,X)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,X)|0))<<13)|0;u=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(S,L),i=(i=Math.imul(S,z))+Math.imul(x,L)|0,s=Math.imul(x,z),n=n+Math.imul(_,H)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(P,H)|0,s=s+Math.imul(P,G)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,J)|0,n=n+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,Z)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,X)|0,s=s+Math.imul(y,ee)|0;var Ae=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((s=s+Math.imul(h,ne)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,L),i=(i=Math.imul(B,z))+Math.imul(O,L)|0,s=Math.imul(O,z),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(x,H)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(P,V)|0,s=s+Math.imul(P,J)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,Z)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,s=s+Math.imul(y,ne)|0;var ke=(u+(n=n+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(h,se)|0))<<13)|0;u=((s=s+Math.imul(h,ae)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(I,L),i=(i=Math.imul(I,z))+Math.imul(T,L)|0,s=Math.imul(T,z),n=n+Math.imul(B,H)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,J)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(P,$)|0,s=s+Math.imul(P,Z)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(y,se)|0,s=s+Math.imul(y,ae)|0;var _e=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((s=s+Math.imul(h,ue)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(N,L),i=(i=Math.imul(N,z))+Math.imul(D,L)|0,s=Math.imul(D,z),n=n+Math.imul(I,H)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(T,H)|0,s=s+Math.imul(T,G)|0,n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,Z)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(m,se)|0,i=(i=i+Math.imul(m,ae)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,s=s+Math.imul(y,ue)|0;var Pe=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((s=s+Math.imul(h,he)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,L),i=(i=Math.imul(j,z))+Math.imul(F,L)|0,s=Math.imul(F,z),n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(D,H)|0,s=s+Math.imul(D,G)|0,n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(T,V)|0,s=s+Math.imul(T,J)|0,n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(P,re)|0,s=s+Math.imul(P,ne)|0,n=n+Math.imul(v,se)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,ae)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(b,ce)|0,s=s+Math.imul(b,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,de)|0,s=s+Math.imul(y,he)|0;var Ee=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ye)|0)+Math.imul(h,pe)|0))<<13)|0;u=((s=s+Math.imul(h,ye)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,H),i=(i=Math.imul(j,G))+Math.imul(F,H)|0,s=Math.imul(F,G),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(D,V)|0,s=s+Math.imul(D,J)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(T,$)|0,s=s+Math.imul(T,Z)|0,n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(x,re)|0,s=s+Math.imul(x,ne)|0,n=n+Math.imul(_,se)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(P,se)|0,s=s+Math.imul(P,ae)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(A,ce)|0,s=s+Math.imul(A,ue)|0,n=n+Math.imul(m,de)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(b,de)|0,s=s+Math.imul(b,he)|0;var Se=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((s=s+Math.imul(y,ye)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,V),i=(i=Math.imul(j,J))+Math.imul(F,V)|0,s=Math.imul(F,J),n=n+Math.imul(N,$)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(D,$)|0,s=s+Math.imul(D,Z)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,ee)|0,n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(S,se)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,se)|0,s=s+Math.imul(x,ae)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(P,ce)|0,s=s+Math.imul(P,ue)|0,n=n+Math.imul(v,de)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(A,de)|0,s=s+Math.imul(A,he)|0;var xe=(u+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ye)|0)+Math.imul(b,pe)|0))<<13)|0;u=((s=s+Math.imul(b,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(j,$),i=(i=Math.imul(j,Z))+Math.imul(F,$)|0,s=Math.imul(F,Z),n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(D,X)|0,s=s+Math.imul(D,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(T,re)|0,s=s+Math.imul(T,ne)|0,n=n+Math.imul(B,se)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,ae)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(x,ce)|0,s=s+Math.imul(x,ue)|0,n=n+Math.imul(_,de)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul(P,de)|0,s=s+Math.imul(P,he)|0;var Ce=(u+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(A,pe)|0))<<13)|0;u=((s=s+Math.imul(A,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,X),i=(i=Math.imul(j,ee))+Math.imul(F,X)|0,s=Math.imul(F,ee),n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(D,re)|0,s=s+Math.imul(D,ne)|0,n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(T,se)|0,s=s+Math.imul(T,ae)|0,n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(O,ce)|0,s=s+Math.imul(O,ue)|0,n=n+Math.imul(S,de)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(x,de)|0,s=s+Math.imul(x,he)|0;var Be=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ye)|0)+Math.imul(P,pe)|0))<<13)|0;u=((s=s+Math.imul(P,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(F,re)|0,s=Math.imul(F,ne),n=n+Math.imul(N,se)|0,i=(i=i+Math.imul(N,ae)|0)+Math.imul(D,se)|0,s=s+Math.imul(D,ae)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(T,ce)|0,s=s+Math.imul(T,ue)|0,n=n+Math.imul(B,de)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(O,de)|0,s=s+Math.imul(O,he)|0;var Oe=(u+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(x,pe)|0))<<13)|0;u=((s=s+Math.imul(x,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,se),i=(i=Math.imul(j,ae))+Math.imul(F,se)|0,s=Math.imul(F,ae),n=n+Math.imul(N,ce)|0,i=(i=i+Math.imul(N,ue)|0)+Math.imul(D,ce)|0,s=s+Math.imul(D,ue)|0,n=n+Math.imul(I,de)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(T,de)|0,s=s+Math.imul(T,he)|0;var Re=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(O,pe)|0))<<13)|0;u=((s=s+Math.imul(O,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,ce),i=(i=Math.imul(j,ue))+Math.imul(F,ce)|0,s=Math.imul(F,ue),n=n+Math.imul(N,de)|0,i=(i=i+Math.imul(N,he)|0)+Math.imul(D,de)|0,s=s+Math.imul(D,he)|0;var Ie=(u+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,ye)|0)+Math.imul(T,pe)|0))<<13)|0;u=((s=s+Math.imul(T,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,de),i=(i=Math.imul(j,he))+Math.imul(F,de)|0,s=Math.imul(F,he);var Te=(u+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,ye)|0)+Math.imul(D,pe)|0))<<13)|0;u=((s=s+Math.imul(D,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863;var Me=(u+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,ye))+Math.imul(F,pe)|0))<<13)|0;return u=((s=Math.imul(F,ye))+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,c[0]=ge,c[1]=me,c[2]=be,c[3]=we,c[4]=ve,c[5]=Ae,c[6]=ke,c[7]=_e,c[8]=Pe,c[9]=Ee,c[10]=Se,c[11]=xe,c[12]=Ce,c[13]=Be,c[14]=Oe,c[15]=Re,c[16]=Ie,c[17]=Te,c[18]=Me,0!==u&&(c[19]=u,r.length++),r};function f(e,t,r){return(new p).mulp(e,t,r)}function p(e,t){this.x=e,this.y=t}Math.imul||(h=d),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?h(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var a=i;i=0;for(var o=67108863&n,c=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=c;u++){var l=s-u,d=(0|e.words[l])*(0|t.words[u]),h=67108863&d;o=67108863&(h=h+o|0),i+=(a=(a=a+(d/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[s]=o,n=a,a=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):f(this,e,t),r},p.prototype.makeRBT=function(e){for(var t=Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},p.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},p.prototype.permute=function(e,t,r,n,i,s){for(var a=0;a<s;a++)n[a]=t[e[a]],i[a]=r[e[a]]},p.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var o=a<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),l=0;l<i;l+=o)for(var d=c,h=u,f=0;f<a;f++){var p=r[l+f],y=n[l+f],g=r[l+f+a],m=n[l+f+a],b=d*g-h*m;m=d*m+h*g,g=b,r[l+f]=p+g,n[l+f]=y+m,r[l+f+a]=p-g,n[l+f+a]=y-m,f!==o&&(b=c*d-u*h,h=c*h+u*d,d=b)}},p.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},p.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},p.prototype.convert13b=function(e,t,n,i){for(var s=0,a=0;a<t;a++)s+=0|e[a],n[2*a]=8191&s,s>>>=13,n[2*a+1]=8191&s,s>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===s),r(!(-8192&s))},p.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},p.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),a=Array(n),o=Array(n),c=Array(n),u=Array(n),l=Array(n),d=Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,s,o,c,n,i),this.transform(u,s,l,d,n,i);for(var f=0;f<n;f++){var p=o[f]*l[f]-c[f]*d[f];c[f]=o[f]*d[f]+c[f]*l[f],o[f]=p}return this.conjugate(o,c,n),this.transform(o,c,h,s,n,i),this.conjugate(h,s,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=Array(this.length+e.length),f(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[n]=67108863&s}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var s=r.sqr();n<t.length;n++,s=s.sqr())0!==t[n]&&(r=r.mul(s));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&s,c=(0|this.words[t])-o<<n;this.words[t]=c|a,a=o>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,a=Math.min((e-s)/26,this.length),o=67108863^67108863>>>s<<s,c=n;if(i=Math.max(0,i-=a),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var d=0|this.words[u];this.words[u]=l<<26-s|d>>>s,l=d&o}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,s,a=e.length+n;this._expand(a);var o=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+o;var c=(0|e.words[i])*t;o=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)o=(s=(0|this.words[i+n])+o)>>26,this.words[i+n]=67108863&s;if(0===o)return this.strip();for(r(-1===o),o=0,i=0;i<this.length;i++)o=(s=-(0|this.words[i])+o)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),s=e,a=0|s.words[s.length-1];0!=(r=26-this._countBits(a))&&(s=s.ushln(r),n.iushln(r),a=0|s.words[s.length-1]);var o,c=n.length-s.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var l=n.clone()._ishlnsubmul(s,1,c);0===l.negative&&(n=l,o&&(o.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|n.words[s.length+d])+(0|n.words[s.length+d-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(s,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(s,1,d),n.isZero()||(n.negative^=1);o&&(o.words[d]=h)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(a=o.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:s,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):this.negative&e.negative?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var s,a,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new i(1),a=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;!(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(s.isOdd()||a.isOdd())&&(s.iadd(l),a.isub(d)),s.iushrn(1),a.iushrn(1);for(var p=0,y=1;!(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(l),c.isub(d)),o.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(o),a.isub(c)):(n.isub(t),o.isub(s),c.isub(a))}return{a:o,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,a=new i(1),o=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;!(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,h=1;!(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(o)):(n.isub(t),o.isub(a))}return(s=0===t.cmpn(1)?a:o).cmpn(0)<0&&s.iadd(e),s},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,a=n;0!==s&&a<this.length;a++){var o=0|this.words[a];s=(o+=s)>>>26,o&=67108863,this.words[a]=o}return 0!==s&&(this.words[a]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new A(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new i(null);return e.words=Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},n(m,g),m.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|s>>>22,s=a}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(b,g),n(w,g),n(v,g),v.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new b;else if("p192"===e)t=new w;else{if("p25519"!==e)throw Error("Unknown prime "+e);t=new v}return y[e]=t,t},A.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){r(!(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var s=this.m.subn(1),a=0;!s.isZero()&&0===s.andln(1);)a++,s.iushrn(1);r(!s.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,s),h=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=a;0!==f.cmp(o);){for(var y=f,g=0;0!==y.cmp(o);g++)y=y.redSqr();r(g<p);var m=this.pow(d,new i(1).iushln(p-g-1));h=h.redMul(m),d=m.redSqr(),f=f.redMul(d),p=g}return h},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var s=r[0],a=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;s!==r[0]&&(s=this.sqr(s)),0!==d||0!==a?(a<<=1,a|=d,(4==++o||0===n&&0===l)&&(s=this.mul(s,r[a]),o=0,a=0)):o=0}c=26}return s},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},n(k,A),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(n).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,nt)})),ef=Object.freeze({__proto__:null,default:Xh,__moduleExports:Xh});class tf{constructor(e){if(void 0===e)throw Error("Invalid BigInteger input");this.value=new Xh(e)}clone(){const e=new tf(null);return this.value.copy(e.value),e}iinc(){return this.value.iadd(new Xh(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new Xh(1)),this}dec(){return this.clone().idec()}iadd(e){return this.value.iadd(e.value),this}add(e){return this.clone().iadd(e)}isub(e){return this.value.isub(e.value),this}sub(e){return this.clone().isub(e)}imul(e){return this.value.imul(e.value),this}mul(e){return this.clone().imul(e)}imod(e){return this.value=this.value.umod(e.value),this}mod(e){return this.clone().imod(e)}modExp(e,t){const r=t.isEven()?Xh.red(t.value):Xh.mont(t.value),n=this.clone();return n.value=n.value.toRed(r).redPow(e.value).fromRed(),n}modInv(e){if(!this.gcd(e).isOne())throw Error("Inverse does not exist");return new tf(this.value.invm(e.value))}gcd(e){return new tf(this.value.gcd(e.value))}ileftShift(e){return this.value.ishln(e.value.toNumber()),this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value.ishrn(e.value.toNumber()),this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value.eq(e.value)}lt(e){return this.value.lt(e.value)}lte(e){return this.value.lte(e.value)}gt(e){return this.value.gt(e.value)}gte(e){return this.value.gte(e.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new Xh(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){const e=this.clone();return e.value=e.value.abs(),e}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(e){return this.value.testn(e)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(e="be",t){return this.value.toArrayLike(Uint8Array,e,t)}}var rf,nf=Object.freeze({__proto__:null,default:tf}),sf=it((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,a=255&i;s?r.push(s,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),af=it((function(e,t){var r=t;r.assert=tt,r.toArray=sf.toArray,r.zero2=sf.zero2,r.toHex=sf.toHex,r.encode=sf.encode,r.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var s;if(i.isOdd()){var a=i.andln(n-1);s=a>(n>>1)-1?(n>>1)-a:a,i.isubn(s)}else s=0;r.push(s);for(var o=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,c=1;c<o;c++)r.push(0);i.iushrn(o)}return r},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var s,a,o,c=e.andln(3)+n&3,u=t.andln(3)+i&3;3===c&&(c=-1),3===u&&(u=-1),s=1&c?3!=(o=e.andln(7)+n&7)&&5!==o||2!==u?c:-c:0,r[0].push(s),a=1&u?3!=(o=t.andln(7)+i&7)&&5!==o||2!==c?u:-u:0,r[1].push(a),2*n===s+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new Xh(e,"hex","le")}})),of=function(e){return rf||(rf=new cf(null)),rf.generate(e)};function cf(e){this.rand=e}var uf=cf;if(cf.prototype.generate=function(e){return this._rand(e)},cf.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?cf.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?cf.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(cf.prototype._rand=function(){throw Error("Not implemented yet")});else try{var lf=void 0;if("function"!=typeof lf.randomBytes)throw Error("Not supported");cf.prototype._rand=function(e){return lf.randomBytes(e)}}catch(n){}of.Rand=uf;var df=af.getNAF,hf=af.getJSF,ff=af.assert;function pf(e,t){this.type=e,this.p=new Xh(t.p,16),this.red=t.prime?Xh.red(t.prime):Xh.mont(this.p),this.zero=new Xh(0).toRed(this.red),this.one=new Xh(1).toRed(this.red),this.two=new Xh(2).toRed(this.red),this.n=t.n&&new Xh(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,];var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var yf=pf;function gf(e,t){this.curve=e,this.type=t,this.precomputed=null}pf.prototype.point=function(){throw Error("Not implemented")},pf.prototype.validate=function(){throw Error("Not implemented")},pf.prototype._fixedNafMul=function(e,t){ff(e.precomputed);var r=e._getDoubles(),n=df(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],a=0;a<n.length;a+=r.step){var o=0;for(t=a+r.step-1;t>=a;t--)o=(o<<1)+n[t];s.push(o)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),l=i;l>0;l--){for(a=0;a<s.length;a++)(o=s[a])===l?u=u.mixedAdd(r.points[a]):o===-l&&(u=u.mixedAdd(r.points[a].neg()));c=c.add(u)}return c.toP()},pf.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=df(t,r),a=this.jpoint(null,null,null),o=s.length-1;o>=0;o--){for(t=0;o>=0&&0===s[o];o--)t++;if(o>=0&&t++,a=a.dblp(t),o<0)break;var c=s[o];ff(0!==c),a="affine"===e.type?c>0?a.mixedAdd(i[c-1>>1]):a.mixedAdd(i[-c-1>>1].neg()):c>0?a.add(i[c-1>>1]):a.add(i[-c-1>>1].neg())}return"affine"===e.type?a.toP():a},pf.prototype._wnafMulAdd=function(e,t,r,n,i){for(var s=this._wnafT1,a=this._wnafT2,o=this._wnafT3,c=0,u=0;u<n;u++){var l=(_=t[u])._getNAFPoints(e);s[u]=l.wnd,a[u]=l.points}for(u=n-1;u>=1;u-=2){var d=u-1,h=u;if(1===s[d]&&1===s[h]){var f=[t[d],null,null,t[h]];0===t[d].y.cmp(t[h].y)?(f[1]=t[d].add(t[h]),f[2]=t[d].toJ().mixedAdd(t[h].neg())):0===t[d].y.cmp(t[h].y.redNeg())?(f[1]=t[d].toJ().mixedAdd(t[h]),f[2]=t[d].add(t[h].neg())):(f[1]=t[d].toJ().mixedAdd(t[h]),f[2]=t[d].toJ().mixedAdd(t[h].neg()));var p=[-3,-1,-5,-7,0,7,5,1,3],y=hf(r[d],r[h]);c=Math.max(y[0].length,c),o[d]=Array(c),o[h]=Array(c);for(var g=0;g<c;g++){var m=0|y[0][g],b=0|y[1][g];o[d][g]=p[3*(m+1)+(b+1)],o[h][g]=0,a[d]=f}}else o[d]=df(r[d],s[d]),o[h]=df(r[h],s[h]),c=Math.max(o[d].length,c),c=Math.max(o[h].length,c)}var w=this.jpoint(null,null,null),v=this._wnafT4;for(u=c;u>=0;u--){for(var A=0;u>=0;){var k=!0;for(g=0;g<n;g++)v[g]=0|o[g][u],0!==v[g]&&(k=!1);if(!k)break;A++,u--}if(u>=0&&A++,w=w.dblp(A),u<0)break;for(g=0;g<n;g++){var _,P=v[g];0!==P&&(P>0?_=a[g][P-1>>1]:P<0&&(_=a[g][-P-1>>1].neg()),w="affine"===_.type?w.mixedAdd(_):w.add(_))}}for(u=0;u<n;u++)a[u]=null;return i?w:w.toP()},pf.BasePoint=gf,gf.prototype.eq=function(){throw Error("Not implemented")},gf.prototype.validate=function(){return this.curve.validate(this)},pf.prototype.decodePoint=function(e,t){e=af.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?ff(e[e.length-1]%2==0):7===e[0]&&ff(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},gf.prototype.encodeCompressed=function(e){return this.encode(e,!0)},gf.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},gf.prototype.encode=function(e,t){return af.encode(this._encode(t),e)},gf.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},gf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},gf.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},gf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},gf.prototype._getBeta=function(){return null},gf.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var mf=af.assert;function bf(e){yf.call(this,"short",e),this.a=new Xh(e.a,16).toRed(this.red),this.b=new Xh(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}at(bf,yf);var wf=bf;function vf(e,t,r,n){yf.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Xh(t,16),this.y=new Xh(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Af(e,t,r,n){yf.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Xh(0)):(this.x=new Xh(t,16),this.y=new Xh(r,16),this.z=new Xh(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function kf(e){yf.call(this,"mont",e),this.a=new Xh(e.a,16).toRed(this.red),this.b=new Xh(e.b,16).toRed(this.red),this.i4=new Xh(4).toRed(this.red).redInvm(),this.two=new Xh(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}bf.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new Xh(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Xh(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],mf(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new Xh(e.a,16),b:new Xh(e.b,16)}})):this._getEndoBasis(r)}}},bf.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Xh.mont(e),r=new Xh(2).toRed(t).redInvm(),n=r.redNeg(),i=new Xh(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},bf.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,a,o,c,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),f=new Xh(1),p=new Xh(0),y=new Xh(0),g=new Xh(1),m=0;0!==d.cmpn(0);){var b=h.div(d);c=h.sub(b.mul(d)),u=y.sub(b.mul(f));var w=g.sub(b.mul(p));if(!n&&c.cmp(l)<0)t=o.neg(),r=f,n=c.neg(),i=u;else if(n&&2==++m)break;o=c,h=d,d=c,y=f,f=u,g=p,p=w}s=c.neg(),a=u;var v=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(v)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},bf.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),o=s.mul(n.a),c=i.mul(r.b),u=s.mul(n.b);return{k1:e.sub(a).sub(o),k2:c.add(u).neg()}},bf.prototype.pointFromX=function(e,t){(e=new Xh(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},bf.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},bf.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),o=e[s],c=o._getBeta();a.k1.negative&&(a.k1.ineg(),o=o.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*s]=o,n[2*s+1]=c,i[2*s]=a.k1,i[2*s+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return u},at(vf,yf.BasePoint),bf.prototype.point=function(e,t,r){return new vf(this,e,t,r)},bf.prototype.pointFromJSON=function(e,t){return vf.fromJSON(this,e,t)},vf.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},vf.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},vf.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},vf.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},vf.prototype.isInfinity=function(){return this.inf},vf.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},vf.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)},vf.prototype.getX=function(){return this.x.fromRed()},vf.prototype.getY=function(){return this.y.fromRed()},vf.prototype.mul=function(e){return e=new Xh(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},vf.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},vf.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},vf.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},vf.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},vf.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},at(Af,yf.BasePoint),bf.prototype.jpoint=function(e,t,r){return new Af(this,e,t,r)},Af.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Af.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Af.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),c=s.redSub(a);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),l=u.redMul(o),d=n.redMul(u),h=c.redSqr().redIAdd(l).redISub(d).redISub(d),f=c.redMul(d.redISub(h)).redISub(s.redMul(l)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(h,f,p)},Af.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),a=r.redSub(n),o=i.redSub(s);if(0===a.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=r.redMul(c),d=o.redSqr().redIAdd(u).redISub(l).redISub(l),h=o.redMul(l.redISub(d)).redISub(i.redMul(u)),f=this.z.redMul(a);return this.curve.jpoint(d,h,f)},Af.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,o=this.z,c=o.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var l=s.redSqr(),d=u.redSqr(),h=d.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=s.redMul(d),y=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(y),m=f.redMul(g);m=m.redIAdd(m).redISub(h);var b=u.redMul(o);r+1<e&&(c=c.redMul(h)),s=y,o=b,u=m}return this.curve.jpoint(s,u.redMul(i),o)},Af.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Af.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),f=this.x.redAdd(d).redSqr().redISub(l).redISub(h);f=f.redIAdd(f);var p=l.redAdd(l).redIAdd(l),y=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=y.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Af.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(a).redISub(a);e=c;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var p=h.redIAdd(h),y=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},Af.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),a=r.redSqr(),o=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),l=o.redSqr().redISub(u.redAdd(u)),d=u.redISub(l),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=o.redMul(d).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,f,p)},Af.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(s).redISub(o).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.x.redMul(o).redISub(l);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(o)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=this.z.redAdd(a).redSqr().redISub(r).redISub(o);return this.curve.jpoint(d,h,f)},Af.prototype.mul=function(e,t){return e=new Xh(e,t),this.curve._wnafMul(this,e)},Af.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Af.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Af.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Af.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},at(kf,yf);var _f=kf;function Pf(e,t,r){yf.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Xh(t,16),this.z=new Xh(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}kf.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},at(Pf,yf.BasePoint),kf.prototype.decodePoint=function(e,t){if(33===(e=af.toArray(e,t)).length&&64===e[0]&&(e=e.slice(1,33).reverse()),32!==e.length)throw Error("Unknown point compression format");return this.point(e,1)},kf.prototype.point=function(e,t){return new Pf(this,e,t)},kf.prototype.pointFromJSON=function(e){return Pf.fromJSON(this,e)},Pf.prototype.precompute=function(){},Pf.prototype._encode=function(e){var t=this.curve.p.byteLength();return e?[64].concat(this.getX().toArray("le",t)):this.getX().toArray("be",t)},Pf.fromJSON=function(e,t){return new Pf(e,t[0],t[1]||e.one)},Pf.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Pf.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Pf.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Pf.prototype.add=function(){throw Error("Not supported on Montgomery curve")},Pf.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),a=i.redMul(n),o=t.z.redMul(s.redAdd(a).redSqr()),c=t.x.redMul(s.redISub(a).redSqr());return this.curve.point(o,c)},Pf.prototype.mul=function(e){for(var t=(e=new Xh(e,16)).clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Pf.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},Pf.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},Pf.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Pf.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Pf.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Ef=af.assert;function Sf(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,yf.call(this,"edwards",e),this.a=new Xh(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Xh(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Xh(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Ef(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}at(Sf,yf);var xf=Sf;function Cf(e,t,r,n,i){yf.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Xh(t,16),this.y=new Xh(r,16),this.z=n?new Xh(n,16):this.curve.one,this.t=i&&new Xh(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Sf.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},Sf.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},Sf.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},Sf.prototype.pointFromX=function(e,t){(e=new Xh(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw Error("invalid point");var o=a.fromRed().isOdd();return(t&&!o||!t&&o)&&(a=a.redNeg()),this.point(e,a)},Sf.prototype.pointFromY=function(e,t){(e=new Xh(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(i.redInvm());if(0===s.cmp(this.zero)){if(t)throw Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},Sf.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},at(Cf,yf.BasePoint),Sf.prototype.pointFromJSON=function(e){return Cf.fromJSON(this,e)},Sf.prototype.point=function(e,t,r,n){return new Cf(this,e,t,r,n)},Cf.fromJSON=function(e,t){return new Cf(e,t[0],t[1],t[2])},Cf.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Cf.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Cf.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),a=s.redSub(r),o=n.redSub(t),c=i.redMul(a),u=s.redMul(o),l=i.redMul(o),d=a.redMul(s);return this.curve.point(c,u,d,l)},Cf.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var a=(u=this.curve._mulA(i)).redAdd(s);if(this.zOne)e=n.redSub(i).redSub(s).redMul(a.redSub(this.curve.two)),t=a.redMul(u.redSub(s)),r=a.redSqr().redSub(a).redSub(a);else{var o=this.z.redSqr(),c=a.redSub(o).redISub(o);e=n.redSub(i).redISub(s).redMul(c),t=a.redMul(u.redSub(s)),r=a.redMul(c)}}else{var u=i.redAdd(s);o=this.curve._mulC(this.z).redSqr(),c=u.redSub(o).redSub(o),e=this.curve._mulC(n.redISub(u)).redMul(c),t=this.curve._mulC(u).redMul(i.redISub(s)),r=u.redMul(c)}return this.curve.point(e,t,r)},Cf.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Cf.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),a=i.redSub(n),o=i.redAdd(n),c=r.redAdd(t),u=s.redMul(a),l=o.redMul(c),d=s.redMul(c),h=a.redMul(o);return this.curve.point(u,l,h,d)},Cf.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(s).redMul(a),c=i.redSub(o),u=i.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(a),d=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(s))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(s)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},Cf.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Cf.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Cf.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Cf.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Cf.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Cf.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Cf.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Cf.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Cf.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Cf.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},Cf.prototype.toP=Cf.prototype.normalize,Cf.prototype.mixedAdd=Cf.prototype.add;var Bf=it((function(e,t){var r=t;r.base=yf,r.short=wf,r.mont=_f,r.edwards=xf})),Of=lt.rotl32,Rf=lt.sum32,If=lt.sum32_5,Tf=function(e,t,r,n){return 0===e?yt(t,r,n):1===e||3===e?function(e,t,r){return e^t^r}(t,r,n):2===e?gt(t,r,n):void 0},Mf=ft.BlockHash,Nf=[1518500249,1859775393,2400959708,3395469782];function Df(){if(!(this instanceof Df))return new Df;Mf.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}lt.inherits(Df,Mf);var Uf=Df;Df.blockSize=512,Df.outSize=160,Df.hmacStrength=80,Df.padLength=64,Df.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Of(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=If(Of(i,5),Tf(u,s,a,o),c,r[n],Nf[u]);c=o,o=a,a=Of(s,30),s=i,i=l}this.h[0]=Rf(this.h[0],i),this.h[1]=Rf(this.h[1],s),this.h[2]=Rf(this.h[2],a),this.h[3]=Rf(this.h[3],o),this.h[4]=Rf(this.h[4],c)},Df.prototype._digest=function(e){return"hex"===e?lt.toHex32(this.h,"big"):lt.split32(this.h,"big")};var jf={sha1:Uf,sha224:Tt,sha256:Rt,sha384:cr,sha512:Jt};function Ff(e,t,r){if(!(this instanceof Ff))return new Ff(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(lt.toArray(t,r))}var Kf=Ff;Ff.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),tt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Ff.prototype.update=function(e,t){return this.inner.update(e,t),this},Ff.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var Lf=it((function(e,t){var r=t;r.utils=lt,r.common=ft,r.sha=jf,r.ripemd=_r,r.hmac=Kf,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),zf={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},qf=it((function(e,t){var r,n=t,i=af.assert;function s(e){if("short"===e.type)this.curve=new Bf.short(e);else if("edwards"===e.type)this.curve=new Bf.edwards(e);else{if("mont"!==e.type)throw Error("Unknown curve type.");this.curve=new Bf.mont(e)}this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function a(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Lf.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Lf.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Lf.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Lf.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Lf.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:Lf.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:Lf.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),a("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:Lf.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),a("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:Lf.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),a("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:Lf.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{r=zf}catch(e){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Lf.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Hf(e){if(!(this instanceof Hf))return new Hf(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=sf.toArray(e.entropy,e.entropyEnc||"hex"),r=sf.toArray(e.nonce,e.nonceEnc||"hex"),n=sf.toArray(e.pers,e.persEnc||"hex");tt(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Gf=Hf;Hf.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Hf.prototype._hmac=function(){return new Lf.hmac(this.hash,this.K)},Hf.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Hf.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=sf.toArray(e,t),r=sf.toArray(r,n),tt(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Hf.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=sf.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,sf.encode(s,t)};var Wf=af.assert;function Vf(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Jf=Vf;Vf.fromPublic=function(e,t,r){return t instanceof Vf?t:new Vf(e,{pub:t,pubEnc:r})},Vf.fromPrivate=function(e,t,r){return t instanceof Vf?t:new Vf(e,{priv:t,privEnc:r})},Vf.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Vf.prototype.getPublic=function(e,t){return this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Vf.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Vf.prototype._importPrivate=function(e,t){if(this.priv=new Xh(e,t||16),"mont"===this.ec.curve.type){var r=this.ec.curve.one,n=r.ushln(252).sub(r).ushln(3);this.priv=this.priv.or(r.ushln(254)),this.priv=this.priv.and(n)}else this.priv=this.priv.umod(this.ec.curve.n)},Vf.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Wf(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Wf(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Vf.prototype.derive=function(e){return e.mul(this.priv).getX()},Vf.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Vf.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Vf.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Qf=af.assert;function $f(e,t){if(e instanceof $f)return e;this._importDER(e,t)||(Qf(e.r&&e.s,"Signature without r or s"),this.r=new Xh(e.r,16),this.s=new Xh(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Zf=$f;function Yf(){this.place=0}function Xf(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,s=0,a=t.place;s<n;s++,a++)i<<=8,i|=e[a];return t.place=a,i}function ep(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function tp(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}$f.prototype._importDER=function(e,t){e=af.toArray(e,t);var r=new Yf;if(48!==e[r.place++])return!1;if(Xf(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var n=Xf(e,r),i=e.slice(r.place,n+r.place);if(r.place+=n,2!==e[r.place++])return!1;var s=Xf(e,r);if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);return 0===i[0]&&128&i[1]&&(i=i.slice(1)),0===a[0]&&128&a[1]&&(a=a.slice(1)),this.r=new Xh(i),this.s=new Xh(a),this.recoveryParam=null,!0},$f.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=ep(t),r=ep(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];tp(n,t.length),(n=n.concat(t)).push(2),tp(n,r.length);var i=n.concat(r),s=[48];return tp(s,i.length),s=s.concat(i),af.encode(s,e)};var rp=af.assert;function np(e){if(!(this instanceof np))return new np(e);"string"==typeof e&&(rp(qf.hasOwnProperty(e),"Unknown curve "+e),e=qf[e]),e instanceof qf.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ip=np;np.prototype.keyPair=function(e){return new Jf(this,e)},np.prototype.keyFromPrivate=function(e,t){return Jf.fromPrivate(this,e,t)},np.prototype.keyFromPublic=function(e,t){return Jf.fromPublic(this,e,t)},np.prototype.genKeyPair=function(e){e||(e={});var t=new Gf({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||of(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if("mont"===this.curve.type){var r=new Xh(t.generate(32));return this.keyFromPrivate(r)}for(var n=this.n.byteLength(),i=this.n.sub(new Xh(2));;)if(!((r=new Xh(t.generate(n))).cmp(i)>0))return r.iaddn(1),this.keyFromPrivate(r)},np.prototype._truncateToN=function(e,t,r){var n=(r=r||8*e.byteLength())-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},np.prototype.truncateMsg=function(e){var t;return e instanceof Uint8Array?(t=8*e.byteLength,e=this._truncateToN(new Xh(e,16),!1,t)):"string"==typeof e?(t=4*e.length,e=this._truncateToN(new Xh(e,16),!1,t)):e=this._truncateToN(new Xh(e,16)),e},np.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this.truncateMsg(e);for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),a=e.toArray("be",i),o=new Gf({hash:this.hash,entropy:s,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Xh(1)),u=0;;u++){var l=n.k?n.k(u):new Xh(o.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(c)>=0)){var d=this.g.mul(l);if(!d.isInfinity()){var h=d.getX(),f=h.umod(this.n);if(0!==f.cmpn(0)){var p=l.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var y=(d.getY().isOdd()?1:0)|(0!==h.cmp(f)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),y^=1),new Zf({r:f,s:p,recoveryParam:y})}}}}}},np.prototype.verify=function(e,t,r,n){return r=this.keyFromPublic(r,n),t=new Zf(t,"hex"),this._verify(this.truncateMsg(e),t,r)||this._verify(this._truncateToN(new Xh(e,16)),t,r)},np.prototype._verify=function(e,t,r){var n=t.r,i=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var s,a=i.invm(this.n),o=a.mul(e).umod(this.n),c=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(o,r.getPublic(),c)).isInfinity()&&s.eqXToP(n):!(s=this.g.mulAdd(o,r.getPublic(),c)).isInfinity()&&0===s.getX().umod(this.n).cmp(n)},np.prototype.recoverPubKey=function(e,t,r,n){rp((3&r)===r,"The recovery param is more than two bits"),t=new Zf(t,n);var i=this.n,s=new Xh(e),a=t.r,o=t.s,c=1&r,u=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw Error("Unable to find sencond key candinate");a=u?this.curve.pointFromX(a.add(this.curve.n),c):this.curve.pointFromX(a,c);var l=t.r.invm(i),d=i.sub(s).mul(l).umod(i),h=o.mul(l).umod(i);return this.g.mulAdd(d,a,h)},np.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Zf(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw Error("Unable to find valid recovery factor")};var sp=af.assert,ap=af.parseBytes,op=af.cachedProperty;function cp(e,t){if(this.eddsa=e,t.hasOwnProperty("secret")&&(this._secret=ap(t.secret)),e.isPoint(t.pub))this._pub=t.pub;else if(this._pubBytes=ap(t.pub),this._pubBytes&&33===this._pubBytes.length&&64===this._pubBytes[0]&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&32!==this._pubBytes.length)throw Error("Unknown point compression format")}cp.fromPublic=function(e,t){return t instanceof cp?t:new cp(e,{pub:t})},cp.fromSecret=function(e,t){return t instanceof cp?t:new cp(e,{secret:t})},cp.prototype.secret=function(){return this._secret},op(cp,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),op(cp,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),op(cp,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),op(cp,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),op(cp,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),op(cp,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),cp.prototype.sign=function(e){return sp(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},cp.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},cp.prototype.getSecret=function(e){return sp(this._secret,"KeyPair is public only"),af.encode(this.secret(),e)},cp.prototype.getPublic=function(e,t){return af.encode((t?[64]:[]).concat(this.pubBytes()),e)};var up=cp,lp=af.assert,dp=af.cachedProperty,hp=af.parseBytes;function fp(e,t){this.eddsa=e,"object"!=typeof t&&(t=hp(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),lp(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Xh&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}dp(fp,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),dp(fp,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),dp(fp,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),dp(fp,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),fp.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},fp.prototype.toHex=function(){return af.encode(this.toBytes(),"hex").toUpperCase()};var pp=fp,yp=af.assert,gp=af.parseBytes;function mp(e){if(yp("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof mp))return new mp(e);e=qf[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Lf.sha512}var bp=mp;mp.prototype.sign=function(e,t){e=gp(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),a=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),o=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:s})},mp.prototype.verify=function(e,t,r){e=gp(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},mp.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return af.intFromLE(e.digest()).umod(this.curve.n)},mp.prototype.keyPair=function(e){return new up(this,e)},mp.prototype.keyFromPublic=function(e){return up.fromPublic(this,e)},mp.prototype.keyFromSecret=function(e){return up.fromSecret(this,e)},mp.prototype.genKeyPair=function(e){e||(e={});var t=new Gf({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||of(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(t.generate(32))},mp.prototype.makeSignature=function(e){return e instanceof pp?e:new pp(this,e)},mp.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},mp.prototype.decodePoint=function(e){var t=(e=af.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=af.intFromLE(r);return this.curve.pointFromY(i,n)},mp.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},mp.prototype.decodeInt=function(e){return af.intFromLE(e)},mp.prototype.isPoint=function(e){return e instanceof this.pointClass};var wp=it((function(e,t){var r=t;r.utils=af,r.rand=of,r.curve=Bf,r.curves=qf,r.ec=ip,r.eddsa=bp})),vp=Object.freeze({__proto__:null,default:wp,__moduleExports:wp})}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{ConetClass:()=>a});const{ethers:e}=r(4193),t=r(5604),i=r(3876);let s=null;class a{static async createGPGKey(e,r,n){const i={type:"ecc",passphrase:e,userIDs:[{name:r,email:n}],curve:"curve25519",format:"armored"};return await t.generateKey(i)}static async initCoNET_Data(e=""){const t=this.createKeyHDWallets();t&&await this.initSystemDataV1(t)}static createKeyHDWallets(){try{return e.Wallet.createRandom()}catch(e){return null}}static async initSystemDataV1(e){const t=await this.createGPGKey("","",""),r={tokens:null,publicKeyArmor:e.publicKey,keyID:e.address,isPrimary:!0,referrer:null,isNode:!1,pgpKey:{privateKeyArmor:t.privateKey,publicKeyArmor:t.publicKey},privateKeyArmor:e.signingKey.privateKey,hdPath:e.path,index:e.index};s?(s.profiles=[r],s.isReady=!0,s.mnemonicPhrase=e.mnemonic.phrase,s.upgradev2=!0):s={mnemonicPhrase:e.mnemonic.phrase,profiles:[r],isReady:!0,nonce:0,upgradev2:!0,ver:0}}static async storageHashData(e,t){const r=new i("CoNET",{auto_compaction:!0}),n={_id:e,title:t};try{const t=await r.get(e,{latest:!0});n._rev=t._rev,await r.put(n)}catch(e){/^not_found/.test(e.name)?await r.put(n):console.log("storageHashData Error!",e)}}static async storeSystemData(){}static async createAccount(){await this.initCoNET_Data(),await this.storeSystemData();const e=s.mnemonicPhrase;console.log(e)}}(new a).createAccount()})(),Sentimentalist=n})();